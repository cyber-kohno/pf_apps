(this.webpackJsonpparticle_simulator=this.webpackJsonpparticle_simulator||[]).push([[0],{65:function(e,n,t){},72:function(e,n){},74:function(e,n){},8:function(e,n,t){"use strict";(function(e){var a,r=t(7),i=t.n(r),c=t(10),o=t(38),l=t.n(o),s=t(28),d=t(41);!function(n){var t=n.DB_SERVER_DOMAIN="http://localhost:5001",r=n.APP_SERVER_DOMAIN="http://localhost:4333",o=function(){return new d.a("pa-user",8)},u=(n.getHashedFromUserSeq=function(e){var n=o().encode(e);return s.a.encode(n,!0)},n.getDecryptionedUserSeq=function(e){var n=o();return Number(n.decode(s.a.decode(e)))},function(){return new d.a("pa",8)}),b=n.getHashedFromScoreSeq=function(e){var n=u().encode(e);return s.a.encode(n,!0)},h=(n.getDecryptionedScoreSeq=function(e){var n=u();return Number(n.decode(s.a.decode(e)))},n.getPreviewURL=function(e){var n=b(e);return"".concat(r,"/#/preview?v=").concat(n)},n.sendQueryRequestToMailAPI=function(e){return fetch(t+"/mail",function(e){return{mode:"cors",method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(e)}}(e))},n.sendQueryRequestToAPI=function(e,n){return fetch(t+"/"+e,function(e){return{mode:"cors",method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({sql:e,databaseName:"pa"})}}(n))}),p=n.findUserInfoList=Object(c.a)(i.a.mark((function e(){var n,t;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h("select","SELECT id, email FROM user_tbl");case 2:return n=e.sent,e.next=5,n.json();case 5:return t=e.sent,e.abrupt("return",t);case 7:case"end":return e.stop()}}),e)})));n.findUserIdList=Object(c.a)(i.a.mark((function e(){var n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p();case 2:return n=e.sent,e.abrupt("return",n.map((function(e){return e.id})));case 4:case"end":return e.stop()}}),e)}))),n.findUserInfoFromEmail=function(){var e=Object(c.a)(i.a.mark((function e(n){var t,a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h("select","SELECT seq, id FROM user_tbl WHERE email = '".concat(n,"'"));case 2:return t=e.sent,e.next=5,t.json();case 5:return a=e.sent,e.abrupt("return",a);case 7:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),n.findUserInfoFromSeq=function(){var e=Object(c.a)(i.a.mark((function e(n){var t,a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h("select","SELECT seq, id, password, email FROM user_tbl WHERE seq = ".concat(n));case 2:return t=e.sent,e.next=5,t.json();case 5:return a=e.sent,e.abrupt("return",a);case 7:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),n.findUserInfoLogin=function(){var e=Object(c.a)(i.a.mark((function e(n,t){var a,r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h("select","SELECT seq, id, password, email FROM user_tbl WHERE id = '".concat(n,"' and password = '").concat(t,"'"));case 2:return a=e.sent,e.next=5,a.json();case 5:return r=e.sent,e.abrupt("return",r);case 7:case"end":return e.stop()}}),e)})));return function(n,t){return e.apply(this,arguments)}}(),n.getNextUserSeq=Object(c.a)(i.a.mark((function e(){var n,t,r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h("select","SELECT seq FROM sqlite_sequence WHERE name = 'user_tbl'");case 2:return n=e.sent,e.next=5,n.json();case 5:return t=e.sent,r=t[0].seq+1,a.sendQueryRequestToAPI("update","update sqlite_sequence set seq = seq + 1 where name='user_tbl'"),e.abrupt("return",r);case 9:case"end":return e.stop()}}),e)}))),n.findUserScoreList=function(){var e=Object(c.a)(i.a.mark((function e(n){var t,r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.sendQueryRequestToAPI("select","SELECT seq, dispnam, share FROM scoretbl WHERE user_seq = ".concat(n));case 2:return t=e.sent,e.next=5,t.json();case 5:return r=e.sent,e.abrupt("return",r);case 7:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),n.findScore=function(){var e=Object(c.a)(i.a.mark((function e(n){var t,r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.sendQueryRequestToAPI("select","SELECT (select id from user_tbl where seq = score.user_seq) as owner, dispnam, data FROM scoretbl score WHERE seq = ".concat(n));case 2:return t=e.sent,e.next=5,t.json();case 5:return r=e.sent,e.abrupt("return",r);case 7:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),n.gZip=function(e){var n=encodeURIComponent(e);return l.a.gzipSync(n).toString("base64")},n.unZip=function(n){var t=e.from(n,"base64"),a=l.a.unzipSync(t);return decodeURIComponent(a.toString())},n.getStringFromDate=function(e){var n=e.getFullYear().toString(),t=(1+e.getMonth()).toString(),a=e.getDate().toString(),r=e.getHours().toString(),i=e.getMinutes().toString(),c=e.getSeconds().toString(),o="YYYY-MM-DD hh:mm:ss";return o=(o=(o=(o=(o=(o=o.replace(/YYYY/g,n)).replace(/MM/g,t)).replace(/DD/g,a)).replace(/hh/g,r)).replace(/mm/g,i)).replace(/ss/g,c)}}(a||(a={})),n.a=a}).call(this,t(17).Buffer)},98:function(e,n,t){"use strict";t.r(n);var a,r,i=t(2),c=t.n(i),o=t(53),l=t.n(o),s=(t(65),t(3)),d=t(5),u=t(6),b=t(4),h={system:{isSplash:!1,user:null,dialog:null}};(r=a||(a={})).AUTH_TEXT_WIDTH=350,r.AUTH_TEXT_HEIGHT=70;var p,f,j,m,g,v,x,O,y,k,w,T,E=a,C=t(1),S=function(){var e=Object(i.useContext)(Gc),n=e.store,t=e.setStore,a=n.system.dialog;return null==a?Object(C.jsx)(C.Fragment,{}):Object(C.jsxs)(C.Fragment,{children:[Object(C.jsx)(R,{onClick:function(){n.system.dialog=null,t(Object(d.a)({},n))}}),a]})},R=b.b.div(p||(p=Object(s.a)(["\n    display: block;\n    position: absolute;\n    width: 100%;\n    height: 100%;\n    background-color: #000329a2;\n    z-index: 10;\n    text-align: center;\n"])));!function(e){var n=e.FONT_SMALL=16,t=e.FONT_MIDIUM=22,a=(e.FONT_LARGE=32,e.CSS_LABEL=Object(b.a)(O||(O=Object(s.a)(["\n        display: inline-block;\n        font-weight: 600;\n        text-align: center;\n        color: black;\n        box-sizing: border-box;\n    "]))));e.CSS_LABEL_SMALL=Object(b.a)(y||(y=Object(s.a)(["\n        ","\n        height: 22px;\n        font-size: ","px;\n        line-height: 18px;\n    "])),a,n),e.CSS_LABEL_MIDIUM=Object(b.a)(k||(k=Object(s.a)(["\n        ","\n        height: 30px;\n        font-size: ","px;\n        line-height: 26px;\n    "])),a,t),e.CSS_BUTTON_DISABLE=Object(b.a)(w||(w=Object(s.a)(["\n        pointer-events: none;\n        opacity: 0.5;\n    "])))}(T||(T={}));var I,L,F,P,_,N,A,M,B,D,q,U,z,V,H,W,J,Y,X,G,K,Q,Z,$,ee,ne,te,ae,re,ie,ce,oe,le,se,de,ue,be,he,pe,fe,je,me,ge,ve,xe,Oe,ye,ke,we,Te,Ee,Ce,Se,Re,Ie,Le,Fe,Pe,_e,Ne=T,Ae=(b.b.div(f||(f=Object(s.a)(["\n    display: inline-block;\n    width: 100%;\n    height: 100%;\n"]))),b.b.div(j||(j=Object(s.a)(["\n    display: inline-block;\n"]))),b.b.div(m||(m=Object(s.a)(["\n    display: inline-block;\n    width: 100%;\n"]))),Object(b.a)(g||(g=Object(s.a)(["\n    display: inline-block;\n    height: 22px;\n    font-size: 18px;\n    font-weight: 600;\n    color: black;\n    line-height: 18px;\n"]))),Object(b.a)(v||(v=Object(s.a)(["\n    display: inline-block;\n    height: 30px;\n    font-size: ","px;\n    font-weight: 600;\n    text-align: center;\n    color: black;\n    line-height: 24px;\n    box-sizing: border-box;\n"])),T.FONT_MIDIUM)),Me=(Object(b.a)(x||(x=Object(s.a)(["\n    opacity: 0.6;\n    pointer-events: none;\n"]))),function(e){var n=Object(i.useState)(e.activeNo),t=Object(u.a)(n,2),a=t[0],r=t[1];return Object(i.useEffect)((function(){r(e.activeNo)}),[e.activeNo]),Object(C.jsxs)(C.Fragment,{children:[Object(C.jsx)(qe,{children:e.tabElements.map((function(n,t){return Object(C.jsx)(Be,{name:n.name,icon:n.icon,isActive:t==a,isEnable:n.isEnable,selectTab:function(){return function(n){void 0!=e.selectTabIndex?e.selectTabIndex(n):r(n)}(t)}},t)}))}),Object(C.jsx)(Ue,{children:e.tabElements.map((function(e,n){return Object(C.jsx)(De,{cont:e.cont,isActive:n===a},n)}))})]})}),Be=function(e){return Object(C.jsxs)(Ve,{isEnable:e.isEnable,isActive:e.isActive,onClick:function(){return e.selectTab()},children:[Object(C.jsx)(He,{children:e.icon}),Object(C.jsx)(We,{children:e.name})]})},De=function(e){return Object(C.jsx)(ze,{isActive:e.isActive,children:e.cont})},qe=b.b.div(I||(I=Object(s.a)(["\n    display: inline-block;\n    width: 100px;\n    margin-right: 5px;\n    height: 100%;\n    background-color: #b9b9b9;\n    border: 1px solid #707070;\n    box-sizing: border-box;\n    border-radius: 10px 0 0 10px;\n    vertical-align: top;\n    box-shadow: 1px 2px 12px #aaaaaa;\n"]))),Ue=b.b.div(L||(L=Object(s.a)(["\n    display: inline-block;\n    background-color: #b9b9b9;\n    border: 1px solid #707070;\n    box-sizing: border-box;\n    width: calc(100% - 105px);\n    height: 100%;\n    border-radius: 0 6px 6px 0;\n    box-shadow: 1px 2px 12px #aaaaaa;\n"]))),ze=b.b.div(F||(F=Object(s.a)(["\n    /* margin: 3px 0 0 3px;\n    width: calc(100% - 6px);\n    height: calc(100% - 6px); */\n    width: 100%;\n    height: 100%;\n    /* background-color: #ece6e6; */\n    ","\n"])),(function(e){return e.isActive?Object(b.a)(_||(_=Object(s.a)(["display: inline-block;"]))):Object(b.a)(P||(P=Object(s.a)(["display: none;"])))})),Ve=b.b.div(N||(N=Object(s.a)(["\n    display: inline-block;\n    width: 90px;\n    height: 90px;\n    margin: 5px 0 0 5px;\n    border-radius: 10px;\n    ","\n    ","\n    transition: background-color 500ms;\n    & *{\n        transition: color 150ms;\n    }\n    // \u30a2\u30af\u30c6\u30a3\u30d6\u3058\u3083\u306a\u3044\u6642\u3060\u3051hover\u8981\u7d20\u3092\u4ed8\u52a0\n    ","\n"])),(function(e){return e.isActive?Object(b.a)(A||(A=Object(s.a)(["\n                background-color: #e4e3e1;\n                border: 1px solid #949494\n            "]))):Object(b.a)(M||(M=Object(s.a)(["\n                background-color: #d1d1d1;\n                opacity: 0.8;\n            "])))}),(function(e){return e.isEnable?"":Ne.CSS_BUTTON_DISABLE}),(function(e){return e.isActive?"":Object(b.a)(B||(B=Object(s.a)(["\n        &:hover {\n            & *{\n                transition: color 150ms;\n                /* background-color: #e2d6d6; */\n                text-shadow: 1px 2px 22px #f7f7f7ea;\n                color: #a7a7a7;\n            }\n        }\n    "])))})),He=(Object(b.a)(D||(D=Object(s.a)(["\n    text-shadow: 1px 2px 22px #f7f7f7cf;\n    color: #a3a3a3;\n"]))),b.b.div(q||(q=Object(s.a)(["\n    display: inline-block;\n    width: 100%;\n    height: 60px;\n    /* background-color: #df828221; */\n    font-size: 50px;\n    color: #757575;\n    text-align: center;\n    padding-top: 5px;\n    box-sizing: border-box;\n"])))),We=b.b.div(U||(U=Object(s.a)(["\n    display: inline-block;\n    width: 100%;\n    height: 30px;\n    /* background-color: #8482df20; */\n    font-size: 20px;\n    font-weight: 600;\n    color: #757575;\n    text-align: center;\n"]))),Je=t(58),Ye=t(59),Xe=t(32),Ge=t(9),Ke=function(e){var n,t=Object(i.useState)(e.activeNo),a=Object(u.a)(t,2),r=a[0],c=a[1],o=null!==(n=e.tabRecordNum)&&void 0!==n?n:1;return Object(i.useEffect)((function(){c(e.activeNo)}),[e.activeNo]),Object(C.jsxs)(C.Fragment,{children:[Object(C.jsx)($e,{tabRecordNum:o,children:e.tabElements.map((function(n,t){return Object(C.jsx)(Qe,{name:n.name,isActive:t==r,isEnable:n.enable,selectTab:function(){return function(n){void 0!=e.selectTabIndex?e.selectTabIndex(n):c(n)}(t)}},t)}))}),Object(C.jsx)(en,{tabRecordNum:o,children:e.tabElements.map((function(e,n){return Object(C.jsx)(Ze,{cont:e.cont,isActive:n===r},n)}))})]})},Qe=function(e){return Object(C.jsx)(tn,{isEnable:e.isEnable,isActive:e.isActive,onClick:function(){return e.selectTab()},children:e.name})},Ze=function(e){return Object(C.jsx)(nn,{isActive:e.isActive,children:e.cont})},$e=b.b.div(z||(z=Object(s.a)(["\n    display: inline-block;\n    height: ","px;\n    text-align: left;\n    /* background-color: #ac3b3b; */\n    width: 100%;\n"])),(function(e){return 35*e.tabRecordNum})),en=b.b.div(V||(V=Object(s.a)(["\n    display: block;\n    background-color: #999999;\n    height: calc(100% - ","px);\n    border-radius: 0 6px 6px 6px;\n    box-shadow: 0 2px 0 0 #000b3a48;\n    text-align: left;\n"])),(function(e){return 35*e.tabRecordNum})),nn=b.b.div(H||(H=Object(s.a)(["\n    margin: 3px 0 0 3px;\n    width: calc(100% - 6px);\n    height: calc(100% - 6px);\n    ","\n"])),(function(e){return e.isActive?Object(b.a)(J||(J=Object(s.a)(["display: inline-block;"]))):Object(b.a)(W||(W=Object(s.a)(["display: none;"])))})),tn=b.b.div(Y||(Y=Object(s.a)(["\n    display: inline-block;\n    /* width: 100px; */\n    padding: 0 10px;\n    \n    ","\n    /* opacity: 0.7; */\n    user-select: none;\n    margin-right: 6px;\n    font-weight: 600;\n    box-sizing: border-box;\n    line-height: 30px;\n    vertical-align: bottom;\n    transition: padding 100ms;\n"])),(function(e){return e.isActive?Object(b.a)(X||(X=Object(s.a)(["\n                color: #ebebeb;\n                padding: 0 35px;\n                background-color: #999999;\n                height: 35px;\n                font-size: 24px;\n                border-radius: 3px 15px 0 0;\n                text-shadow: 1px 2px 3px #00000065;\n            "]))):Object(b.a)(G||(G=Object(s.a)(["\n                height: 100%;\n                color: #555;\n                /* background-color: #90909b; */\n                background: linear-gradient(to bottom, #999999, #7a7a7a);\n                height: 30px;\n                font-size: 18px;\n                margin-top: 5px;\n                border-radius: 3px 10px 0 0;\n                ","\n            "])),e.isEnable?"":Object(b.a)(K||(K=Object(s.a)(["\n                    pointer-events: none;\n                    opacity: 0.7;\n                "]))))})),an=t(7),rn=t.n(an),cn=t(10),on=t(8);(_e=Pe||(Pe={})).isCompleteCheck=function(e){var n=!0;return e.forEach((function(e){if(e.errors.length>0)return n=!1,1})),n},_e.InputTextFormBak=function(e){var n,t,a,r,c,o,l,s=null!==(n=e.isPassword)&&void 0!==n&&n?"password":"text",u=null!==(t=e.validates)&&void 0!==t?t:[],b=e.checkable.errors,h=(null!==(a=e.dependency)&&void 0!==a?a:[]).map((function(e){return e.value})),p=function(e){var n=[];return u.forEach((function(t){t.checker(e)||n.push(t.errorType)})),n};return Object(i.useEffect)((function(){e.checkable.errors=p(e.checkable.value),e.setCheckable(Object(d.a)({},e.checkable))}),h),Object(C.jsxs)(kn,{isEnable:null===(r=e.isEnable)||void 0===r||r,isVisible:!0,textAlign:null!==(c=e.isCenter)&&void 0!==c&&c?"center":"left",marginTop:null!==(o=e.marginTop)&&void 0!==o?o:0,children:[void 0==e.titleLabel?Object(C.jsx)(C.Fragment,{}):Object(C.jsx)(wn,{children:e.titleLabel}),Object(C.jsx)(Tn,{type:s,value:e.checkable.value,hasTitle:void 0!=e.titleLabel,width:e.width,isCenter:null!==(l=e.isCenter)&&void 0!==l&&l,placeholder:e.placeholder,onChange:function(n){var t=n.target.value;e.checkable.value=t,e.checkable.errors=p(t),e.setCheckable(Object(d.a)({},e.checkable))},errorType:0===b.length?void 0:b[0],readOnly:e.isReadOnly})]})},_e.Record=function(e){var n,t,a;return Object(C.jsx)(kn,{isEnable:null===(n=e.isEnable)||void 0===n||n,isVisible:!0,textAlign:null!==(t=e.textAlign)&&void 0!==t?t:"left",marginTop:null!==(a=e.marginTop)&&void 0!==a?a:0,children:e.jsx})},_e.FormRecord=function(e){var n,t,a,r;return Object(C.jsxs)(kn,{isEnable:null===(n=e.isEnable)||void 0===n||n,isVisible:null===(t=e.isVisible)||void 0===t||t,textAlign:null!==(a=e.textAlign)&&void 0!==a?a:"left",marginTop:null!==(r=e.marginTop)&&void 0!==r?r:0,children:[void 0==e.titleLabel?Object(C.jsx)(C.Fragment,{}):Object(C.jsx)(wn,{labelWidth:e.labelWidth,children:e.titleLabel}),e.jsx]})},_e.TextField=function(e){var n,t,a,r,c,o,l=Object(i.useState)(!1),s=Object(u.a)(l,2),b=s[0],h=s[1];Object(i.useEffect)((function(){" "===e.checkable.value&&(e.checkable.value="",e.setCheckable(Object(d.a)({},e.checkable)))}),[e.checkable.value]);var p=null!==(n=e.isPassword)&&void 0!==n&&n?"password":"text";null!==(t=e.isNumber)&&void 0!==t&&t&&(p="number");var f=null!==(a=e.validates)&&void 0!==a?a:[],j=e.checkable.errors,m=(null!==(r=e.dependency)&&void 0!==r?r:[]).map((function(e){return e.value}));Object(i.useEffect)((function(){e.checkable.errors=function(e){var n=[];return f.forEach((function(t){t.checker(e)||n.push(t.errorType)})),n}(e.checkable.value),e.setCheckable(Object(d.a)({},e.checkable))}),m.concat(e.checkable.value));var g=e.checkable.value,v=null!==(c=e.step)&&void 0!==c?c:1;return Object(C.jsx)(En,{type:p,value:g,width:null!==(o=e.width)&&void 0!==o?o:100,placeholder:e.placeholder,step:v,onChange:function(n){e.checkable.value=n.target.value,e.setCheckable(Object(d.a)({},e.checkable)),"number"===p&&h(Number.isNaN(n.target.valueAsNumber))},onBlur:function(){"number"===p&&(e.checkable.value=b?" ":Number(g).toString(),e.setCheckable(Object(d.a)({},e.checkable)))},errorType:0===j.length?void 0:j[0],readOnly:e.isReadOnly,marginLeft:e.marginLeft})},_e.Combobox=function(e){var n,t,a,r,c=null!==(n=e.validates)&&void 0!==n?n:[],o=e.checkable.errors,l=(null!==(t=e.dependency)&&void 0!==t?t:[]).map((function(e){return e.value})),s=null!==(a=e.headBlank)&&void 0!==a&&a,u=e.list.slice();return s&&u.unshift({value:"",labelText:""}),Object(i.useEffect)((function(){e.checkable.errors=function(e){var n=[];return c.forEach((function(t){t.checker(e)||n.push(t.errorType)})),n}(e.checkable.value),e.setCheckable(Object(d.a)({},e.checkable))}),l.concat(e.checkable.value)),Object(C.jsx)(Cn,{value:e.checkable.value,width:null!==(r=e.width)&&void 0!==r?r:100,placeholder:e.placeholder,onChange:function(n){var t=n.target.value;e.checkable.value=t,e.setCheckable(Object(d.a)({},e.checkable))},errorType:0===o.length?void 0:o[0],readOnly:e.isReadOnly,marginLeft:e.marginLeft,children:u.map((function(e,n){var t,a;return Object(C.jsx)(Sn,{value:e.value,disabled:null!==(t=e.isDisabled)&&void 0!==t&&t,isDisabled:null!==(a=e.isDisabled)&&void 0!==a&&a,children:e.labelText},n)}))})},_e.ButtonRecord=function(e){var n,t;return Object(C.jsx)(kn,{isEnable:!0,isVisible:!0,textAlign:null!==(n=e.isCenter)&&void 0!==n&&n?"center":"right",marginTop:null!==(t=e.marginTop)&&void 0!==t?t:0,children:e.buttons.map((function(n,t){var a,r;return Object(C.jsx)(In,{isCenter:null!==(a=e.isCenter)&&void 0!==a&&a,isEnable:null===(r=n.isEnable)||void 0===r||r,width:n.width,onClick:n.callback,children:n.label},t)}))})},_e.Message=function(e){var n,t,a;return Object(C.jsx)(kn,{isEnable:!0,isVisible:!0,textAlign:null!==(n=e.isCenter)&&void 0!==n&&n?"center":"left",marginTop:null!==(t=e.marginTop)&&void 0!==t?t:0,children:Object(C.jsx)(Rn,{isCenter:null!==(a=e.isCenter)&&void 0!==a&&a,children:e.message})})},_e.MessageLink=function(e){var n,t,a;return Object(C.jsx)(kn,{isEnable:!0,isVisible:!0,textAlign:null!==(n=e.isCenter)&&void 0!==n&&n?"center":"left",marginTop:null!==(t=e.marginTop)&&void 0!==t?t:0,children:Object(C.jsx)(Rn,{isLink:!0,onClick:e.clickAction,isCenter:null!==(a=e.isCenter)&&void 0!==a&&a,children:e.message})})},_e.BorderPanel=function(e){var n;return Object(C.jsxs)(C.Fragment,{children:[Object(C.jsx)(Fn,{children:e.title}),Object(C.jsx)(Pn,{isEnable:null===(n=e.isEnable)||void 0===n||n,children:e.innerJsx})]})},_e.InfoFrame=function(e){var n,t=null!==(n=e.height)&&void 0!==n?n:70;return Object(C.jsx)(C.Fragment,{children:Object(C.jsx)(_n,{height:t,color:"#1a9900",children:e.textRecords.map((function(e,n){return Object(C.jsxs)("span",{children:[e,Object(C.jsx)("br",{})]},n)}))})})},_e.Switch=function(e){var n,t,a=null!==(n=e.isRelation)&&void 0!==n&&n,r=a&&e.isUse?function(){}:e.callback;return Object(C.jsx)(Ln,{isRelation:a,isUse:e.isUse,isEnable:null===(t=e.isEnable)||void 0===t||t,width:e.width,onClick:r,children:e.label})},_e.checkItems=function(e){return void 0==e.find((function(e){return e.errors.length>0}))};var ln,sn,dn,un,bn,hn,pn,fn,jn,mn,gn,vn,xn,On,yn=Pe,kn=b.b.div(Q||(Q=Object(s.a)(["\n    display: inline-block;\n    ","\n    width: 100%;\n    height: 40px;\n    margin-top: ","px;\n    /* background-color: #b3b4c4; */\n    /* border: 1px solid #000; */\n    ","\n    text-align: ",";\n"])),(function(e){return e.isVisible?"":Object(b.a)(Z||(Z=Object(s.a)(["\n        display: none;\n    "])))}),(function(e){return e.marginTop}),(function(e){return e.isEnable?"":Ne.CSS_BUTTON_DISABLE}),(function(e){return e.textAlign})),wn=b.b.div($||($=Object(s.a)(["\n    display: inline-block;\n    height: calc(100% - 4px);\n    width: ","px;\n    ","\n    color: #585858;\n    border: solid 1px #7a7a7abf;\n    box-sizing: border-box;\n    /* background-color: #85a2c5; */\n    background: linear-gradient(to bottom, #c3c3c3fc, #d8d8d8, #c3c3c3fc);\n    border-radius: 4px;\n    text-align: center;\n    vertical-align: top;\n    margin: 5px 4px 0 4px;\n"])),(function(e){var n;return null!==(n=e.labelWidth)&&void 0!==n?n:140}),Ne.CSS_LABEL_MIDIUM),Tn=b.b.input(ee||(ee=Object(s.a)(["\n    display: inline-block;\n    height: calc(100% - 4px);\n    ","\n    ","\n    margin-top: 2px;\n    font-size: 24px;\n    line-height: 32px;\n    /* font-weight: 600; */\n    color: #3d3d3d;\n    border: solid 1px #959595;\n    border-radius: 4px;\n    padding: 0 5px;\n    box-sizing: border-box;\n    background-color: ",";\n    text-align: left;\n    vertical-align: top;\n    user-select: text;\n    /* "," */\n    ","\n    ::placeholder {\n        color: #00000050;\n        font-style: italic;\n    }\n"])),(function(e){return e.hasTitle?Object(b.a)(te||(te=Object(s.a)(["\n        width: calc(100% - 152px);\n    "]))):Object(b.a)(ne||(ne=Object(s.a)(["\n    "])))}),(function(e){return void 0==e.width?"":Object(b.a)(ae||(ae=Object(s.a)(["\n        width: ","px;\n    "])),e.width)}),(function(e){if(void 0==e.errorType)return"#ececec";switch(e.errorType){case"required":return"#dbd7b3";case"length":return"#dbb3b3";case"value":return"#b3b3db";case"relation":return"#b3dbb3"}}),(function(e){return e.isCenter?Object(b.a)(ie||(ie=Object(s.a)([""]))):Object(b.a)(re||(re=Object(s.a)(["\n        margin-left: 4px;\n    "])))}),(function(e){return e.readOnly?Object(b.a)(ce||(ce=Object(s.a)(["\n        color: #020075;\n        /* border: none; */\n        outline: none;\n        background-color: transparent;\n    "]))):""})),En=b.b.input(oe||(oe=Object(s.a)(["\n    display: inline-block;\n    height: calc(100% - 4px);\n    width: ","px;\n    margin-top: 2px;\n    margin-left: ","px;\n    font-size: 24px;\n    line-height: 32px;\n    /* font-weight: 600; */\n    color: #3d3d3d;\n    border: solid 1px #959595;\n    border-radius: 4px;\n    padding: 0 5px;\n    box-sizing: border-box;\n    background-color: ",";\n    text-align: left;\n    vertical-align: top;\n    user-select: text;\n    ","\n    ::placeholder {\n        color: #00000050;\n        font-style: italic;\n    }\n"])),(function(e){return e.width}),(function(e){var n;return null!==(n=e.marginLeft)&&void 0!==n?n:0}),(function(e){if(void 0==e.errorType)return"#ececec";switch(e.errorType){case"required":return"#dbd7b3";case"length":return"#dbb3b3";case"value":return"#b3b3db";case"relation":return"#b3dbb3"}}),(function(e){return e.readOnly?Object(b.a)(le||(le=Object(s.a)(["\n        color: #020075;\n        /* border: none; */\n        outline: none;\n        background-color: transparent;\n    "]))):""})),Cn=b.b.select(se||(se=Object(s.a)(["\n    display: inline-block;\n    height: calc(100% - 4px);\n    width: ","px;\n    margin-top: 2px;\n    margin-left: ","px;\n    font-size: 24px;\n    line-height: 32px;\n    /* font-weight: 600; */\n    color: #3d3d3d;\n    border: solid 1px #959595;\n    border-radius: 4px;\n    padding: 0 5px;\n    box-sizing: border-box;\n    background-color: ",";\n    text-align: left;\n    vertical-align: top;\n    user-select: text;\n    ","\n    ::placeholder {\n        color: #00000050;\n        font-style: italic;\n    }\n"])),(function(e){return e.width}),(function(e){var n;return null!==(n=e.marginLeft)&&void 0!==n?n:0}),(function(e){if(void 0==e.errorType)return"#ececec";switch(e.errorType){case"required":return"#dbd7b3";case"length":return"#dbb3b3";case"value":return"#b3b3db";case"relation":return"#b3dbb3"}}),(function(e){return e.readOnly?Object(b.a)(de||(de=Object(s.a)(["\n        color: #020075;\n        /* border: none; */\n        outline: none;\n        background-color: transparent;\n        pointer-events: none;\n    "]))):""})),Sn=b.b.option(ue||(ue=Object(s.a)(["\n    ","\n"])),(function(e){return e.isDisabled?Object(b.a)(be||(be=Object(s.a)(["\n        color: #0000004b;\n    "]))):""})),Rn=b.b.div(he||(he=Object(s.a)(["\n    display: inline-block;\n    height: calc(100% - 4px);\n    margin-top: 2px;\n    font-size: ","px;\n    line-height: 32px;\n    /* font-weight: 600; */\n    color: #002c52;\n    border-radius: 4px;\n    padding: 0 5px;\n    box-sizing: border-box;\n    /* background-color: #d37878; */\n    text-align: left;\n    vertical-align: top;\n    user-select: text;\n    ","\n    ","\n"])),Ne.FONT_MIDIUM,(function(e){return e.isCenter?Object(b.a)(fe||(fe=Object(s.a)([""]))):Object(b.a)(pe||(pe=Object(s.a)(["\n        margin-left: 4px;\n    "])))}),(function(e){return e.isLink?Object(b.a)(je||(je=Object(s.a)(["\n        color: #0459a3;\n        user-select: none;\n        text-decoration: underline;\n        &:hover {\n            color: #68a4d8;\n        }\n    "]))):""})),In=(b.b.div(me||(me=Object(s.a)(["\n    display: inline-block;\n    width: 100%;\n    height: 40px;\n    /* background-color: #888888; */\n    box-sizing: border-box;\n    text-align: left;\n    white-space: nowrap;\n"]))),b.b.div(ge||(ge=Object(s.a)(["\n    ","\n    ","\n    /* line-height: 25px; */\n    box-sizing: border-box;\n    /* background-color: #a8a8a8; */\n    background: linear-gradient(to bottom, #cdcdcd, #ebebeb, #cdcdcd);\n    border: 1px solid #747474;\n    color: #515151;\n    border-radius: 4px;\n    ","\n    margin: 5px 0 0 4px;\n    ","\n    &:hover {\n        /* background-color: #98bfc2; */\n        background: linear-gradient(to bottom, #989898, #b4b4b4, #989898);\n    }\n"])),Ne.CSS_LABEL_MIDIUM,(function(e){return void 0==e.width?Object(b.a)(ve||(ve=Object(s.a)(["\n        padding: 0 40px;\n    "]))):Object(b.a)(xe||(xe=Object(s.a)(["\n        width: ","px;\n    "])),e.width)}),(function(e){return e.isCenter?Object(b.a)(ye||(ye=Object(s.a)([""]))):Object(b.a)(Oe||(Oe=Object(s.a)(["\n        margin-left: 4px;\n    "])))}),(function(e){return e.isEnable?"":Ne.CSS_BUTTON_DISABLE}))),Ln=b.b.div(ke||(ke=Object(s.a)(["\n    ","\n    ","\n    /* line-height: 25px; */\n    box-sizing: border-box;\n    background-color: #a8a8a8;\n    color: #515151;\n    border: 1px solid #747474;\n    ","\n    border-radius: 4px;\n    margin: 5px 0 0 4px;\n    ","\n    &:hover {\n        ","\n    }\n"])),Ne.CSS_LABEL_MIDIUM,(function(e){return void 0==e.width?Object(b.a)(we||(we=Object(s.a)(["\n        padding: 0 40px;\n    "]))):Object(b.a)(Te||(Te=Object(s.a)(["\n        width: ","px;\n    "])),e.width)}),(function(e){return e.isRelation?Object(b.a)(Ce||(Ce=Object(s.a)(["\n        background-color: ",";\n        color: ",";\n    "])),(function(e){return e.isUse?"#d898b3":"#ddc1d979"}),(function(e){return e.isUse?"#9c2626":"#515151"})):Object(b.a)(Ee||(Ee=Object(s.a)(["\n        background-color: ",";\n    "])),(function(e){return e.isUse?"#e4f67e":"#e7e7e779"}))}),(function(e){return e.isEnable?"":Ne.CSS_BUTTON_DISABLE}),(function(e){return e.isRelation?Object(b.a)(Re||(Re=Object(s.a)(["\n            background-color: ",";\n            color: ",";\n        "])),(function(e){return e.isUse?"#d898b3":"#d3a1cb79"}),(function(e){return e.isUse?"#9c2626":"#515151"})):Object(b.a)(Se||(Se=Object(s.a)(["\n            background-color: ",";\n        "])),(function(e){return e.isUse?"#b5be7f":"#edefb286"}))})),Fn=b.b.div(Ie||(Ie=Object(s.a)(["\n    ","\n    color: #990000;\n    /* background-color: #0a0a0a40; */\n    font-style: italic;\n    margin: 4px 0 0 8px;\n"])),Ne.CSS_LABEL_SMALL),Pn=b.b.div(Le||(Le=Object(s.a)(["\n    display: inline-block;\n    margin: 0 0 0 6px;\n    padding: 4px;\n    width: calc(100% - 12px);\n    background-color: #dcddce;\n    border: 1px solid #000;\n    box-sizing: border-box;\n    border-radius: 4px;\n    text-align: left;\n    ","\n"])),(function(e){return e.isEnable?"":Ne.CSS_BUTTON_DISABLE})),_n=b.b.div(Fe||(Fe=Object(s.a)(["\n    margin: 4px 0 0 0;\n    display: inline-block;\n    background-color: #e7e5e561;\n    border: solid 1px #949494;\n    width: 100%;\n    height: ","px;\n    padding: 2px;\n    box-sizing: border-box;\n    text-align: left;\n    font-size: ","px;\n    color: ",";\n    overflow-y: auto;\n"])),(function(e){return e.height}),Ne.FONT_SMALL,(function(e){return e.color}));(On=xn||(xn={})).createNode=function(e,n){return{data:e,parent:n,depth:n.depth+1,isOpen:!1,children:[]}},On.getChildIndex=function(e){var n=e.parent;if(null!=n)for(var t=0;t<n.children.length;t++)if(e==n.children[t])return t;return-1},On.Frame=function(e){var n,t,a=null!==(n=e.isDisable)&&void 0!==n&&n,r=null!==(t=e.focusNode)&&void 0!==t?t:null,c=Object(i.useRef)({}),o=function(){return function e(n,t,a){var r={data:t.data,depth:n,isOpen:!1,children:[],parent:a};return r.children=t.children.map((function(t){return e(n+1,t,r)})),r}(0,e.rootDataNode,null)},l=Object(i.useState)(o()),s=Object(u.a)(l,2),b=s[0],h=s[1];Object(i.useEffect)((function(){h(o())}),[e.rootDataNode]),Object(i.useEffect)((function(){null!=r&&null!=r.parent&&(r.parent.isOpen=!0)}),[r]);var p=Object(i.useMemo)((function(){var n=[];return function t(i,o){var l=i.data==(null===r||void 0===r?void 0:r.data);n.push(Object(C.jsxs)(Un,{width:c.current.scrollWidth,isActive:l,isRelation:!a&&function(){for(var e=!1,n=r;null!=n;){if(null==i.parent||i==n){e=!0;break}n=n.parent}return!1===e&&null!=r&&null!=r.parent&&(e=void 0!=r.parent.children.find((function(e){return e==i}))),e}(),isDisable:l&&a,children:[o.map((function(e,n){var t=[];return(o.length-1===n||e)&&t.push(e?Object(C.jsx)(Hn,{},t.length):Object(C.jsx)(Vn,{},t.length)),o.length-1===n&&t.push(Object(C.jsx)(Wn,{},t.length)),Object(C.jsx)(zn,{children:t},n)})),0===i.children.length?Object(C.jsx)(C.Fragment,{}):Object(C.jsx)(Jn,{onClick:function(){i.isOpen=!i.isOpen,h(Object(d.a)({},b))},children:i.isOpen?"-":"+"}),Object(C.jsx)(Yn,{onClick:function(){e.clickEvent(i),h(Object(d.a)({},b))},onDoubleClick:function(){i.isOpen=!i.isOpen,h(Object(d.a)({},b))},children:e.getLabelJsx(i)})]},n.length)),i.isOpen&&i.children.forEach((function(e,n){t(e,o.slice().concat(i.children.length-1!==n))}))}(b,[]),n}),[b,e.invalidate,a]);return Object(C.jsx)(qn,{ref:c,isDisable:a,children:p})};var Nn,An,Mn,Bn,Dn=xn,qn=b.b.div(ln||(ln=Object(s.a)(["\n    display: inline-block;\n    position: relative;\n    background-color: #374a54;\n    width: calc(100% - 10px);\n    height: calc(100% - 10px);\n    box-sizing: border-box;\n    border: solid 1px #000;\n    margin: 5px;\n    overflow: auto;\n    ","\n"])),(function(e){return e.isDisable?Object(b.a)(sn||(sn=Object(s.a)(["\n        pointer-events: none;\n        background-color: #1f3642;\n    "]))):""})),Un=b.b.div(dn||(dn=Object(s.a)(["\n    display: inline-block;\n    /* position: relative; */\n    ","\n    opacity: 0.3;\n    ","\n    ","\n    width: ","px;\n    height: 40px;\n    box-sizing: border-box;\n    white-space: nowrap;\n    /* border: solid 1px #000;\n    margin: 5px; */\n    & *{\n        vertical-align: top;\n    }\n    &:hover {\n        opacity: 1;\n    }\n"])),(function(e){return e.isDisable?Object(b.a)(un||(un=Object(s.a)(["\n        background-color: #459cff46;\n    "]))):""}),(function(e){return e.isRelation?Object(b.a)(bn||(bn=Object(s.a)(["\n        background-color: #ffffff28;\n        opacity: 1;\n    "]))):""}),(function(e){return e.isActive?Object(b.a)(hn||(hn=Object(s.a)(["\n        background-color: #b4d9dd83;\n        opacity: 1;\n    "]))):""}),(function(e){return e.width})),zn=b.b.div(pn||(pn=Object(s.a)(["\n    display: inline-block;\n    position: relative;\n    /* background-color: #b6d5be; */\n    width: 40px;\n    height: 100%;\n    box-sizing: border-box;\n    /* border: solid 1px #000; */\n"]))),Vn=b.b.div(fn||(fn=Object(s.a)(["\n    display: inline-block;\n    position: relative;\n    background-color: #b60000;\n    width: 4px;\n    height: 22px;\n    box-sizing: border-box;\n    margin: 0 0 0 20px;\n"]))),Hn=b.b.div(jn||(jn=Object(s.a)(["\n    display: inline-block;\n    position: relative;\n    background-color: #b60000;\n    width: 4px;\n    height: 100%;\n    box-sizing: border-box;\n    margin: 0 0 0 20px;\n"]))),Wn=b.b.div(mn||(mn=Object(s.a)(["\n    display: inline-block;\n    position: relative;\n    background-color: #b60000;\n    width: 16px;\n    height: 4px;\n    box-sizing: border-box;\n    margin: 18px 0 0 0;\n"]))),Jn=b.b.div(gn||(gn=Object(s.a)(["\n    display: inline-block;\n    /* position: relative; */\n    background-color: #d1d1d1;\n    width: 30px;\n    height: calc(100% - 10px);\n    border: solid 1px #000;\n    margin: 5px 0 0 3px;\n    box-sizing: border-box;\n    font-size: 30px;\n    /* font-weight: 600; */\n    color: #6d1717;\n    line-height: 20px;\n    padding-left: 3px;\n"]))),Yn=b.b.div(vn||(vn=Object(s.a)(["\n    display: inline-block;\n    position: relative;\n    /* background-color: #ffffff3c; */\n    min-width: 100px;\n    height: 100%;\n    margin: 0 0  0 3px;\n    box-sizing: border-box;\n"])));(Bn||(Bn={})).Component=function(e){var n,t,a,r=Object(i.useContext)(Gc),c=r.store,o=r.setStore,l=null!==(n=e.width)&&void 0!==n?n:600,s=null!==(t=e.height)&&void 0!==t?t:150,u=null!==(a=e.buttons)&&void 0!==a?a:[{label:"OK",callback:function(){c.system.dialog=null,o(Object(d.a)({},c))}}];return Object(C.jsxs)(Kn,{width:l,height:s,children:[Object(C.jsx)(Qn,{children:Object(C.jsx)(Zn,{children:e.message.split("\n").map((function(e,n){return Object(C.jsx)(yn.Message,{message:e,isCenter:!0},n)}))})}),Object(C.jsx)(yn.ButtonRecord,{isCenter:!0,buttons:u})]})};var Xn,Gn=Bn,Kn=b.b.div(Nn||(Nn=Object(s.a)(["\n    display: inline-block;\n    position: absolute;\n    z-index: 11;\n    top: calc(50% - ","px);\n    left: calc(50% - ","px);\n    width: ","px;\n    height: ","px;\n    background-color: #e7e7e7e2;\n    border: 1px solid #8f8f8f;\n    border-radius: 4px;\n    box-shadow: 10px 15px 15px #0000004b;\n"])),(function(e){return e.height/2}),(function(e){return e.width/2}),(function(e){return e.width}),(function(e){return e.height})),Qn=b.b.div(An||(An=Object(s.a)(["\n    display: inline-block;\n    width: 100%;\n    height: 110px;\n    display: flex;\n    align-items: center;\n\n"]))),Zn=b.b.div(Mn||(Mn=Object(s.a)(["\n    /* text-align: center; */\n    display: inline-block;\n    width: 100%;\n    /* background-color: #bb6868e1; */\n"])));!function(e){e.checkRequired=function(e){return e.length>0},e.checkStringLength=function(e,n,t){return 0===e.length||e.length>=n&&e.length<=t},e.checkAsciiChars=function(e){return n(e,"0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ")};var n=e.checkIncludesChars=function(e,n){for(var t=0;t<e.length;t++){var a=e.charAt(t);if(-1===n.indexOf(a))return!1}return!0};e.checkNumber=function(e){return!isNaN(Number(e))},e.checkNumberRange=function(e,n,t){if(!isNaN(Number(e))){var a=Number(e);return a>=n&&a<=t}return!0},e.checkAll=function(e){for(var n=!0,t=0;t<e.length;t++)if(!e[t]){n=!1;break}return n}}(Xn||(Xn={}));var $n,et=Xn;!function(e){var n=e.createURL=function(e,n,t){var a=document.createElement("canvas"),r=a.getContext("2d");return a.width=e,a.height=n,t(r),a.toDataURL()};e.getLogoURL=function(){return $n.createURL(350,80,(function(e){e.shadowColor="#555",e.shadowOffsetX=2,e.shadowOffsetY=1,e.shadowBlur=5,e.font="55pt Arial",e.fillStyle="#db0000",e.fillText("L",30,70);var n=e.measureText("L").width;e.fillStyle="#ffffff",e.fillText("iCreSia",30+n,70),e.save()}))},e.getAuthTextURL=function(e){var t=E.AUTH_TEXT_WIDTH,a=E.AUTH_TEXT_WIDTH/6;return n(t,E.AUTH_TEXT_HEIGHT,(function(n){n.rotate(1*Math.PI/180);for(var t=0;t<e.length;t++){var r=e.charAt(t),i=60*Math.random(),c=60*Math.random();n.font="".concat(20+i,"pt Arial"),n.fillStyle="rgba("+[40,0,100,.05+.01*c]+")",n.fillText(r,t*a,60)}}))}}($n||($n={}));var nt,tt=$n,at=t(22);(nt||(nt={})).Instance=function e(n){var t=this;Object(at.a)(this,e),this.owner=void 0,this.pos=void 0,this.prevPos=void 0,this.vec=void 0,this.frame=void 0,this.limit=void 0,this.isLive=void 0,this.drawer=void 0,this.extend=void 0,this.update=function(){t.pos.x+=t.vec.xy.x,t.pos.y+=t.vec.xy.y,t.extend.forEach((function(e){return e(t)})),t.frame===t.limit&&(t.isLive=!1),t.frame++},this.draw=function(e){t.drawer(t,e)},this.owner=n.owner,this.pos=n.pos,this.prevPos=n.pos,this.vec=n.vec,this.frame=0,this.limit=n.limit,this.isLive=!0,this.drawer=n.drawer,this.extend=n.extend};var rt,it=nt;!function(e){e.createGradDrawer=function(e){var a,r=null!==(a=e.radius)&&void 0!==a?a:30;return function(a,i){var c;if(void 0!=e.flashAppearFrame){var o=e.flashAppearFrame,l=o+e.flashHideFrame;if(a.frame%l>=o)return}var s=r;if(void 0!=e.shrinkStartRate){var u=Math.floor(a.limit*e.shrinkStartRate);if(a.frame>u){var b=a.limit-u;s*=(b-(a.frame-u))/b}}var h=a.pos.x,p=a.pos.y,f=i.createRadialGradient(h,p,1,h,p,s),j=[],m=null!==(c=n(e.color))&&void 0!==c?c:{r:255,g:255,b:255,a:255};if(j.push({offset:0,color:t({r:255,g:255,b:255,a:Math.floor(.9*m.a)})}),j.push({offset:.2,color:t(Object(d.a)(Object(d.a)({},m),{},{a:Math.floor(.15*m.a)}))}),j.push({offset:1,color:t(Object(d.a)(Object(d.a)({},m),{},{a:1}))}),j.forEach((function(e){f.addColorStop(e.offset,e.color)})),i.globalAlpha=1,void 0!=e.disappearStartRate){var g=Math.floor(a.limit*e.disappearStartRate);if(a.frame>g){var v=a.limit-g,x=a.frame-g;i.globalAlpha=(v-x)/v}}i.fillStyle=f,i.beginPath(),i.arc(h,p,s,0,2*Math.PI,!1),i.fill()}};var n=e.convertRgbaFromColorCode=function(e){var n=e.split("#");if(2!==n.length||n[1].length<6)return null;var t=n[1],a=Number.parseInt(t.substring(0,2),16),r=Number.parseInt(t.substring(2,4),16),i=Number.parseInt(t.substring(4,6),16),c=1;return 8===t.length&&(c=Number.parseInt(t.substring(6,8),16)),{r:a,g:r,b:i,a:c}},t=e.convertColorCodeFromRgba=function(e){var n=("00"+e.r.toString(16)).slice(-2),t=("00"+e.g.toString(16)).slice(-2),a=("00"+e.b.toString(16)).slice(-2),r=("00"+e.a.toString(16)).slice(-2);return"#".concat(n).concat(t).concat(a).concat(r)};e.toWhite=function(e,n){return e}}(rt||(rt={}));var ct,ot=rt;(ct||(ct={})).Vector=function e(n){var t=this;Object(at.a)(this,e),this.xy=void 0,this.rad=void 0,this.len=void 0,this.syncFromXY=function(){t.len=Math.sqrt(t.xy.x*t.xy.x+t.xy.y*t.xy.y),t.rad=Math.atan2(t.xy.y,t.xy.x)},this.syncFromRad=function(){t.xy.x=Math.cos(t.rad)*t.len,t.xy.y=Math.sin(t.rad)*t.len},this.xy=n,this.rad=0,this.len=0,this.syncFromXY()};var lt,st=ct;!function(e){var n;!function(e){e.RADIUS="radius",e.COLOR_R="color_r",e.COLOR_G="color_g",e.COLOR_B="color_b",e.COLOR_A="color_a",e.THICKNESS="thickness"}(n||(n={})),e.VisualParamType=n;var t;e.VisualParams=Object.values(n);!function(e){e.LIMIT="limit",e.POS_X="pos_x",e.POS_Y="pos_y",e.VEC_X="vec_x",e.VEC_Y="vec_y",e.VEC_RAD="vec_radian",e.VEC_LEN="vec_length"}(t||(t={})),e.BehaviorParamType=t;var a;e.BehaviorParams=Object.values(t);!function(e){e.FRAME="self_frame",e.LIMIT="self_limit",e.POS_X="self_pos_x",e.POS_Y="self_pos_y",e.VEC_X="self_vec_x",e.VEC_Y="self_vec_y",e.VEC_RAD="self_vec_radian",e.VEC_LEN="self_vec_length"}(a||(a={})),e.SelfParamType=a;var r;e.SelfParams=Object.values(a);!function(e){e.LOOP_COUNT="loop_count",e.LOOP_ITERATE="loop_iterate",e.INVOKE="invoke"}(r||(r={})),e.ExtendParamType=r;var i;e.ExtendParams=Object.values(r);!function(e){e.DISAPPEAR_START="disappear_start",e.SHRINK_START="shrink_start",e.FLASH_APPEAR_FRAME="flash_appear_frame",e.FLASH_HIDE_FRAME="flash_hide_frame"}(i||(i={})),e.EffectParamType=i;var c;e.EffectParams=Object.values(i);!function(e){e.DECAY_RATE="decay_rate",e.DECAY_LIMIT="decay_limit",e.GRAVITY_VAL="gravity_val",e.GRAVITY_LIMIT="gravity_limit"}(c||(c={})),e.ModulateParamType=c;var o;e.ModulateParams=Object.values(c);!function(e){e.SCREEN_WIDTH="screen_width",e.SCREEN_HEIGHT="screen_height",e.PI="pi",e.RADIAN_ROUND="radian_round"}(o||(o={})),e.ConstantType=o;e.Constants=Object.values(o)}(lt||(lt={}));var dt,ut=lt;(dt||(dt={})).build=function(e,n){if(void 0!=n.decayRate&&void 0!=n.decayLimit){var t=n.decayLimit,a=n.decayRate;e.push((function(e){e.vec.len>t&&(e.vec.len=e.vec.len*a,e.vec.syncFromRad())}))}if(void 0!=n.gravity&&void 0!=n.gravityLimit){var r=n.gravityLimit,i=n.gravity;e.push((function(e){e.vec.xy.y<r&&(e.vec.xy.y+=i,e.vec.syncFromXY())}))}};var bt,ht=dt;!function(e){var n=e.SCREEN_WIDTH=550,t=e.SCREEN_HEIGHT=550,a=(e.buildLogicProps=function(e,n,t,o){return function n(o,s){var d,u,b=s.concat(l),h=a("field-mng",o.mngs);null!=h&&h.data.fields.forEach((function(e){var n=e.data,t=i(n,b);b.push({name:n.name,value:t})}));var p=(null===(d=a("visual-mng",o.mngs))||void 0===d?void 0:d.data).params.map((function(e){return e.data})),f=(null===(u=a("behavior-mng",o.mngs))||void 0===u?void 0:u.data).params.map((function(e){return e.data})),j=function(e){return r(e,p,b)},m=function(e){return r(e,f,b)},g=Math.floor(m(ut.BehaviorParamType.LIMIT)),v={x:m(ut.BehaviorParamType.POS_X),y:m(ut.BehaviorParamType.POS_Y)},x=new st.Vector({x:0,y:0});void 0!=f.find((function(e){return e.name===ut.BehaviorParamType.VEC_X}))?(x.xy.x=m(ut.BehaviorParamType.VEC_X),x.xy.y=m(ut.BehaviorParamType.VEC_Y),x.syncFromXY()):(x.rad=m(ut.BehaviorParamType.VEC_RAD),x.len=m(ut.BehaviorParamType.VEC_LEN),x.syncFromRad());var O=[],y=a("inherit-mng",o.mngs);null!=y&&(b.push({name:ut.BehaviorParamType.POS_X,value:v.x}),b.push({name:ut.BehaviorParamType.POS_Y,value:v.y}),b.push({name:ut.BehaviorParamType.VEC_X,value:x.xy.x}),b.push({name:ut.BehaviorParamType.VEC_X,value:x.xy.y}),b.push({name:ut.BehaviorParamType.VEC_RAD,value:x.rad}),b.push({name:ut.BehaviorParamType.VEC_LEN,value:x.len}),y.data.inherits.forEach((function(e){var o,l,s=e.data;if(null===(o=s.disable)||void 0===o||!o){var d="create"===s.method?null===(l=a("inherit-logic",s.mngs))||void 0===l?void 0:l.data:function(e){var n=t.data.logicMng.data.defs.find((function(n){return n.data.name===e}));return void 0==n?null:n.data}(s.depend);null!=d&&O.push((function(e){var t,o=function(e){var n=b.find((function(n){return n.name===e.name}));void 0!=n?n.value=e.value:b.push(e)};o({name:ut.SelfParamType.FRAME,value:e.frame}),o({name:ut.SelfParamType.LIMIT,value:e.limit}),o({name:ut.SelfParamType.POS_X,value:e.pos.x}),o({name:ut.SelfParamType.POS_Y,value:e.pos.y}),o({name:ut.SelfParamType.VEC_X,value:e.vec.xy.x}),o({name:ut.SelfParamType.VEC_Y,value:e.vec.xy.y}),o({name:ut.SelfParamType.VEC_RAD,value:e.vec.rad}),o({name:ut.SelfParamType.VEC_LEN,value:e.vec.len});var l=[],u=a("inhfld-mng",s.mngs);null!=u&&u.data.fields.forEach((function(e){var n=e.data,t=i(n,b);l.push({name:n.name,value:t})}));var h=1,p=a("extend-mng",s.mngs).data.params.map((function(e){return e.data})),f=r(ut.ExtendParamType.LOOP_COUNT,p,b.concat(l));if(null===(t=c(ut.ExtendParamType.INVOKE,p,b))||void 0===t||t){void 0!=f&&(h=f);for(var j=function(t){var i,c=[{name:ut.ExtendParamType.LOOP_COUNT,value:h},{name:ut.ExtendParamType.LOOP_ITERATE,value:t}],o=(null===(i=a("send-mng",s.mngs))||void 0===i?void 0:i.data).params.map((function(e){return e.data})),u=o.map((function(e){var n;return{name:e.name,value:null!==(n=r(e.name,o,b.concat(l).concat(c)))&&void 0!==n?n:0}})),p=n(d,u);e.owner.push(new it.Instance(p))},m=0;m<h;m++)j(m)}}))}})));ht.build(O,{decayLimit:m(ut.ModulateParamType.DECAY_LIMIT),decayRate:m(ut.ModulateParamType.DECAY_RATE),gravity:m(ut.ModulateParamType.GRAVITY_VAL),gravityLimit:m(ut.ModulateParamType.GRAVITY_LIMIT)});var k=j(ut.VisualParamType.RADIUS),w=j(ut.VisualParamType.COLOR_R),T=j(ut.VisualParamType.COLOR_G),E=j(ut.VisualParamType.COLOR_B),C=j(ut.VisualParamType.COLOR_A),S=j(ut.EffectParamType.DISAPPEAR_START),R=j(ut.EffectParamType.SHRINK_START),I=j(ut.EffectParamType.FLASH_APPEAR_FRAME),L=j(ut.EffectParamType.FLASH_HIDE_FRAME),F=function(){};return void 0!=k&&(F=ot.createGradDrawer({radius:k,color:ot.convertColorCodeFromRgba({r:w,g:T,b:E,a:C}),disappearStartRate:S,shrinkStartRate:R,flashAppearFrame:I,flashHideFrame:L})),{owner:e,pos:v,vec:x,limit:g,drawer:F,extend:O}}(n,o)},function(e,n){var t;return null!==(t=n.find((function(n){return n.type===e})))&&void 0!==t?t:null}),r=e.convertParamsToValue=function(e,n,t){var a=n.find((function(n){return n.name===e}));if(void 0!=a)return i(a,t)},i=function(e,n){var t=e.values.map((function(e){if("direct"===e.type)return Number(e.value);var t=n.find((function(n){return n.name===e.value}));return void 0==t?0:t.value})),a="",r=0;return e.formulaItems.forEach((function(e){var n=e;"var"===e?(n=t[r].toString(),r++):"rand("===e?n="Math.random()*(":"integer("===e&&(n="Math.floor("),a+=n})),Function("return (".concat(a,")"))()},c=e.convertParamsToBoolean=function(e,n,t){var a=n.find((function(n){return n.name===e}));if(void 0!=a)return o(a,t)},o=function(e,n){var t=e.values.map((function(e){if("direct"===e.type)return Number(e.value);var t=n.find((function(n){return n.name===e.value}));return void 0==t?0:t.value})),a="",r=0;return e.formulaItems.forEach((function(e,n){var i=e;"var"===e?(i=t[r].toString(),r++):"rand("===e?i="Math.random()*(":"integer("===e?i="Math.floor(":"="===e&&(i="=="),a+=i})),Function("return (".concat(a,")"))()},l=e.ConstantValueMap=[{name:ut.ConstantType.SCREEN_WIDTH,value:n},{name:ut.ConstantType.SCREEN_HEIGHT,value:t},{name:ut.ConstantType.PI,value:3.14159265359},{name:ut.ConstantType.RADIAN_ROUND,value:6.28318530718}]}(bt||(bt={}));var pt,ft,jt,mt,gt,vt,xt,Ot,yt,kt,wt=bt;(kt||(kt={})).Component=function(e){var n=Object(i.useContext)(Gc),t=n.store,a=n.setStore,r=Object(i.useRef)({}),c=Object(i.useState)([]),o=Object(u.a)(c,2),l=o[0],s=o[1],b=Object(i.useState)([]),h=Object(u.a)(b,2),p=h[0],f=h[1],j=Object(i.useState)(-1),m=Object(u.a)(j,2),g=m[0],v=m[1],x=Object(i.useState)(0),O=Object(u.a)(x,2),y=O[0],k=O[1],w=Object(i.useState)(0),T=Object(u.a)(w,2),E=T[0],S=T[1],R=Object(i.useState)(!1),I=Object(u.a)(R,2),L=I[0],F=I[1],P=Object(i.useState)(!1),_=Object(u.a)(P,2),N=_[0],A=_[1];Object(i.useEffect)((function(){N&&(E<g?setTimeout((function(){S(E+1)}),1e3/30):(A(!1),S(0)))}),[N,E]);var M=Object(i.useMemo)((function(){return function(){var n=e.node.children[0].data;return"argument-mng"===n.type?n.data.args.map((function(e){return{key:e.data.name,value:""}})):[]}()}),[]);Object(i.useEffect)((function(){s(M.map((function(e){return{value:e.value,errors:[]}})))}),[]);var B=Object(i.useMemo)((function(){return l.map((function(e,n){return Object(C.jsx)(yn.FormRecord,{titleLabel:M.map((function(e){return e.key}))[n],labelWidth:250,jsx:Object(C.jsx)(yn.TextField,{width:332,isNumber:!0,checkable:e,setCheckable:function(n){e=Object(d.a)({},n),s(l.slice())},validates:[{checker:function(e){return et.checkRequired(e)},errorType:"required"}]})},n)}))}),[l]),D=function(){F(!0);var n=[],t=[],a=0;do{if(0===a){var r=e.node.data.data;t.push(new it.Instance(wt.buildLogicProps(t,r,e.rootData,l.map((function(e,n){return{name:M.map((function(e){return e.key}))[n],value:Number(e.value)}})))))}n.push(tt.createURL(550,550,(function(e){t.forEach((function(n){n.draw(e)})),e.globalAlpha=1,e.font="16pt Arial",e.fillStyle="#ffffff",e.fillText("".concat(a),6,24),e.fillStyle="#ffec5c",e.fillText("".concat(t.length),6,44),e.save()})));for(var i=t.length-1;i>=0;i--)t[i].update();for(var c=t.length-1;c>=0;c--)t[c].isLive||t.splice(c,1);if(a>500||t.length>3e3)break;a++}while(t.length>0);v(a),f(n),F(!1),k(1)},q=function(){return void 0==l.find((function(e){return e.errors.length>0}))},U=Object(C.jsxs)(Lt,{children:[Object(C.jsx)(Rt,{children:B}),Object(C.jsx)(yn.ButtonRecord,{isCenter:!0,buttons:[{label:"Build",isEnable:q()&&!L,callback:function(){D()}}]})]}),z=Object(C.jsxs)(Lt,{children:[Object(C.jsx)(It,{children:0===p.length?Object(C.jsx)(C.Fragment,{}):Object(C.jsx)(_t,{src:p[E]})}),Object(C.jsx)(Ft,{ref:r,onClick:function(e){if(!N){var n=e.pageX,t=r.current.getBoundingClientRect(),a=(n-(t.left+window.pageXOffset))/t.width;S(Math.floor(g*a))}},children:Object(C.jsx)(Pt,{rate:100*E/(g-1)})}),Object(C.jsx)(yn.ButtonRecord,{isCenter:!0,buttons:[{label:"\u2190",width:50,isEnable:!N&&E>0,callback:function(){S(E-1)}},{label:"\u2192",width:50,isEnable:!N&&E<p.length-1,callback:function(){S(E+1)}},{label:N?"Stop":"start",callback:function(){A(!N)}},{label:"reset",isEnable:!N,callback:function(){S(0)}}]})]});return Object(C.jsxs)(Ct,{width:600,height:660,tabIndex:0,onKeyDown:function(e){if(0===y)q()&&" "===e.key&&D();else switch(e.key){case"ArrowLeft":!N&&!N&&E>0&&S(E-1);break;case"ArrowRight":!N&&E<p.length-1&&S(E+1);break;case" ":A(!N)}N||"Escape"!==e.key||(t.system.dialog=null,a(Object(d.a)({},t)))},children:[Object(C.jsx)(St,{children:Object(C.jsx)(Ke,{tabElements:[{name:"Build",enable:!0,cont:U},{name:"Play",enable:-1!==g,cont:z}],activeNo:y,selectTabIndex:function(e){return k(e)}})}),Object(C.jsx)(Nt,{isEnable:!N,onClick:function(){t.system.dialog=null,a(Object(d.a)({},t))},children:"\xd7"})]})};var Tt,Et=kt,Ct=b.b.div(pt||(pt=Object(s.a)(["\n    display: inline-block;\n    position: absolute;\n    z-index: 11;\n    top: calc(50% - ","px);\n    left: calc(50% - ","px);\n    width: ","px;\n    height: ","px;\n    background-color: #e7e7e7e2;\n    border: 1px solid #8f8f8f;\n    border-radius: 4px;\n    box-shadow: 10px 15px 15px #0000004b;\n"])),(function(e){return e.height/2}),(function(e){return e.width/2}),(function(e){return e.width}),(function(e){return e.height})),St=b.b.div(ft||(ft=Object(s.a)(["\n    display: inline-block;\n    width: 100%;\n    height: 100%;\n    background-color: #4d5056df;\n"]))),Rt=b.b.div(jt||(jt=Object(s.a)(["\n    display: inline-block;\n    width: 100%;\n    height: 580px;\n    background-color: #a2c1d5df;\n"]))),It=b.b.div(mt||(mt=Object(s.a)(["\n    display: inline-block;\n    width: ","px;\n    height: ","px;\n    margin: 5px 0 0 20px;\n    background-color: #020202df;\n    border: solid 1px #fff;\n    box-sizing: border-box;\n"])),wt.SCREEN_WIDTH,wt.SCREEN_HEIGHT),Lt=b.b.div(gt||(gt=Object(s.a)(["\n    display: inline-block;\n    width: 100%;\n    height: 100%;\n    background-color: #aed5d8e0;\n"]))),Ft=b.b.div(vt||(vt=Object(s.a)(["\n    display: inline-block;\n    width: calc(100% - 8px);\n    height: 20px;\n    margin: 5px 0 0 4px;\n    background-color: #000000;\n    border: solid 1px #fff;\n    box-sizing: border-box;\n"]))),Pt=b.b.div(xt||(xt=Object(s.a)(["\n    display: inline-block;\n    position: relative;\n    width: ","%;\n    height: 100%;\n    /* background-color: #2fccf3; */\n    background: linear-gradient(to bottom, #37819492, #2fccf3, #37819492);\n"])),(function(e){return e.rate})),_t=b.b.img(Ot||(Ot=Object(s.a)(["\n    display: inline-block;\n    position: relative;\n    width: 100%;\n    height: 100%;\n"]))),Nt=b.b.div(yt||(yt=Object(s.a)(["\n    display: inline-block;\n    position: absolute;\n    top: 2px;\n    right: 4px;\n    width: 30px;\n    height: 30px;\n    z-index: 12;\n    background-color: #d5d5d5;\n    border: 1px solid #3d3d3d;\n    border-radius: 4px;\n    font-size: 18px;\n    padding-left: 8px;\n    font-weight: 600;\n    color: #3d3d3d;\n    box-sizing: border-box;\n    ","\n    &:hover {\n        background-color: #ce9595;\n    }\n"])),(function(e){return e.isEnable?"":Ne.CSS_BUTTON_DISABLE}));!function(e){e.getInnerNode=function(e){for(var n=e,t=arguments.length,a=new Array(t>1?t-1:0),r=1;r<t;r++)a[r-1]=arguments[r];return a.some((function(e){if(null==n)return 1;var t=n.children.find((function(n){return n.data.type===e}));n=void 0==t?null:t})),n},e.getInnerWrap=function(e){for(var n=e,t=arguments.length,r=new Array(t>1?t-1:0),i=1;i<t;i++)r[i-1]=arguments[i];return r.some((function(e){if(null==n)return 1;var t=a(n.type);if(null==t)n=null;else{var r=n.data["".concat(t)].find((function(n){return n.type===e}));n=void 0==r?null:r}})),n},e.addChild=function(e,t){return n(e,t,t.children.length)};var n=e.insertChild=function(e,n,t){var r=n.data,i=a(r.type);r.data["".concat(i)].splice(t,0,e);var c=Dn.createNode(e,n);return n.children.splice(t,0,c),c},t=(e.removeChild=function(e,n,t){var r=e.data,i=a(r.type);r.data["".concat(i)].splice(n,t),e.children.splice(n,t)},e.isHead=function(e){return null!=e.parent&&e.parent.children[0]==e},e.isTail=function(e){if(null==e.parent)return!1;var n=e.parent.children;return n[n.length-1]==e},function(e,n){if(null!=e.parent){var t=e.parent.children,r=e.parent.data,i=a(r.type),c=r.data["".concat(i)],o=-1;if(t.some((function(n,t){if(n==e)return o=t,1})),-1!==o){var l=t[o];t[o]=t[o+n],t[o+n]=l;var s=c[o];c[o]=c[o+n],c[o+n]=s}}}),a=(e.getSwapButtons=function(e,n){return Object(C.jsxs)(C.Fragment,{children:[Object(C.jsx)(yn.ButtonRecord,{isCenter:!0,buttons:[{label:"Swap \u2191",isEnable:!Tt.isHead(e),callback:function(){t(e,-1),n()}}]}),Object(C.jsx)(yn.ButtonRecord,{isCenter:!0,buttons:[{label:"Swap \u2193",isEnable:!Tt.isTail(e),callback:function(){t(e,1),n()}}]})]})},e.getListParamName=function(e){switch(e){case"seed-mng":case"logic-mng":return"defs";case"seed-item":case"connector":case"inherit-logic":case"interface-mng":case"logic-item":return"mngs";case"send-mng":case"behavior-mng":case"visual-mng":case"extend-mng":case"seedsend-mng":case"visual-mng":return"params";case"inherit-mng":return"inherits";case"seedarg-mng":case"argument-mng":return"args";case"sample-mng":return"samples";case"inhfld-mng":case"field-mng":return"fields";case"thumbnail-mng":return"items"}return null}),r=e.getIdentifyParamName=function(e){switch(e){case"argument-item":case"field-item":case"logic-item":return"name";case"connector":return"id"}return null},i=e.getNamableProps=function(e){switch(e){case"connector":return"id";case"logic-item":return"name"}return""},c=e.syncTreeElementFromWrap=function(e){var n=e.data,t=a(n.type);null!=t&&n.data[t].forEach((function(n){var t=Dn.createNode(n,e);e.children.push(t),c(t)}))},o=(e.createParamWrap=function(e,n){return{type:e,data:n}},e.createParamWrapList=function(e,n){return n.map((function(n){return{type:e,data:n}}))}),l=e.createVisualParams=function(){var e=ut.VisualParamType;return o("param-item",[{name:e.RADIUS,formulaItems:["var"],values:[{type:"direct",value:"20"}]},{name:e.COLOR_R,formulaItems:["var"],values:[{type:"direct",value:"255"}]},{name:e.COLOR_G,formulaItems:["var"],values:[{type:"direct",value:"255"}]},{name:e.COLOR_B,formulaItems:["var"],values:[{type:"direct",value:"255"}]},{name:e.COLOR_A,formulaItems:["var"],values:[{type:"direct",value:"255"}]}])},s=e.createBehaviorParams=function(){var e=[],n=ut.BehaviorParamType;return e.push({name:n.LIMIT,formulaItems:["var"],values:[{type:"direct",value:"30"}]}),e.push({name:n.POS_X,formulaItems:["var"],values:[{type:"direct",value:"0"}]}),e.push({name:n.POS_Y,formulaItems:["var"],values:[{type:"direct",value:"0"}]}),e.push({name:n.VEC_X,formulaItems:["var"],values:[{type:"direct",value:"0"}]}),e.push({name:n.VEC_Y,formulaItems:["var"],values:[{type:"direct",value:"0"}]}),o("param-item",e)};e.getDefaultLogicMngs=function(){return[{type:"visual-mng",data:{params:l()}},{type:"behavior-mng",data:{params:s()}}]},e.getInitialData=function(){return{type:"root",data:{seedMng:{type:"seed-mng",data:{defs:[]}},logicMng:{type:"logic-mng",data:{defs:[]}}}}},e.getSeedNameList=function(e){var n=[];return e.defs.forEach((function(e){null!=e.data&&n.push(e.data.name)})),n},e.getExistNameList=function(e){var n,t=[],i=e.data,c=r(i.type),o=null===(n=e.parent)||void 0===n?void 0:n.data,l=a(o.type);return null==l||null==c?[]:(o.data[l].forEach((function(e){null!=e.data&&i!=e&&t.push(e.data[c])})),t)},e.getLogicNameList=function(e){var n=[];return e.defs.forEach((function(e){null!=e.data&&n.push(e.data.name)})),n},e.getParamNameList=function(e){var n=[];ut.VisualParams.forEach((function(e){n.push(e)})),ut.BehaviorParams.forEach((function(e){n.push(e)})),ut.SelfParams.forEach((function(e){n.push(e)})),ut.ExtendParams.forEach((function(e){n.push(e)})),ut.EffectParams.forEach((function(e){n.push(e)})),ut.ModulateParams.forEach((function(e){n.push(e)})),ut.Constants.forEach((function(e){n.push(e)}));var t=e.mngs.find((function(e){return"argument-mng"===e.type}));void 0!=t&&t.data.args.forEach((function(e){null!=e.data&&n.push(e.data.name)}));var a=e.mngs.find((function(e){return"field-mng"===e.type}));void 0!=a&&a.data.fields.forEach((function(e){null!=e.data&&n.push(e.data.name)}));return n},e.getNumberingOnPrefixName=function(e,n){for(var t=0;;){if(void 0==n.children.find((function(n){var a=n.data;return null!=a.data&&(console.log(a),a.data[i(a.type)]==="".concat(e).concat(t))})))break;t++}return"".concat(e).concat(t)},e.searchVariableReferInFormula=function(e,n){var t,a,r=(null===(t=e.parent)||void 0===t?void 0:t.data).type,i=null===(a=function(){var n,t,a,i,c,o;switch(r){case"field-mng":case"argument-mng":return null===(n=e.parent)||void 0===n||null===(t=n.parent)||void 0===t?void 0:t.data;case"inhfld-mng":return null===(a=e.parent)||void 0===a||null===(i=a.parent)||void 0===i||null===(c=i.parent)||void 0===c||null===(o=c.parent)||void 0===o?void 0:o.data}}())||void 0===a?void 0:a.data;if("argument-mng"===r){var c=i.mngs.find((function(e){return"field-mng"===e.type}));void 0!=c&&n(c.data.fields)}if("inhfld-mng"!==r){var o=i.mngs.find((function(e){return"visual-mng"===e.type}));void 0!=o&&n(o.data.params);var l=i.mngs.find((function(e){return"behavior-mng"===e.type}));void 0!=l&&n(l.data.params)}var s=i.mngs.find((function(e){return"inherit-mng"===e.type}));void 0!=s&&s.data.inherits.forEach((function(e){var t,a;if("inhfld-mng"!==r){var i=Tt.getInnerWrap(e,"inhfld-mng");null!=i&&n(i.data.fields)}n((null===(t=Tt.getInnerWrap(e,"extend-mng"))||void 0===t?void 0:t.data).params),n((null===(a=Tt.getInnerWrap(e,"send-mng"))||void 0===a?void 0:a.data).params)}))}}(Tt||(Tt={}));var At,Mt=Tt,Bt=function(){var e=Object(i.useContext)(Fi),n=e.node,t=e.setFocusNode;n.data;return Object(C.jsx)(C.Fragment,{children:Object(C.jsx)(yn.BorderPanel,{title:"operation",innerJsx:Object(C.jsx)(yn.ButtonRecord,{isCenter:!0,buttons:[{label:"Add Argument",callback:function(){var e=Mt.addChild({type:"argument-item",data:null},n);t(e)}}]})})})};(At||(At={})).Component=function(e){var n,t=Object(i.useContext)(Fi),a=t.node,r=t.isModify,c=t.setModify,o=t.removeSelf,l=a.data,s=yn.isCompleteCheck(e.checkableFields);return Object(C.jsx)(C.Fragment,{children:Object(C.jsx)(yn.ButtonRecord,{isCenter:!0,buttons:[{label:"Cancel",isEnable:r,callback:function(){null==l.data?o():e.mappingForm(),c(!1)}},{label:r?"Regist":"Modify",isEnable:!r||(null!==(n=e.isInputOK)&&void 0!==n?n:s),callback:function(){r?(null==l.data?e.firstRegist():e.modifyRegist(),c(!1)):c(!0)}}]})})};var Dt,qt,Ut,zt,Vt,Ht=At,Wt=function(){var e=Object(i.useContext)(Gc),n=e.store,t=e.setStore,a=Object(i.useContext)(Fi),r=a.node,c=a.removeSelf,o=a.setModify,l=a.isModify,s=a.invalidate,b=r.data,h=Object(i.useState)({value:"",errors:[]}),p=Object(u.a)(h,2),f=p[0],j=p[1],m=Object(i.useState)({value:"number",errors:[]}),g=Object(u.a)(m,2),v=g[0],x=g[1],O=Object(i.useMemo)((function(){var e,n,t=(null===(e=r.parent)||void 0===e||null===(n=e.parent)||void 0===n?void 0:n.data).data;return Mt.getParamNameList(t)}),[r]),y=function(){var e=b.data;j(Object(d.a)(Object(d.a)({},f),{},{value:e.name})),x(Object(d.a)(Object(d.a)({},v),{},{value:e.valueType}))};return Object(i.useEffect)((function(){null==b.data?o(!0):y()}),[r]),Object(C.jsxs)(C.Fragment,{children:[Object(C.jsx)(Ht.Component,{mappingForm:y,checkableFields:[f,v],firstRegist:function(){var e,n={name:f.value,valueType:v.value};n.name=f.value,b.data=n,Gt(null===(e=r.parent)||void 0===e?void 0:e.parent,f.value)},modifyRegist:function(){var e,n=b.data,t=n.name;(n.name=f.value,n.valueType=v.value,b.data=n,t!==f.value)&&Yt(null===(e=r.parent)||void 0===e?void 0:e.parent,t,f.value)}}),Object(C.jsx)(yn.BorderPanel,{title:"param",innerJsx:Object(C.jsxs)(C.Fragment,{children:[Object(C.jsx)(yn.FormRecord,{titleLabel:"Name",jsx:Object(C.jsx)(yn.TextField,{width:200,isReadOnly:!l,checkable:f,setCheckable:j,validates:[{checker:function(e){return et.checkRequired(e)},errorType:"required"},{checker:function(e){return et.checkStringLength(e,1,16)},errorType:"length"},{checker:function(e){return wi.checkFieldName(e)},errorType:"value"},{checker:function(e){return!O.filter((function(e){return null==b.data||b.data.name!==e})).includes(e)},errorType:"relation"}]})}),Object(C.jsx)(yn.FormRecord,{titleLabel:"Type",jsx:Object(C.jsx)(yn.Combobox,{checkable:v,setCheckable:x,list:wi.ArgTypes.map((function(e){return{value:e,labelText:e,isDisabled:"color"===e}})),headBlank:!0,width:200,isReadOnly:!l,validates:[{checker:function(e){return et.checkRequired(e)},errorType:"required"}]})})]})}),Object(C.jsx)(yn.BorderPanel,{title:"operation",isEnable:!l,innerJsx:Object(C.jsxs)(C.Fragment,{children:[Object(C.jsx)(yn.ButtonRecord,{isCenter:!0,buttons:[{label:"Delete",isEnable:!l,callback:function(){var e,a=b.data,i=Jt(r,a.name);0===i.length?(Kt(null===(e=r.parent)||void 0===e?void 0:e.parent,f.value),c()):(n.system.dialog=Object(C.jsx)(Gn.Component,{message:"[".concat(a.name,"] is referenced in the formula.\n").concat(i)}),t(Object(d.a)({},n)))}}]}),Mt.getSwapButtons(r,s)]})})]})},Jt=function(e,n){var t=[];return Mt.searchVariableReferInFormula(e,(function(e){e.forEach((function(e){var a=e.data;a.values.forEach((function(e){"argument"===e.type&&e.value===n&&t.push(a.name)}))}))})),t},Yt=function(e,n,t){var a=function(e){e.forEach((function(e){e.data.values.forEach((function(e){"argument"===e.type&&e.value===n&&(e.value=t)}))}))},r=e.data,i=r.data,c=i.mngs.find((function(e){return"field-mng"===e.type}));void 0!=c&&a(c.data.fields);var o=i.mngs.find((function(e){return"visual-mng"===e.type}));void 0!=o&&a(o.data.params);var l=i.mngs.find((function(e){return"behavior-mng"===e.type}));void 0!=l&&a(l.data.params);var s=i.mngs.find((function(e){return"inherit-mng"===e.type}));void 0!=s&&s.data.inherits.forEach((function(e){var n,t,r=Mt.getInnerWrap(e,"inhfld-mng");null!=r&&a(r.data.fields),a((null===(n=Mt.getInnerWrap(e,"extend-mng"))||void 0===n?void 0:n.data).params),a((null===(t=Mt.getInnerWrap(e,"send-mng"))||void 0===t?void 0:t.data).params)}));var d=function(e){e.forEach((function(e){var a=e.data;a.name===n&&(a.name=t)}))};if("logic-item"===r.type){var u=function e(n){var t=n.mngs.find((function(e){return"inherit-mng"===e.type}));void 0!=t&&t.data.inherits.forEach((function(n){var t=n.data;if("create"===t.method){var a=Mt.getInnerWrap(n,"inherit-logic").data;e(a)}else if("depend"===t.method&&t.depend===i.name){var r=Mt.getInnerWrap(n,"send-mng").data;d(r.params)}}))};e.parent.children.forEach((function(e){u(e.data.data)}))}else if("inherit-logic"===r.type){var b,h=null===(b=e.parent)||void 0===b?void 0:b.data,p=Mt.getInnerWrap(h,"send-mng").data;d(p.params)}},Xt=function(e,n){var t=e.data,a=t.data;if("logic-item"===t.type){var r=function e(t){var r=t.children.find((function(e){return"inherit-mng"===e.data.type}));void 0!=r&&r.children.forEach((function(t){var r=t.data.data;"create"===r.method?e(Mt.getInnerNode(t,"inherit-logic")):"depend"===r.method&&r.depend===a.name&&n(Mt.getInnerNode(t,"extend-mng"))}))};e.parent.children.forEach((function(e){r(e)}))}else if("inherit-logic"===t.type){var i=Mt.getInnerNode(e.parent,"send-mng");n(i)}},Gt=function(e,n){Xt(e,(function(e){var t=Mt.createParamWrap("send-item",{name:n,formulaItems:["var"],values:[{type:"direct",value:"0"}]});e.data.data.params.push(t),e.children.push(Dn.createNode(t,e))}))},Kt=function(e,n){Xt(e,(function(e){var t=e.data.data,a=-1;t.params.some((function(e,t){if(e.data.name==n)return a=t,1})),t.params.splice(a,1),e.children.splice(a,1)}))},Qt=function(){var e=Object(i.useContext)(Fi),n=e.node,t=e.setFocusNode,a=n.data;return Object(C.jsx)(C.Fragment,{children:Object(C.jsx)(yn.BorderPanel,{title:"operation",innerJsx:Object(C.jsx)(yn.ButtonRecord,{isCenter:!0,buttons:[{label:"Add Seed",callback:function(){var e={type:"seed-item",data:null};a.data.defs.push(e);var r=Dn.createNode(e,n);n.children.push(r),t(r)}}]})})})},Zt=function(){var e=Object(i.useContext)(Fi),n=e.node,t=e.setFocusNode;n.data;return Object(C.jsx)(C.Fragment,{children:Object(C.jsx)(yn.BorderPanel,{title:"operation",innerJsx:Object(C.jsx)(yn.ButtonRecord,{isCenter:!0,buttons:[{label:"Add Logic",callback:function(){var e=Mt.addChild({type:"logic-item",data:null},n);t(e)}}]})})})},$t=function(){var e=Object(i.useContext)(Gc),n=e.store,t=e.setStore,a=Object(i.useContext)(Fi),r=a.removeSelf,c=a.node,o=a.setFocusNode,l=a.invalidate,s=a.setModify,b=a.isModify,h=c.data,p=Object(i.useState)({value:"",errors:[]}),f=Object(u.a)(p,2),j=f[0],m=f[1],g=Object(i.useMemo)((function(){var e,n=c.children.map((function(e){return e.data.type}));return["connector"===(null===(e=c.parent)||void 0===e?void 0:e.data).type,n.includes("argument-mng"),n.includes("field-mng"),n.includes("inherit-mng")]}),[c]),v=Object(u.a)(g,4),x=v[0],O=v[1],y=v[2],k=v[3],w=function(){if(!x){var e=h.data;m(Object(d.a)(Object(d.a)({},j),{},{value:e.name}))}},T=Object(i.useMemo)((function(){return"inherit-logic"===h.type?[]:Mt.getExistNameList(c)}),[c]);Object(i.useEffect)((function(){null==h.data?s(!0):w()}),[c,x]);var E=function(e,n,t){e?(Mt.removeChild(c,n,1),o(Object(d.a)({},c)),l()):(Mt.insertChild(t,c,n),o(Object(d.a)({},c)),l())};return Object(C.jsxs)(C.Fragment,{children:[x?Object(C.jsx)(C.Fragment,{}):Object(C.jsxs)(C.Fragment,{children:[Object(C.jsx)(Ht.Component,{mappingForm:w,checkableFields:[j],firstRegist:function(){var e={name:j.value,mngs:Mt.getDefaultLogicMngs()};e.name=j.value,h.data=e,e.mngs.forEach((function(e){var n=Dn.createNode(e,c);n.data.data.params.forEach((function(e){n.children.push(Dn.createNode(e,n))})),c.children.push(n)})),l(),t(Object(d.a)({},n))},modifyRegist:function(){var e=h.data,n=e.name;e.name=j.value,h.data=e,n!==e.name&&na(c,n,e.name)}}),Object(C.jsx)(yn.BorderPanel,{title:"param",innerJsx:Object(C.jsx)(C.Fragment,{children:Object(C.jsx)(yn.FormRecord,{titleLabel:"Name",jsx:Object(C.jsx)(yn.TextField,{width:200,isReadOnly:!b,checkable:j,setCheckable:m,validates:[{checker:function(e){return et.checkRequired(e)},errorType:"required"},{checker:function(e){return et.checkStringLength(e,1,16)},errorType:"length"},{checker:function(e){return wi.checkFieldName(e)},errorType:"value"},{checker:function(e){return!T.includes(e)},errorType:"relation"}]})})})})]}),Object(C.jsx)(yn.BorderPanel,{title:"element",isEnable:!b,innerJsx:Object(C.jsxs)(C.Fragment,{children:[Object(C.jsx)(yn.Record,{textAlign:"center",jsx:Object(C.jsx)(yn.Switch,{label:"Argument",width:300,isUse:O,isEnable:!function(){var e=Mt.getInnerNode(c,"argument-mng");return null!=e&&e.children.length>0}(),callback:function(){E(O,0,{type:"argument-mng",data:{args:[]}})}})}),Object(C.jsx)(yn.Record,{textAlign:"center",isEnable:!0,jsx:Object(C.jsx)(yn.Switch,{label:"Field",width:300,isUse:y,isEnable:!function(){var e=Mt.getInnerNode(c,"field-mng");return null!=e&&e.children.length>0}(),callback:function(){var e=0;O&&e++,E(y,e,{type:"field-mng",data:{fields:[]}})}})}),Object(C.jsx)(yn.Record,{textAlign:"center",jsx:Object(C.jsx)(yn.Switch,{label:"Inherit",width:300,isUse:k,isEnable:!function(){var e=Mt.getInnerNode(c,"inherit-mng");return null!=e&&e.children.length>0}(),callback:function(){var e=2;O&&e++,y&&e++,E(k,e,{type:"inherit-mng",data:{inherits:[]}})}})})]})}),x?Object(C.jsx)(C.Fragment,{}):Object(C.jsx)(yn.BorderPanel,{title:"operation",isEnable:!b,innerJsx:Object(C.jsxs)(C.Fragment,{children:[Object(C.jsx)(yn.ButtonRecord,{isCenter:!0,buttons:[{label:"Clone",isEnable:!1,callback:function(){n.system.dialog=Object(C.jsx)(Gn.Component,{message:"Clone this logic.",buttons:[{label:"Cancel",callback:function(){n.system.dialog=null,t(Object(d.a)({},n))}},{label:"Enter",callback:function(){for(var e=c;null!=e.parent;)e=e.parent;var a=c.children.find((function(e){return"inherit-logic"===e.data.type})),r=e.children.find((function(e){return"logic-mng"===e.data.type}));if(void 0!=r&&void 0!=a){var i=a.data.data,o=JSON.parse(JSON.stringify(i)),s=Mt.getNumberingOnPrefixName("clone_inherit_",r),u=Object(d.a)(Object(d.a)({},o),{},{name:s}),b={type:"logic-item",data:u},p=Mt.addChild(b,r);p.children=wi.getChildrenElementNode(p),Mt.removeChild(c,2,1);var f=h.data;f.method="depend",f.depend=u.name,w(),n.system.dialog=null,t(Object(d.a)({},n)),l()}}}]}),t(Object(d.a)({},n))}}]}),Object(C.jsx)(yn.ButtonRecord,{isCenter:!0,buttons:[{label:"Delete",callback:function(){var e=h.data,a=ea(c,e.name);0===a.length?r():(n.system.dialog=Object(C.jsx)(Gn.Component,{message:"[".concat(e.name,"] is referenced in the Inherit.\n").concat(a)}),t(Object(d.a)({},n)))}}]}),Mt.getSwapButtons(c,l)]})})]})},ea=function(e,n){var t=[];return ta(e,n,(function(e){t.push(e.id)})),t},na=function(e,n,t){ta(e,n,(function(e){e.depend=t}))},ta=function(e,n,t){var a=e.parent,r=function e(a){var r=a.mngs.find((function(e){return"inherit-mng"===e.type}));void 0!=r&&r.data.inherits.forEach((function(a){var r=a.data;if("create"===r.method){var i=Mt.getInnerWrap(a,"inherit-logic");e(null===i||void 0===i?void 0:i.data)}else r.depend===n&&t(r)}))};a.children.forEach((function(e){r(e.data.data)}))};!function(e){e[e.FIELD=0]="FIELD",e[e.INITIAL=1]="INITIAL",e[e.INHERIT_FIELD=2]="INHERIT_FIELD",e[e.INHERIT_EXTEND=3]="INHERIT_EXTEND",e[e.INHERIT_SEND=4]="INHERIT_SEND"}(Vt||(Vt={}));var aa,ra,ia,ca=function(){var e=Object(i.useContext)(Gc),n=e.store,t=e.setStore,a=Object(i.useContext)(Fi),r=a.removeSelf,c=a.node,o=a.invalidate,l=a.setModify,s=a.isModify,b=c.data,h=Object(i.useState)({value:"",errors:[]}),p=Object(u.a)(h,2),f=p[0],j=p[1],m=Object(i.useState)([]),g=Object(u.a)(m,2),v=g[0],x=g[1],O=Object(i.useState)([]),y=Object(u.a)(O,2),k=y[0],w=y[1],T="field-item"===b.type,E="condition-item"===b.type,S=function(){var e=b.data;j({value:e.name,errors:[]}),x(e.formulaItems.slice()),w(e.values.map((function(e){return{inputType:{value:e.type,errors:[]},value:{value:e.value,errors:[]}}})))};Object(i.useEffect)((function(){null==b.data?l(!0):S()}),[c]);var R=Object(i.useMemo)((function(){var e;switch((null===(e=c.parent)||void 0===e?void 0:e.data).type){case"field-mng":return Vt.FIELD;case"visual-mng":case"behavior-mng":return Vt.INITIAL;case"inhfld-mng":return Vt.INHERIT_FIELD;case"extend-mng":return Vt.INHERIT_EXTEND;case"send-mng":return Vt.INHERIT_SEND}return-1}),[c]),I=Object(i.useMemo)((function(){var e,n=[],t=[],a=(null===(e=c.parent)||void 0===e?void 0:e.data).type;if(["field-mng","behavior-mng","visual-mng","inhfld-mng","send-mng","extend-mng"].includes(a)){var r,i=(null===(r=function(){var e,n,t,r;switch(a){case"field-mng":case"visual-mng":case"behavior-mng":return null===(e=c.parent)||void 0===e?void 0:e.parent;case"inhfld-mng":case"send-mng":case"extend-mng":return null===c||void 0===c||null===(n=c.parent)||void 0===n||null===(t=n.parent)||void 0===t||null===(r=t.parent)||void 0===r?void 0:r.parent}}())||void 0===r?void 0:r.data).data,o=i.mngs.find((function(e){return"argument-mng"===e.type}));void 0!=o&&(n=o.data.args.map((function(e){return e.data.name})));var l=i.mngs.find((function(e){return"field-mng"===e.type}));R>=Vt.INITIAL&&void 0!=l&&l.data.fields.forEach((function(e){var n=e.data.name;t.push(n)}))}else if("seedsend-mng"===a){var s,d=Mt.getInnerWrap((null===(s=c.parent)||void 0===s?void 0:s.parent).data,"seedarg-mng");if(null==d)throw new Error("argMng is undefined.");n=d.data.args.map((function(e){return e.data.name}))}if(R>=Vt.INHERIT_FIELD){if(t.push(ut.BehaviorParamType.POS_X),t.push(ut.BehaviorParamType.POS_Y),t.push(ut.BehaviorParamType.VEC_X),t.push(ut.BehaviorParamType.VEC_Y),t.push(ut.BehaviorParamType.VEC_RAD),t.push(ut.BehaviorParamType.VEC_LEN),R>=Vt.INHERIT_EXTEND){var u,b=Mt.getInnerNode(null===(u=c.parent)||void 0===u?void 0:u.parent,"inhfld-mng");if(null!=b)b.data.data.fields.forEach((function(e){var n=e.data.name;t.push(n)}))}var h;if(R===Vt.INHERIT_SEND)void 0!=Mt.getInnerWrap((null===(h=c.parent)||void 0===h?void 0:h.parent).data,"extend-mng").data.params.find((function(e){return e.data.name===ut.ExtendParamType.LOOP_COUNT}))&&(t.push(ut.ExtendParamType.LOOP_COUNT),t.push(ut.ExtendParamType.LOOP_ITERATE))}return[n,t]}),[c]),L=Object(u.a)(I,2),F=L[0],P=L[1],_=Object(i.useMemo)((function(){var e,n,t=(null===(e=c.parent)||void 0===e||null===(n=e.parent)||void 0===n?void 0:n.data).data;return Mt.getParamNameList(t)}),[c]);Object(i.useEffect)((function(){var e=0;if(v.forEach((function(n){"var"===n&&e++})),k.length<e){for(var n=e-k.length,t=0;t<n;t++)k.push({inputType:{value:"direct",errors:[]},value:{value:"",errors:[]}});w(k.slice())}else if(k.length>e){for(var a=k.length-e,r=0;r<a;r++)k.splice(k.length-a,a);w(k.slice())}}),[v]);var N=Object(i.useMemo)((function(){var e=0;return v.forEach((function(n){["(","rand(","integer("].includes(n)?e++:")"===n&&e--})),e}),[v]),A=Object(i.useMemo)((function(){return k.map((function(e,n){return Object(C.jsx)(yn.FormRecord,{titleLabel:"var_".concat(n),labelWidth:90,marginTop:0===n?4:0,jsx:Object(C.jsxs)(C.Fragment,{children:[Object(C.jsx)(yn.Combobox,{checkable:e.inputType,width:142,isReadOnly:!s,setCheckable:function(e){k[n].inputType=e,s&&(k[n].value.value="direct"===e.value?"0":""),w(k.slice())},list:wi.ParamInputTypes.filter((function(e){switch(e){case"direct":case"constant":case"argument":return!0;case"field":return R>=Vt.INITIAL;case"self":return R>=Vt.INHERIT_FIELD}})).map((function(e){return{value:e,labelText:e}}))}),function(){var t=e.inputType.value;if("direct"===t)return Object(C.jsx)(yn.TextField,{marginLeft:2,checkable:e.value,isNumber:!0,isReadOnly:!s,width:178,setCheckable:function(e){k[n].value=e,w(k.slice())},validates:[{checker:function(e){return et.checkRequired(e)},errorType:"required"}]});var a=[];return"argument"===t?a=F:"field"===t?a=P:"self"===t?a=ut.SelfParams:"constant"===t&&(a=wt.ConstantValueMap.map((function(e){return e.name}))),Object(C.jsx)(yn.Combobox,{marginLeft:2,checkable:e.value,width:178,isReadOnly:!s,setCheckable:function(e){k[n].value=e,w(k.slice())},list:a.map((function(e){return{value:e,labelText:e}})),headBlank:!0,validates:[{checker:function(e){return et.checkRequired(e)},errorType:"required"}]})}()]})},n)}))}),[k,s]),M=function(){return v.length>0&&["var",")"].includes(v[v.length-1])},B=0===N&&k.length>0&&["var",")"].includes(v[v.length-1]),D=!B||void 0!=k.find((function(e){return e.value.errors.length>0})),q=function(e,n,t,a){return{label:e,width:n,isEnable:t,callback:function(){v.push(a),x(v.slice())}}};return Object(C.jsxs)(C.Fragment,{children:[Object(C.jsx)(Ht.Component,{mappingForm:S,checkableFields:[],firstRegist:function(){var e={name:f.value,formulaItems:v.slice(),values:k.map((function(e){return{type:e.inputType.value,value:e.value.value}}))};e.name=f.value,b.data=e},isInputOK:0===N&&!D&&0===f.errors.length,modifyRegist:function(){var e=b.data;if(e.formulaItems=v.slice(),e.values=k.map((function(e){return{type:e.inputType.value,value:e.value.value}})),T){var n=e.name;e.name=f.value,n!==f.value&&la(c.parent,n,f.value)}}}),Object(C.jsx)(yn.BorderPanel,{title:"param",innerJsx:Object(C.jsxs)(C.Fragment,{children:[Object(C.jsx)(yn.FormRecord,{titleLabel:"Name",jsx:Object(C.jsx)(yn.TextField,{width:200,isReadOnly:!s||!T,checkable:f,setCheckable:j,validates:[{checker:function(e){return et.checkRequired(e)},errorType:"required"},{checker:function(e){return et.checkStringLength(e,1,16)},errorType:"length"},{checker:function(e){return wi.checkFieldName(e)},errorType:"value"},{checker:function(e){return!_.filter((function(e){return null==b.data||b.data.name!==e})).includes(e)},errorType:"relation"}]})}),Object(C.jsx)(yn.ButtonRecord,{isCenter:!0,buttons:[q("+",50,s&&M(),"+"),q("-",50,s&&M(),"-"),q("*",50,s&&M(),"*"),q("/",50,s&&M(),"/"),q("%",50,s&&M(),"%"),q("(",35,s&&!M(),"("),q(")",35,s&&M()&&N>0,")"),{label:"del",width:60,isEnable:s&&v.length>0,callback:function(){v.splice(v.length-1,1),x(v.slice())}}]}),E?Object(C.jsx)(yn.ButtonRecord,{isCenter:!0,buttons:[q("<",50,s&&M(),"<"),q("<=",50,s&&M(),"<="),q("=",50,s&&M(),"="),q(">=",50,s&&M(),">="),q(">",50,s&&M(),">"),q("&&",50,s&&M(),"&&"),q("||",50,s&&M(),"||")]}):Object(C.jsx)(C.Fragment,{}),Object(C.jsx)(yn.ButtonRecord,{isCenter:!0,buttons:[q("var",70,s&&!M(),"var"),q("rand",80,s&&!M(),"rand("),q("integer",80,s&&!M(),"integer("),{label:"clear",isEnable:s&&v.length>0,width:90,callback:function(){x([])}}]}),Object(C.jsx)(sa,{isInvalid:!B,children:function(){var e=0,n=[];return v.forEach((function(t){n.length>0&&n.push(Object(C.jsx)("span",{children:"\xa0"},n.length)),"var"===t?(n.push(Object(C.jsx)(da,{children:"${var_".concat(e,"}")},n.length)),e++):n.push(Object(C.jsx)(ua,{children:t},n.length))})),n}()}),A]})}),Object(C.jsx)(yn.BorderPanel,{title:"operation",isEnable:!s&&T,innerJsx:Object(C.jsxs)(C.Fragment,{children:[Object(C.jsx)(yn.ButtonRecord,{isCenter:!0,buttons:[{label:"Delete",isEnable:!s,callback:function(){var e=b.data,a=oa(c,e.name);0===a.length?r():(n.system.dialog=Object(C.jsx)(Gn.Component,{message:"[".concat(e.name,"] is referenced in the formula.\n").concat(a)}),t(Object(d.a)({},n)))}}]}),T?Mt.getSwapButtons(c,o):Object(C.jsx)(C.Fragment,{})]})})]})},oa=function(e,n){var t=[];return Mt.searchVariableReferInFormula(e,(function(e){e.forEach((function(e){var a=e.data;a.values.forEach((function(e){"field"===e.type&&e.value===n&&t.push(a.name)}))}))})),t},la=function(e,n,t){var a=function(e){e.forEach((function(e){e.data.values.forEach((function(e){"field"===e.type&&e.value===n&&(e.value=t)}))}))},r=e.data.type;if("field-mng"===r){var i,c=(null===(i=e.parent)||void 0===i?void 0:i.data).data,o=c.mngs.find((function(e){return"visual-mng"===e.type}));void 0!=o&&a(o.data.params);var l=c.mngs.find((function(e){return"behavior-mng"===e.type}));void 0!=l&&a(l.data.params);var s=c.mngs.find((function(e){return"inherit-mng"===e.type}));void 0!=s&&s.data.inherits.forEach((function(e){var n,t,r=Mt.getInnerWrap(e,"inhfld-mng");null!=r&&a(r.data.fields),a((null===(n=Mt.getInnerWrap(e,"extend-mng"))||void 0===n?void 0:n.data).params),a((null===(t=Mt.getInnerWrap(e,"send-mng"))||void 0===t?void 0:t.data).params)}))}else if("inhfld-mng"===r){var d,u,b,h=null===(d=e.parent)||void 0===d?void 0:d.data;a((null===(u=Mt.getInnerWrap(h,"extend-mng"))||void 0===u?void 0:u.data).params),a((null===(b=Mt.getInnerWrap(h,"send-mng"))||void 0===b?void 0:b.data).params)}},sa=b.b.div(Dt||(Dt=Object(s.a)(["\n    display: inline-block;\n    width: calc(100% - 12px);\n    ","\n    overflow-wrap: break-word;\n    height: 100px;//calc(100% - 4px);\n    color: #585858;\n    border: solid 1px #7a7a7abf;\n    box-sizing: border-box;\n    background-color: #ffffff8b;\n    ","\n    border-radius: 4px;\n    text-align: left;\n    padding: 0 0 0 4px;\n    vertical-align: top;\n    margin: 5px 0 0 6px;\n"])),Ne.CSS_LABEL_MIDIUM,(function(e){return e.isInvalid?Object(b.a)(qt||(qt=Object(s.a)(["\n        background-color: #ffe8628a;\n    "]))):""})),da=b.b.span(Ut||(Ut=Object(s.a)(["\n    color: #e70013;\n"]))),ua=b.b.span(zt||(zt=Object(s.a)(["\n    color: #3333339d;\n"]))),ba=function(){var e=Object(i.useContext)(Fi),n=e.node,t=e.setFocusNode,a=e.invalidate,r=(e.setModify,e.isModify),c=n.data.data,o=Object(i.useMemo)((function(){var e=n.children.map((function(e){return e.data.data.name}));return[e.includes(ut.BehaviorParamType.VEC_X),e.includes(ut.ModulateParamType.DECAY_RATE),e.includes(ut.ModulateParamType.GRAVITY_VAL)]}),[n]),l=Object(u.a)(o,3),s=l[0],b=l[1],h=l[2],p=function(){!function(e,r,i,c){var o=(e?i:c).length;Mt.removeChild(n,r,o),(e?i:c).forEach((function(e,t){var a={type:"param-item",data:e};Mt.insertChild(a,n,r+t)})),t(Object(d.a)({},n)),a()}(!s,3,[{name:ut.BehaviorParamType.VEC_X,formulaItems:["var"],values:[{type:"direct",value:"0"}]},{name:ut.BehaviorParamType.VEC_Y,formulaItems:["var"],values:[{type:"direct",value:"0"}]}],[{name:ut.BehaviorParamType.VEC_RAD,formulaItems:["var"],values:[{type:"direct",value:"0"}]},{name:ut.BehaviorParamType.VEC_LEN,formulaItems:["var"],values:[{type:"direct",value:"0"}]}])},f=function(e,r,i){var o=i.length;e?(c.params.splice(r,o),n.children.splice(r,o),t(Object(d.a)({},n)),a()):(i.forEach((function(e,t){var a={type:"param-item",data:e};c.params.splice(r+t,0,a);var i=Dn.createNode(a,n);n.children.splice(r+t,0,i)})),t(Object(d.a)({},n)),a())};return Object(C.jsxs)(C.Fragment,{children:[Object(C.jsx)(yn.BorderPanel,{title:"method",isEnable:!r,innerJsx:Object(C.jsxs)(C.Fragment,{children:[Object(C.jsx)(yn.Record,{textAlign:"center",jsx:Object(C.jsx)(yn.Switch,{label:"Vector method",width:300,isRelation:!0,isUse:s,callback:p})}),Object(C.jsx)(yn.Record,{textAlign:"center",jsx:Object(C.jsx)(yn.Switch,{label:"Direction method",width:300,isRelation:!0,isUse:!s,callback:p})})]})}),Object(C.jsx)(yn.BorderPanel,{title:"modulate",isEnable:!r,innerJsx:Object(C.jsxs)(C.Fragment,{children:[Object(C.jsx)(yn.Record,{textAlign:"center",jsx:Object(C.jsx)(yn.Switch,{label:"Decay",width:300,isUse:b,callback:function(){f(b,5,[{name:ut.ModulateParamType.DECAY_RATE,formulaItems:["var"],values:[{type:"direct",value:"0.9"}]},{name:ut.ModulateParamType.DECAY_LIMIT,formulaItems:["var"],values:[{type:"direct",value:"1"}]}])}})}),Object(C.jsx)(yn.Record,{textAlign:"center",jsx:Object(C.jsx)(yn.Switch,{label:"Gravity",width:300,isUse:h,callback:function(){f(h,b?7:5,[{name:ut.ModulateParamType.GRAVITY_VAL,formulaItems:["var"],values:[{type:"direct",value:"0.2"}]},{name:ut.ModulateParamType.GRAVITY_LIMIT,formulaItems:["var"],values:[{type:"direct",value:"10"}]}])}})})]})})]})},ha=function(){var e=Object(i.useContext)(Fi),n=e.node,t=e.setFocusNode,a=e.invalidate,r=(e.setModify,e.isModify),c=n.data.data,o=Object(i.useMemo)((function(){var e=n.children.map((function(e){return e.data.data.name})),t="blank";return e.length>0&&(t=e.includes(ut.VisualParamType.THICKNESS)?"snake":"particle"),[t,e.includes(ut.EffectParamType.DISAPPEAR_START),e.includes(ut.EffectParamType.SHRINK_START),e.includes(ut.EffectParamType.FLASH_APPEAR_FRAME)]}),[n]),l=Object(u.a)(o,4),s=l[0],b=l[1],h=l[2],p=l[3],f=function(e,r,i){var c=i.length;e?(Mt.removeChild(n,r,c),t(Object(d.a)({},n)),a()):(i.forEach((function(e,t){var a={type:"param-item",data:e};Mt.insertChild(a,n,r+t)})),t(Object(d.a)({},n)),a())};return Object(C.jsxs)(C.Fragment,{children:[Object(C.jsx)(yn.BorderPanel,{title:"method",isEnable:!r,innerJsx:Object(C.jsxs)(C.Fragment,{children:[Object(C.jsx)(yn.Record,{textAlign:"center",isEnable:!(h||b||p),jsx:Object(C.jsx)(yn.Switch,{label:"None",width:300,isRelation:!0,isUse:"blank"===s,callback:function(){c.params.length=0,n.children.length=0,t(Object(d.a)({},n)),a()}})}),Object(C.jsx)(yn.Record,{textAlign:"center",jsx:Object(C.jsx)(yn.Switch,{label:"Particle Method",width:300,isRelation:!0,isUse:"particle"===s,callback:function(){var e;e=[{name:ut.VisualParamType.RADIUS,formulaItems:["var"],values:[{type:"direct",value:"20"}]},{name:ut.VisualParamType.COLOR_R,formulaItems:["var"],values:[{type:"direct",value:"255"}]},{name:ut.VisualParamType.COLOR_G,formulaItems:["var"],values:[{type:"direct",value:"255"}]},{name:ut.VisualParamType.COLOR_B,formulaItems:["var"],values:[{type:"direct",value:"255"}]},{name:ut.VisualParamType.COLOR_A,formulaItems:["var"],values:[{type:"direct",value:"255"}]}],e.forEach((function(e,t){var a={type:"param-item",data:e};Mt.insertChild(a,n,t)})),t(Object(d.a)({},n)),a()}})})]})}),Object(C.jsx)(yn.BorderPanel,{title:"effect",isEnable:!r&&"blank"!==s,innerJsx:Object(C.jsxs)(C.Fragment,{children:[Object(C.jsx)(yn.Record,{textAlign:"center",isEnable:!p,jsx:Object(C.jsx)(yn.Switch,{label:"Disappear",width:300,isUse:b,callback:function(){f(b,5,[{name:ut.EffectParamType.DISAPPEAR_START,formulaItems:["var"],values:[{type:"direct",value:"0"}]}])}})}),Object(C.jsx)(yn.Record,{textAlign:"center",isEnable:!p,jsx:Object(C.jsx)(yn.Switch,{label:"Shrink",width:300,isUse:h,callback:function(){f(h,b?6:5,[{name:ut.EffectParamType.SHRINK_START,formulaItems:["var"],values:[{type:"direct",value:"0"}]}])}})}),Object(C.jsx)(yn.Record,{textAlign:"center",isEnable:!(h||b),jsx:Object(C.jsx)(yn.Switch,{label:"Flash",width:300,isUse:p,callback:function(){f(p,5,[{name:ut.EffectParamType.FLASH_APPEAR_FRAME,formulaItems:["var"],values:[{type:"direct",value:"1"}]},{name:ut.EffectParamType.FLASH_HIDE_FRAME,formulaItems:["var"],values:[{type:"direct",value:"1"}]}])}})})]})})]})},pa=function(){var e=Object(i.useContext)(Fi),n=e.node,t=e.setFocusNode,a=e.invalidate,r=n.data.data;return Object(C.jsx)(C.Fragment,{children:Object(C.jsx)(yn.BorderPanel,{title:"operation",innerJsx:Object(C.jsx)(yn.ButtonRecord,{isCenter:!0,buttons:[{label:"Add Inherit",callback:function(){var e={type:"connector",data:null};r.inherits.push(e);var i=Dn.createNode(e,n);n.children.push(i),t(i),a()}}]})})})},fa=function(){var e,n=Object(i.useContext)(Gc),t=n.store,a=n.setStore,r=Object(i.useContext)(Fi),c=r.rootData,o=r.node,l=r.invalidate,s=r.setModify,b=r.isModify,h=r.removeSelf,p=r.setFocusNode,f=o.data,j=Object(i.useState)({value:"",errors:[]}),m=Object(u.a)(j,2),g=m[0],v=m[1],x=Object(i.useState)({value:"",errors:[]}),O=Object(u.a)(x,2),y=O[0],k=O[1],w=Object(i.useState)({value:"",errors:[]}),T=Object(u.a)(w,2),E=T[0],S=T[1],R=function(){var e=f.data;k(Object(d.a)(Object(d.a)({},y),{},{value:e.method})),S(Object(d.a)(Object(d.a)({},E),{},{value:e.depend})),v(Object(d.a)(Object(d.a)({},g),{},{value:e.id}))};Object(i.useEffect)((function(){if(null==f.data){s(!0);var e=Mt.getNumberingOnPrefixName("id_",o.parent);v(Object(d.a)(Object(d.a)({},g),{},{value:e}))}else R()}),[o]);var I="create"===y.value,L=Object(i.useMemo)((function(){return null!=Mt.getInnerNode(o,"inhfld-mng")}),[o]),F=Object(i.useMemo)((function(){return c.data.logicMng.data.defs.map((function(e){return e.data.name}))}),[o]),P=Object(i.useMemo)((function(){return Mt.getExistNameList(o)}),[o]),_=function(e){e.mngs=[],o.children=[],e.mngs.push({type:"extend-mng",data:{params:[]}}),e.mngs.push({type:"send-mng",data:{params:[]}}),I&&e.mngs.push({type:"inherit-logic",data:{mngs:Mt.getDefaultLogicMngs()}}),f.data=e,e.mngs.forEach((function(e){var n=Dn.createNode(e,o);switch(n.data.type){case"inherit-logic":Mt.syncTreeElementFromWrap(n);break;case"send-mng":var t;"depend"===(null===(t=n.parent)||void 0===t?void 0:t.data).data.method&&(console.log("initSendParams"),N(n,c))}o.children.push(n)}))},N=function(e,n){var t=function(e,n){var t,a=(null===(t=e.parent)||void 0===t?void 0:t.data).data,r=n.data.logicMng.data.defs.find((function(e){return e.data.name===a.depend}));if(void 0!=r){var i=r.data.mngs[0];if("argument-mng"===i.type)return i.data.args.map((function(e){return e.data.name}))}return[]}(e,n),a=e.data.data.params,r=a.map((function(e){return e.data.name}));t.forEach((function(n){if(!r.includes(n)){var t=Mt.createParamWrap("send-item",{name:n,formulaItems:["var"],values:[{type:"direct",value:"0"}]});a.push(t),e.children.push(Dn.createNode(t,e))}}))},A=null!=f.data&&(null!==(e=f.data.disable)&&void 0!==e&&e);return Object(C.jsxs)(C.Fragment,{children:[Object(C.jsx)(Ht.Component,{mappingForm:R,checkableFields:[g,y,E],firstRegist:function(){var e={method:y.value,depend:E.value,id:g.value,mngs:[]};_(e),l()},modifyRegist:function(){var e=f.data,n=e.method!==y.value||e.depend!==E.value;e.method=y.value,e.depend=E.value,e.id=g.value,f.data=e,n&&_(e),l()}}),Object(C.jsx)(yn.BorderPanel,{title:"param",innerJsx:Object(C.jsxs)(C.Fragment,{children:[Object(C.jsx)(yn.FormRecord,{titleLabel:"Method",jsx:Object(C.jsx)(yn.Combobox,{marginLeft:2,checkable:y,width:178,isReadOnly:!b,setCheckable:function(e){"create"===e.value&&S(Object(d.a)(Object(d.a)({},E),{},{value:""})),k(e)},list:wi.ConnectTypes.map((function(e){return{value:e,labelText:e}})),headBlank:!0,validates:[{checker:function(e){return et.checkRequired(e)},errorType:"required"}]})}),Object(C.jsx)(yn.FormRecord,{titleLabel:"Depend",isEnable:"depend"===y.value,jsx:Object(C.jsx)(yn.Combobox,{marginLeft:2,checkable:E,width:270,isReadOnly:!b,setCheckable:S,list:F.map((function(e){return{value:e,labelText:e}})),headBlank:!0,dependency:[y],validates:[{checker:function(e){return"depend"!==y.value||et.checkRequired(e)},errorType:"required"}]})}),Object(C.jsx)(yn.FormRecord,{titleLabel:"Identify",jsx:Object(C.jsx)(yn.TextField,{marginLeft:2,checkable:g,width:270,isReadOnly:!b,setCheckable:v,validates:[{checker:function(e){return wi.checkFieldName(e)},errorType:"value"},{checker:function(e){return et.checkStringLength(e,0,20)},errorType:"length"},{checker:function(e){return!P.includes(e)},errorType:"relation"}]})})]})}),Object(C.jsx)(yn.BorderPanel,{title:"element",isEnable:!b,innerJsx:Object(C.jsx)(C.Fragment,{children:Object(C.jsx)(yn.Record,{textAlign:"center",isEnable:!0,jsx:Object(C.jsx)(yn.Switch,{label:"Field",width:300,isUse:L,isEnable:!function(){var e=Mt.getInnerNode(o,"inhfld-mng");return null!=e&&e.children.length>0}(),callback:function(){var e,n;e=0,n={type:"inhfld-mng",data:{fields:[]}},L?(Mt.removeChild(o,e,1),p(Object(d.a)({},o)),l()):(Mt.insertChild(n,o,e),p(Object(d.a)({},o)),l())}})})})}),Object(C.jsx)(yn.BorderPanel,{title:"operation",innerJsx:Object(C.jsxs)(C.Fragment,{children:[Object(C.jsx)(yn.Record,{textAlign:"center",jsx:Object(C.jsx)(yn.Switch,{label:"Disable",width:300,isUse:A,isEnable:!b,callback:function(){var e=f.data;e.disable=!A||void 0,l()}})}),Object(C.jsx)(yn.ButtonRecord,{isCenter:!0,buttons:[{label:"Edit local",isEnable:!b&&!I,callback:function(){t.system.dialog=Object(C.jsx)(Gn.Component,{message:"Create a clone from the depended inherit logic.",buttons:[{label:"Cancel",callback:function(){t.system.dialog=null,a(Object(d.a)({},t))}},{label:"Conversion",callback:function(){var e=c.data.logicMng.data.defs.map((function(e){return e.data})).find((function(e){return e.name===E.value}));if(void 0!=e){var n={type:"inherit-logic",data:{mngs:JSON.parse(JSON.stringify(e)).mngs}},r=Mt.addChild(n,o);r.children=wi.getChildrenElementNode(r);var i=f.data;i.method="create",i.depend="",R()}t.system.dialog=null,a(Object(d.a)({},t)),l()}}]}),a(Object(d.a)({},t))}}]}),Object(C.jsx)(yn.ButtonRecord,{isCenter:!0,buttons:[{label:"Detach global",isEnable:!b&&I,callback:function(){t.system.dialog=Object(C.jsx)(Gn.Component,{message:"Detach a clone from the this inherit logic.",buttons:[{label:"Cancel",callback:function(){t.system.dialog=null,a(Object(d.a)({},t))}},{label:"Conversion",callback:function(){for(var e=o;null!=e.parent;)e=e.parent;var n=o.children.find((function(e){return"inherit-logic"===e.data.type})),r=e.children.find((function(e){return"logic-mng"===e.data.type}));if(void 0!=r&&void 0!=n){var i=n.data.data,c=JSON.parse(JSON.stringify(i)),s=Mt.getNumberingOnPrefixName("clone_inherit_",r),u=Object(d.a)(Object(d.a)({},c),{},{name:s}),b={type:"logic-item",data:u},h=Mt.addChild(b,r);h.children=wi.getChildrenElementNode(h),Mt.removeChild(o,2,1);var p=f.data;p.method="depend",p.depend=u.name,R(),t.system.dialog=null,a(Object(d.a)({},t)),l()}}}]}),a(Object(d.a)({},t))}}]}),Object(C.jsx)(yn.ButtonRecord,{isCenter:!0,buttons:[{label:"Delete",isEnable:!b,callback:function(){h()}}]}),Mt.getSwapButtons(o,l)]})})]})};!function(e){var n=296;e.ConnectParentPosition=function(e){var t=Object(i.useContext)(Gc),a=t.store,r=t.setStore,c=Object(i.useState)({value:"",errors:[]}),o=Object(u.a)(c,2),l=o[0],s=o[1],b=Object(i.useState)({value:"",errors:[]}),h=Object(u.a)(b,2),p=h[0],f=h[1],j=Object(i.useMemo)((function(){var n,t=Mt.getInnerWrap(null===(n=e.node.parent)||void 0===n?void 0:n.data,"inherit-logic").data;return Mt.getParamNameList(t)}),[e.node]),m=[{label:"Cancel",callback:function(){a.system.dialog=null,r(Object(d.a)({},a))}},{label:"Execute",isEnable:yn.checkItems([l,p]),callback:function(){Mt.addChild(Mt.createParamWrap("send-item",{name:l.value,formulaItems:["var"],values:[{type:"self",value:ut.SelfParamType.POS_X}]}),e.node),Mt.addChild(Mt.createParamWrap("send-item",{name:p.value,formulaItems:["var"],values:[{type:"self",value:ut.SelfParamType.POS_Y}]}),e.node);var n=Mt.getInnerNode(e.node.parent,"inherit-logic");void 0!=n.children.find((function(e){return"argument-mng"===e.data.type}))||Mt.insertChild({type:"argument-mng",data:{args:[]}},n,0);var t=n.children.find((function(e){return"argument-mng"===e.data.type}));Mt.addChild({type:"argument-item",data:{name:l.value,valueType:"number"}},t),Mt.addChild({type:"argument-item",data:{name:p.value,valueType:"number"}},t);var i=n.children.find((function(e){return"behavior-mng"===e.data.type})),c=function(e,n){var t=i.children.map((function(e){return e.data.data})).find((function(n){return n.name===e}));t.formulaItems=["var"],t.values=[{type:"argument",value:n}]};c(ut.BehaviorParamType.POS_X,l.value),c(ut.BehaviorParamType.POS_Y,p.value),a.system.dialog=null,r(Object(d.a)({},a)),e.invalidate()}}];return Object(C.jsxs)(Ia,{width:450,height:160,children:[Object(C.jsxs)(La,{children:[Object(C.jsx)(yn.Message,{message:"Please, input property name!",isCenter:!0}),Object(C.jsx)(yn.FormRecord,{titleLabel:"self_pos_x",jsx:Object(C.jsx)(yn.TextField,{marginLeft:2,checkable:l,width:n,setCheckable:s,validates:[{checker:function(e){return et.checkRequired(e)},errorType:"required"},{checker:function(e){return wi.checkFieldName(e)},errorType:"value"},{checker:function(e){return et.checkStringLength(e,0,20)},errorType:"length"},{checker:function(e){var n=j.slice();return""!==p.value&&n.push(p.value),!n.includes(e)},errorType:"relation"}],dependency:[p]})}),Object(C.jsx)(yn.FormRecord,{titleLabel:"self_pos_y",jsx:Object(C.jsx)(yn.TextField,{marginLeft:2,checkable:p,width:n,setCheckable:f,validates:[{checker:function(e){return et.checkRequired(e)},errorType:"required"},{checker:function(e){return wi.checkFieldName(e)},errorType:"value"},{checker:function(e){return et.checkStringLength(e,0,20)},errorType:"length"},{checker:function(e){var n=j.slice();return""!==l.value&&n.push(l.value),!n.includes(e)},errorType:"relation"}],dependency:[l]})})]}),Object(C.jsx)(yn.ButtonRecord,{isCenter:!0,buttons:m})]})},e.SetParentPosition=function(e){var t=Object(i.useContext)(Gc),a=t.store,r=t.setStore,c=Object(i.useState)({value:"",errors:[]}),o=Object(u.a)(c,2),l=o[0],s=o[1],b=Object(i.useState)({value:"",errors:[]}),h=Object(u.a)(b,2),p=h[0],f=h[1],j=Object(i.useMemo)((function(){return e.node.children.map((function(e){return e.data.data.name}))}),[]),m=[{label:"Cancel",callback:function(){a.system.dialog=null,r(Object(d.a)({},a))}},{label:"Execute",isEnable:yn.checkItems([l,p]),callback:function(){var n=e.node.children.map((function(e){return e.data.data})),t=n.find((function(e){return e.name===l.value})),i=n.find((function(e){return e.name===p.value}));t.formulaItems=["var"],t.values=[{type:"self",value:ut.SelfParamType.POS_X}],i.formulaItems=["var"],i.values=[{type:"self",value:ut.SelfParamType.POS_Y}],a.system.dialog=null,r(Object(d.a)({},a)),e.invalidate()}}];return Object(C.jsxs)(Ia,{width:450,height:160,children:[Object(C.jsxs)(La,{children:[Object(C.jsx)(yn.Message,{message:"Please, select property name!",isCenter:!0}),Object(C.jsx)(yn.FormRecord,{titleLabel:"self_pos_x",jsx:Object(C.jsx)(yn.Combobox,{marginLeft:2,checkable:l,width:n,setCheckable:s,validates:[{checker:function(e){return et.checkRequired(e)},errorType:"required"}],headBlank:!0,list:j.filter((function(e){return e!==p.value})).map((function(e){return{value:e,labelText:e}}))})}),Object(C.jsx)(yn.FormRecord,{titleLabel:"self_pos_y",jsx:Object(C.jsx)(yn.Combobox,{marginLeft:2,checkable:p,width:n,setCheckable:f,validates:[{checker:function(e){return et.checkRequired(e)},errorType:"required"}],headBlank:!0,list:j.filter((function(e){return e!==l.value})).map((function(e){return{value:e,labelText:e}}))})})]}),Object(C.jsx)(yn.ButtonRecord,{isCenter:!0,buttons:m})]})}}(ia||(ia={}));var ja,ma,ga,va,xa,Oa,ya,ka,wa,Ta,Ea,Ca,Sa,Ra=ia,Ia=b.b.div(aa||(aa=Object(s.a)(["\n    display: inline-block;\n    position: absolute;\n    z-index: 11;\n    top: calc(50% - ","px);\n    left: calc(50% - ","px);\n    width: ","px;\n    height: ","px;\n    background-color: #e7e7e7e2;\n    border: 1px solid #8f8f8f;\n    border-radius: 4px;\n    box-shadow: 10px 15px 15px #0000004b;\n"])),(function(e){return e.height/2}),(function(e){return e.width/2}),(function(e){return e.width}),(function(e){return e.height})),La=b.b.div(ra||(ra=Object(s.a)(["\n    /* text-align: center; */\n    display: inline-block;\n    width: 100%;\n    background-color: #d0e7e718;\n"]))),Fa=function(){var e=Object(i.useContext)(Gc),n=e.store,t=e.setStore,a=Object(i.useContext)(Fi),r=(a.rootData,a.node),c=(a.setFocusNode,a.invalidate);r.data;return Object(C.jsx)(C.Fragment,{children:Object(C.jsx)(yn.BorderPanel,{title:"template",innerJsx:Object(C.jsxs)(C.Fragment,{children:[Object(C.jsx)(yn.ButtonRecord,{isCenter:!0,buttons:[{label:"Connect Position",isEnable:!function(){var e;return"depend"===(null===(e=r.parent)||void 0===e?void 0:e.data).data.method}(),callback:function(){n.system.dialog=Object(C.jsx)(Ra.ConnectParentPosition,{node:r,invalidate:c}),t(Object(d.a)({},n))}}]}),Object(C.jsx)(yn.ButtonRecord,{isCenter:!0,buttons:[{label:"Set Position",callback:function(){n.system.dialog=Object(C.jsx)(Ra.SetParentPosition,{node:r,invalidate:c}),t(Object(d.a)({},n))}}]})]})})})},Pa=function(){var e=Object(i.useContext)(Fi),n=e.invalidate,t=e.node,a=e.setFocusNode;t.data;return Object(C.jsx)(C.Fragment,{children:Object(C.jsx)(yn.BorderPanel,{title:"operation",innerJsx:Object(C.jsx)(yn.ButtonRecord,{isCenter:!0,buttons:[{label:"Add Field",callback:function(){var e=Mt.addChild({type:"field-item",data:null},t);a(e),n()}}]})})})},_a=function(){var e=Object(i.useContext)(Fi),n=e.node,t=e.setFocusNode,a=e.invalidate,r=(n.data,Object(i.useMemo)((function(){var e=n.children.map((function(e){return e.data.data.name}));return[e.includes(ut.ExtendParamType.LOOP_COUNT),e.includes(ut.ExtendParamType.INVOKE)]}),[n])),c=Object(u.a)(r,2),o=c[0],l=c[1];Object(i.useEffect)((function(){}),[n]);var s=function(e,r,i){e?(Mt.removeChild(n,r,1),t(Object(d.a)({},n)),a()):(Mt.insertChild(i,n,r),t(Object(d.a)({},n)),a())};return Object(C.jsx)(C.Fragment,{children:Object(C.jsx)(yn.BorderPanel,{title:"element",innerJsx:Object(C.jsxs)(C.Fragment,{children:[Object(C.jsx)(yn.Record,{textAlign:"center",jsx:Object(C.jsx)(yn.Switch,{label:"Loop",width:300,isUse:o,callback:function(){s(o,0,{type:"param-item",data:{name:ut.ExtendParamType.LOOP_COUNT,formulaItems:["var"],values:[{type:"direct",value:"1"}]}})}})}),Object(C.jsx)(yn.Record,{textAlign:"center",jsx:Object(C.jsx)(yn.Switch,{label:"Invoke",width:300,isUse:l,callback:function(){s(l,o?1:0,{type:"condition-item",data:{name:ut.ExtendParamType.INVOKE,formulaItems:["var","=","var"],values:[{type:"direct",value:"0"},{type:"direct",value:"0"}]}})}})})]})})})},Na=function(){var e=Object(i.useContext)(Gc),n=e.store,t=e.setStore,a=Object(i.useContext)(Fi),r=a.removeSelf,c=a.node,o=a.rootData,l=a.invalidate,s=a.setModify,b=a.isModify,h=c.data,p=Object(i.useState)({value:"",errors:[]}),f=Object(u.a)(p,2),j=f[0],m=f[1],g=Object(i.useState)({value:"",errors:[]}),v=Object(u.a)(g,2),x=v[0],O=v[1],y=function(){var e=h.data;m(Object(d.a)(Object(d.a)({},j),{},{value:e.name})),O(Object(d.a)(Object(d.a)({},x),{},{value:e.entry}))},k=Object(i.useMemo)((function(){var e,n=(null===(e=c.parent)||void 0===e?void 0:e.data).data;return Mt.getSeedNameList(n)}),[c]);Object(i.useEffect)((function(){null==h.data?s(!0):y()}),[c]);var w=Object(i.useMemo)((function(){return o.data.logicMng.data.defs.map((function(e){return e.data.name}))}),[c]),T=function(){var e=function(){var e=h.data,n=o.data.logicMng.data.defs.find((function(n){return n.data.name===e.entry}));if(void 0!=n){var t=n.data.mngs[0];if("argument-mng"===t.type)return t.data.args.map((function(e){return e.data.name}))}return[]}(),n=Mt.getInnerNode(c,"interface-mng","seedsend-mng"),t=n.data.data.params,a=t.map((function(e){return e.data.name}));e.forEach((function(e){if(!a.includes(e)){var n=Mt.createParamWrap("seedsend-item",{name:e,formulaItems:["var"],values:[{type:"direct",value:"0"}]});t.push(n)}})),Mt.syncTreeElementFromWrap(n)};return Object(C.jsxs)(C.Fragment,{children:[Object(C.jsx)(Ht.Component,{mappingForm:y,checkableFields:[j,x],firstRegist:function(){var e={name:j.value,entry:x.value,mngs:[{type:"interface-mng",data:{mngs:[{type:"seedarg-mng",data:{args:[]}},{type:"seedsend-mng",data:{params:[]}}]}},{type:"thumbnail-mng",data:{items:[]}},{type:"sample-mng",data:{samples:[]}}]};h.data=e,Mt.syncTreeElementFromWrap(c),T(),l(),t(Object(d.a)({},n))},modifyRegist:function(){var e=h.data;e.name=j.value,h.data=e}}),Object(C.jsx)(yn.BorderPanel,{title:"param",innerJsx:Object(C.jsxs)(C.Fragment,{children:[Object(C.jsx)(yn.FormRecord,{titleLabel:"Name",jsx:Object(C.jsx)(yn.TextField,{width:200,isReadOnly:!b,checkable:j,setCheckable:m,validates:[{checker:function(e){return et.checkRequired(e)},errorType:"required"},{checker:function(e){return et.checkStringLength(e,1,16)},errorType:"length"},{checker:function(e){return wi.checkFieldName(e)},errorType:"value"},{checker:function(e){return!k.filter((function(e){return null==h.data||h.data.name!==e})).includes(e)},errorType:"relation"}]})}),Object(C.jsx)(yn.FormRecord,{titleLabel:"Entry",jsx:Object(C.jsx)(yn.Combobox,{marginLeft:2,checkable:x,width:270,isReadOnly:!b,setCheckable:O,list:w.map((function(e){return{value:e,labelText:e}})),headBlank:!0,validates:[{checker:function(e){return et.checkRequired(e)},errorType:"required"}]})})]})}),Object(C.jsx)(yn.BorderPanel,{title:"operation",isEnable:!b,innerJsx:Object(C.jsxs)(C.Fragment,{children:[Object(C.jsx)(yn.ButtonRecord,{isCenter:!0,buttons:[{label:"Delete",callback:function(){r()}}]}),Mt.getSwapButtons(c,l)]})})]})},Aa=function(){var e=Object(i.useContext)(Fi),n=e.node,t=e.setFocusNode;e.invalidate,n.data.data;return Object(C.jsx)(C.Fragment,{children:Object(C.jsx)(yn.BorderPanel,{title:"operation",innerJsx:Object(C.jsx)(yn.ButtonRecord,{isCenter:!0,buttons:[{label:"Add Thumbnail",callback:function(){var e=Mt.addChild({type:"thumbnail-item",data:null},n);t(e)}}]})})})},Ma=100,Ba=function(){var e,n,t,a=Object(i.useContext)(Fi),r=a.rootData,c=a.node,o=a.removeSelf,l=a.setModify,s=a.isModify,b=a.invalidate,h=c.data,p=h.data,f=null===(e=c.parent)||void 0===e||null===(n=e.parent)||void 0===n?void 0:n.data,j=(null===(t=Mt.getInnerWrap(f,"sample-mng"))||void 0===t?void 0:t.data).samples.map((function(e){return e.data})),m=Object(i.useState)({value:"",errors:[]}),g=Object(u.a)(m,2),v=g[0],x=g[1],O=Object(i.useState)({value:"",errors:[]}),y=Object(u.a)(O,2),k=y[0],w=y[1],T=Object(i.useState)([]),E=Object(u.a)(T,2),S=E[0],R=E[1],I=(Object(i.useMemo)((function(){var e,n,t=(null===(e=c.parent)||void 0===e||null===(n=e.parent)||void 0===n?void 0:n.data).data;return Mt.getParamNameList(t)}),[c]),function(){var e=h.data;x(Object(d.a)(Object(d.a)({},v),{},{value:e.name})),w(Object(d.a)(Object(d.a)({},k),{},{value:e.frame.toString()}))});Object(i.useEffect)((function(){null==h.data?l(!0):(I(),setTimeout((function(){var e=[];j.forEach((function(n,t){e.push(F(p.frame,t))})),R(e)}),1))}),[c]);var L=function(e){var n,t,a=null===(n=Mt.getInnerWrap(f,"interface-mng","seedarg-mng"))||void 0===n?void 0:n.data,r=null===(t=Mt.getInnerWrap(f,"interface-mng","seedsend-mng"))||void 0===t?void 0:t.data,i=a.args.map((function(n,t){return{name:n.data.name,value:j[e].values[t]}})),c=r.params.map((function(e){return e.data}));return c.map((function(e){var n;return{name:e.name,value:null!==(n=wt.convertParamsToValue(e.name,c,i))&&void 0!==n?n:0}}))},F=function(e,n){console.log("create start!");var t=[],a=0;do{if(0===a)if("break"===function(){var e,a,i=(null===(e=c.parent)||void 0===e||null===(a=e.parent)||void 0===a?void 0:a.data).data,o=r.data.logicMng.data.defs.find((function(e){return e.data.name===i.entry}));if(void 0==o)return"break";var l=L(n);t.push(new it.Instance(wt.buildLogicProps(t,o.data,r,l)))}())break;if(a===e)return tt.createURL(550,550,(function(e){t.forEach((function(n){n.draw(e)})),e.save()}));for(var i=t.length-1;i>=0;i--){t[i].update()}for(var o=t.length-1;o>=0;o--){t[o].isLive||t.splice(o,1)}if(a>500||t.length>3e3)break;a++}while(t.length>0);return""},P=Object(i.useMemo)((function(){var e,n;return(null===(e=Mt.getInnerWrap((null===(n=c.parent)||void 0===n?void 0:n.parent).data,"sample-mng"))||void 0===e?void 0:e.data).samples.map((function(e,n){var t=e.data,a=void 0==S[n]?Object(C.jsx)(C.Fragment,{}):Object(C.jsx)(za,{src:S[n]});return Object(C.jsxs)(Da,{children:["-",Object(C.jsx)(qa,{children:t.name}),Object(C.jsx)(Ua,{children:a})]},n)}))}),[c,S]);return Object(C.jsxs)(C.Fragment,{children:[Object(C.jsx)(Ht.Component,{mappingForm:I,checkableFields:[v,k],firstRegist:function(){var e={name:v.value,frame:Number(k.value)};h.data=e},modifyRegist:function(){var e=h.data;e.name=v.value,e.frame=Number(k.value),h.data=e}}),Object(C.jsx)(yn.BorderPanel,{title:"param",innerJsx:Object(C.jsxs)(C.Fragment,{children:[Object(C.jsx)(yn.FormRecord,{titleLabel:"Name",jsx:Object(C.jsx)(yn.TextField,{width:200,isReadOnly:!s,checkable:v,setCheckable:x,validates:[{checker:function(e){return et.checkRequired(e)},errorType:"required"},{checker:function(e){return et.checkStringLength(e,1,16)},errorType:"length"},{checker:function(e){return wi.checkFieldName(e)},errorType:"value"}]})}),Object(C.jsx)(yn.FormRecord,{titleLabel:"Frame",jsx:Object(C.jsx)(yn.TextField,{width:100,isReadOnly:!s,isNumber:!0,checkable:k,setCheckable:w,validates:[{checker:function(e){return et.checkRequired(e)},errorType:"required"}]})})]})}),Object(C.jsx)(yn.BorderPanel,{title:"preview",isEnable:!s,innerJsx:Object(C.jsx)(C.Fragment,{children:P})}),Object(C.jsx)(yn.BorderPanel,{title:"operation",isEnable:!s,innerJsx:Object(C.jsxs)(C.Fragment,{children:[Object(C.jsx)(yn.ButtonRecord,{isCenter:!0,buttons:[{label:"Delete",isEnable:!s,callback:function(){o()}}]}),Mt.getSwapButtons(c,b)]})})]})},Da=b.b.div(ja||(ja=Object(s.a)(["\n    display: inline-block;\n    /* width: ","px;\n    height: ","px; */\n    margin: 0 0 0 5px;\n"])),Ma,Ma),qa=b.b.div(ma||(ma=Object(s.a)(["\n    display: block;\n    color: #09056c;\n    font-size: 14px;\n    font-weight: 600;\n    font-style: italic;\n    background-color: #ffffff5e;\n"]))),Ua=b.b.div(ga||(ga=Object(s.a)(["\n    display: inline-block;\n    width: ","px;\n    height: ","px;\n    background-color: #020202df;\n    border: solid 2px #ca0000;\n    box-sizing: border-box;\n"])),Ma,Ma),za=b.b.img(va||(va=Object(s.a)(["\n    display: inline-block;\n    position: relative;\n    width: 100%;\n    height: 100%;\n"]))),Va=function(){var e=Object(i.useContext)(Gc),n=e.store,t=e.setStore,a=Object(i.useContext)(Fi),r=a.removeSelf,c=a.node,o=(a.rootData,a.invalidate),l=a.setModify,s=a.isModify,b=c.data,h=Object(i.useState)({value:"",errors:[]}),p=Object(u.a)(h,2),f=p[0],j=p[1],m=Object(i.useState)([]),g=Object(u.a)(m,2),v=g[0],x=g[1],O=function(){var e=b.data;j(Object(d.a)(Object(d.a)({},f),{},{value:e.name})),x(e.values.map((function(e){return{value:e.toString(),errors:[]}})))},y=Object(i.useMemo)((function(){var e,n=Mt.getInnerWrap((null===(e=c.parent)||void 0===e?void 0:e.parent).data,"interface-mng","seedarg-mng");if(null!=n)return n.data.args.map((function(e){return e.data}));throw new Error("argMng is undefined.")}),[c]);Object(i.useEffect)((function(){null==b.data?(x(y.map((function(e){var n="";return void 0!=e.defval&&(n=e.defval.toString()),{value:n,errors:[]}}))),l(!0)):O()}),[c]);var k=Object(i.useMemo)((function(){return v.map((function(e,n){var t=y[n];return Object(C.jsx)(yn.FormRecord,{titleLabel:t.name,jsx:Object(C.jsx)(yn.TextField,{width:150,isReadOnly:!s,checkable:e,setCheckable:function(e){v[n]=e,x(v.slice())},isNumber:!0,step:t.step,validates:[{checker:function(e){return et.checkRequired(e)},errorType:"required"},{checker:function(e){return et.checkNumberRange(e,t.min,t.max)},errorType:"value"}]})},n)}))}),[v,s]);return Object(C.jsxs)(C.Fragment,{children:[Object(C.jsx)(Ht.Component,{mappingForm:O,checkableFields:[f].concat(v),firstRegist:function(){var e={name:f.value,values:[]};v.forEach((function(n,t){e.values[t]=Number(n.value)})),b.data=e,o(),t(Object(d.a)({},n))},modifyRegist:function(){var e=b.data;e.name=f.value,v.forEach((function(n,t){e.values[t]=Number(n.value)})),b.data=e}}),Object(C.jsx)(yn.BorderPanel,{title:"param",innerJsx:Object(C.jsxs)(C.Fragment,{children:[Object(C.jsx)(yn.FormRecord,{titleLabel:"Name",jsx:Object(C.jsx)(yn.TextField,{width:250,isReadOnly:!s,checkable:f,setCheckable:j,validates:[{checker:function(e){return et.checkRequired(e)},errorType:"required"},{checker:function(e){return et.checkStringLength(e,1,16)},errorType:"length"},{checker:function(e){return wi.checkFieldName(e)},errorType:"value"}]})}),k]})}),Object(C.jsx)(yn.BorderPanel,{title:"operation",isEnable:!s,innerJsx:Object(C.jsxs)(C.Fragment,{children:[Object(C.jsx)(yn.ButtonRecord,{isCenter:!0,buttons:[{label:"Delete",callback:function(){r()}}]}),Mt.getSwapButtons(c,o)]})})]})},Ha=function(){var e=Object(i.useContext)(Fi),n=e.node,t=e.setFocusNode,a=n.data;return Object(C.jsx)(C.Fragment,{children:Object(C.jsx)(yn.BorderPanel,{title:"operation",innerJsx:Object(C.jsx)(yn.ButtonRecord,{isCenter:!0,buttons:[{label:"Add Sample",callback:function(){var e={type:"sample-item",data:null};a.data.samples.push(e);var r=Dn.createNode(e,n);n.children.push(r),t(r)}}]})})})},Wa=function(){var e=Object(i.useContext)(Gc),n=(e.store,e.setStore,Object(i.useContext)(Fi)),t=(n.rootData,n.node),a=(n.setFocusNode,n.invalidate);t.data;return Object(C.jsx)(C.Fragment,{children:Object(C.jsx)(yn.BorderPanel,{title:"operation",innerJsx:Object(C.jsx)(yn.ButtonRecord,{isCenter:!0,buttons:[{label:"Initialize Params",callback:function(){a()}}]})})})},Ja=function(){var e=Object(i.useContext)(Fi),n=e.node,t=e.setFocusNode,a=n.data;return Object(C.jsx)(C.Fragment,{children:Object(C.jsx)(yn.BorderPanel,{title:"operation",innerJsx:Object(C.jsx)(yn.ButtonRecord,{isCenter:!0,buttons:[{label:"Add Argument",callback:function(){var e={type:"seedarg-item",data:null};a.data.args.push(e);var r=Dn.createNode(e,n);n.children.push(r),t(r)}}]})})})},Ya=function(){var e=Object(i.useContext)(Fi),n=e.node,t=e.removeSelf,a=e.setModify,r=e.isModify,c=e.invalidate,o=n.data,l=Object(i.useState)({value:"",errors:[]}),s=Object(u.a)(l,2),b=s[0],h=s[1],p=Object(i.useState)({value:"",errors:[]}),f=Object(u.a)(p,2),j=f[0],m=f[1],g=Object(i.useState)({value:"",errors:[]}),v=Object(u.a)(g,2),x=v[0],O=v[1],y=Object(i.useState)({value:"1",errors:[]}),k=Object(u.a)(y,2),w=k[0],T=k[1],E=Object(i.useState)({value:"",errors:[]}),S=Object(u.a)(E,2),R=S[0],I=S[1],L=(Object(i.useMemo)((function(){var e,t,a=(null===(e=n.parent)||void 0===e||null===(t=e.parent)||void 0===t?void 0:t.data).data;return Mt.getParamNameList(a)}),[n]),function(){var e=o.data;h(Object(d.a)(Object(d.a)({},b),{},{value:e.name})),m(Object(d.a)(Object(d.a)({},j),{},{value:e.min.toString()})),O(Object(d.a)(Object(d.a)({},x),{},{value:e.max.toString()})),T(Object(d.a)(Object(d.a)({},w),{},{value:e.step.toString()})),I(Object(d.a)(Object(d.a)({},R),{},{value:void 0==e.defval?"":e.defval.toString()}))});return Object(i.useEffect)((function(){null==o.data?a(!0):L()}),[n]),Object(C.jsxs)(C.Fragment,{children:[Object(C.jsx)(Ht.Component,{mappingForm:L,checkableFields:[b,j,x,w,R],firstRegist:function(){var e={name:b.value,min:Number(j.value),max:Number(x.value),step:Number(w.value),defval:Number(""===R.value?void 0:R.value)};o.data=e},modifyRegist:function(){var e=o.data;e.name;e.name=b.value,e.min=Number(j.value),e.max=Number(x.value),e.step=Number(w.value),e.defval=Number(""===R.value?void 0:R.value),o.data=e,b.value}}),Object(C.jsx)(yn.BorderPanel,{title:"param",innerJsx:Object(C.jsxs)(C.Fragment,{children:[Object(C.jsx)(yn.FormRecord,{titleLabel:"Name",jsx:Object(C.jsx)(yn.TextField,{width:200,isReadOnly:!r,checkable:b,setCheckable:h,validates:[{checker:function(e){return et.checkRequired(e)},errorType:"required"},{checker:function(e){return et.checkStringLength(e,1,16)},errorType:"length"},{checker:function(e){return wi.checkFieldName(e)},errorType:"value"}]})}),Object(C.jsx)(yn.FormRecord,{titleLabel:"Min",jsx:Object(C.jsx)(yn.TextField,{width:100,isReadOnly:!r,checkable:j,setCheckable:m,isNumber:!0,dependency:[x],validates:[{checker:function(e){return et.checkRequired(e)},errorType:"required"},{checker:function(e){return Number(e)<Number(x.value)},errorType:"relation"}]})}),Object(C.jsx)(yn.FormRecord,{titleLabel:"Max",jsx:Object(C.jsx)(yn.TextField,{width:100,isReadOnly:!r,checkable:x,setCheckable:O,isNumber:!0,dependency:[j],validates:[{checker:function(e){return et.checkRequired(e)},errorType:"required"},{checker:function(e){return Number(e)>Number(j.value)},errorType:"relation"}]})}),Object(C.jsx)(yn.FormRecord,{titleLabel:"Step",jsx:Object(C.jsx)(yn.TextField,{width:100,isReadOnly:!r,checkable:w,setCheckable:T,isNumber:!0,validates:[{checker:function(e){return et.checkRequired(e)},errorType:"required"}]})}),Object(C.jsx)(yn.FormRecord,{titleLabel:"Default",jsx:Object(C.jsx)(yn.TextField,{width:100,isReadOnly:!r,checkable:R,setCheckable:I,isNumber:!0})})]})}),Object(C.jsx)(yn.BorderPanel,{title:"operation",isEnable:!r,innerJsx:Object(C.jsxs)(C.Fragment,{children:[Object(C.jsx)(yn.ButtonRecord,{isCenter:!0,buttons:[{label:"Delete",isEnable:!r,callback:function(){t()}}]}),Mt.getSwapButtons(n,c)]})})]})},Xa=function(){var e=Object(i.useContext)(Gc),n=(e.store,e.setStore,Object(i.useContext)(Fi)),t=(n.rootData,n.node);n.setFocusNode,n.invalidate,t.data;return Object(C.jsx)(C.Fragment,{})};!function(e){e.checkFieldName=function(e){return!["0","1","2","3","4","5","6","7","8","9"].includes(e.substring(0,1))&&et.checkIncludesChars(e,"0123456789abcdefghijklmnopqrstuvwxyz_")},e.ArgTypes=["number","color"],e.ParamInputTypes=["direct","constant","argument","self","field"];var n="#cca67b",t="#37a2bd",a="#b85f5f",r="#ae628c",i="#cec256",c=(e.getNodeDisplayJsx=function(e,c){var o=e.data;switch(o.type){case"root":return Object(C.jsx)(Ti,{backgroundColor:"#a1a1a1",children:"Library"});case"seed-mng":return Object(C.jsx)(Ti,{backgroundColor:n,children:"Seed Manager"});case"logic-mng":return Object(C.jsx)(Ti,{backgroundColor:n,children:"Logic Manager"});case"visual-mng":return Object(C.jsx)(Ti,{backgroundColor:t,children:"Visual"});case"extend-mng":return Object(C.jsx)(Ti,{backgroundColor:t,children:"Extend"});case"seed-item":var l="...";if(null!=o.data)l=o.data.name;return Object(C.jsxs)(C.Fragment,{children:[Object(C.jsx)(Ti,{backgroundColor:r,children:"Seed"}),Object(C.jsx)(Ci,{children:l})]});case"logic-item":var s="...";if(null!=o.data)s=o.data.name;return Object(C.jsxs)(C.Fragment,{children:[Object(C.jsx)(Ti,{backgroundColor:r,children:"Logic"}),Object(C.jsx)(Ci,{children:s})]});case"inherit-logic":return Object(C.jsx)(Ti,{backgroundColor:t,children:"Logic"});case"argument-mng":return Object(C.jsx)(Ti,{backgroundColor:a,children:"Argument Manager"});case"inhfld-mng":case"field-mng":return Object(C.jsx)(Ti,{backgroundColor:a,children:"Field Manager"});case"behavior-mng":return Object(C.jsx)(Ti,{backgroundColor:t,children:"Behavior"});case"inherit-mng":return Object(C.jsx)(Ti,{backgroundColor:a,children:"Inherit Manager"});case"connector":var d=Object(C.jsx)("span",{children:"..."}),u=r,b=!1;if(null!=o.data){var h,p=o.data;d=Object(C.jsxs)("span",{children:[p.id,"\xa0",Object(C.jsx)(Si,{color:"#ffe89ba6",children:p.method})]}),"depend"===p.method&&(d=Object(C.jsxs)("span",{children:[p.id,"\xa0",Object(C.jsxs)(Si,{color:"#ffe89ba6",children:[p.method,":\xa0"]}),Object(C.jsx)(Li,{children:p.depend})]})),null!==(h=p.disable)&&void 0!==h&&h&&(u="#685b79",b=!0)}return Object(C.jsxs)(C.Fragment,{children:[Object(C.jsx)(Ti,{backgroundColor:u,isDisable:b,children:"Inherit"}),void 0==d?Object(C.jsx)(C.Fragment,{}):Object(C.jsx)(Ci,{children:d})]});case"param-item":case"seedsend-item":case"send-item":var f=o.data,j=[],m=0;return f.formulaItems.forEach((function(e,n){var t=Object(C.jsx)(Ii,{children:e},n);if("var"===e){var a=f.values[m];t="direct"!==a.type?Object(C.jsx)(Li,{children:"${".concat(a.value,"}")},n):Object(C.jsx)("span",{children:a.value},n),m++}j.push(t)})),Object(C.jsxs)(C.Fragment,{children:[Object(C.jsxs)(Ti,{backgroundColor:"#8dae62",children:["Param",Object(C.jsxs)(Ei,{children:["\xa0[",f.name,"]"]})]}),Object(C.jsx)(Ci,{children:j})]});case"condition-item":var g=o.data,v=[],x=0;return g.formulaItems.forEach((function(e,n){var t=Object(C.jsx)(Ii,{children:e},n);if("var"===e){var a=g.values[x];t="direct"!==a.type?Object(C.jsx)(Li,{children:"${".concat(a.value,"}")},n):Object(C.jsx)("span",{children:a.value},n),x++}v.push(t)})),Object(C.jsxs)(C.Fragment,{children:[Object(C.jsxs)(Ti,{backgroundColor:"#56ce7e",children:["Condition",Object(C.jsxs)(Ei,{children:["\xa0[",g.name,"]"]})]}),Object(C.jsx)(Ci,{children:v})]});case"field-item":var O=Object(C.jsx)("span",{children:"..."}),y=Object(C.jsx)("span",{children:"..."});if(null!=o.data){var k=o.data;O=Object(C.jsxs)(Ei,{children:["\xa0[",k.name,"]"]});var w=[],T=0;k.formulaItems.forEach((function(e,n){var t=Object(C.jsx)(Ii,{children:e},n);if("var"===e){var a=k.values[T];t="direct"!==a.type?Object(C.jsx)(Li,{children:"${".concat(a.value,"}")},n):Object(C.jsx)("span",{children:a.value},n),T++}w.push(t)})),y=Object(C.jsx)(C.Fragment,{children:w})}return Object(C.jsxs)(C.Fragment,{children:[Object(C.jsxs)(Ti,{backgroundColor:i,children:["Field",O]}),Object(C.jsx)(Ci,{children:y})]});case"argument-item":var E=Object(C.jsx)("span",{children:"..."});if(null!=o.data){var S=o.data;E=Object(C.jsxs)("span",{children:[S.name,Object(C.jsxs)(Ri,{children:["\xa0(",S.valueType,")"]})]})}return Object(C.jsxs)(C.Fragment,{children:[Object(C.jsxs)(Ti,{backgroundColor:i,children:["Argument",Object(C.jsx)(Ei,{})]}),Object(C.jsx)(Ci,{children:E})]});case"send-mng":return Object(C.jsx)(Ti,{backgroundColor:t,children:"Send"});case"thumbnail-mng":return Object(C.jsx)(Ti,{backgroundColor:a,children:"Thumnail Manager"});case"thumbnail-item":var R=Object(C.jsx)("span",{children:"..."});if(null!=o.data){var I=o.data;R=Object(C.jsxs)("span",{children:[I.name,Object(C.jsxs)(Ri,{children:["\xa0(",I.frame,")"]})]})}return Object(C.jsxs)(C.Fragment,{children:[Object(C.jsx)(Ti,{backgroundColor:"#8283be",children:"Thumbnail"}),Object(C.jsx)(Ci,{children:R})]});case"sample-mng":return Object(C.jsx)(Ti,{backgroundColor:a,children:"Sample Manager"});case"sample-item":var L="...";if(null!=o.data)L=o.data.name;return Object(C.jsxs)(C.Fragment,{children:[Object(C.jsx)(Ti,{backgroundColor:r,children:"Sample"}),Object(C.jsx)(Ci,{children:L})]});case"interface-mng":return Object(C.jsx)(Ti,{backgroundColor:t,children:"Interface"});case"seedarg-mng":return Object(C.jsx)(Ti,{backgroundColor:a,children:"Argument Manager"});case"seedarg-item":var F=Object(C.jsx)("span",{children:"..."});if(null!=o.data){var P=o.data;F=Object(C.jsxs)("span",{children:[P.name,Object(C.jsxs)(Ri,{children:["\xa0(",P.min,"\uff5e",P.max,")"]})]})}return Object(C.jsxs)(C.Fragment,{children:[Object(C.jsxs)(Ti,{backgroundColor:i,children:["Argument",Object(C.jsx)(Ei,{})]}),Object(C.jsx)(Ci,{children:F})]});case"seedsend-mng":return Object(C.jsx)(Ti,{backgroundColor:t,children:"Send"})}return Object(C.jsx)(Ti,{backgroundColor:"#ffffff",children:"XXXXX"})},e.getTypeName=function(e){if(null==e)return"";switch(e.data.type){case"root":return"Root";case"seed-mng":return"Seed Manager";case"logic-mng":return"Logic Manager";case"seed-item":return"Seed Item";case"logic-item":return"Logic Item";case"argument-mng":return"Argument Manager";case"inhfld-mng":case"field-mng":return"Field Manager";case"field-item":return"Field Item";case"visual-mng":return"Visual Manager";case"argument-item":return"Argument Item";case"extend-mng":return"Extend Manager";case"behavior-mng":return"Behavior Manager";case"inherit-mng":return"Inherit Manager";case"connector":return"Inherit Connector";case"inherit-logic":return"Inherit Logic";case"send-mng":return"Send Manager";case"send-item":return"Send Item";case"param-item":return"Param Item";case"condition-item":return"Condition Item";case"interface-mng":return"Interface Manager";case"thumbnail-mng":return"Thumbnail Manager";case"thumbnail-item":return"Thumbnail Item";case"sample-mng":return"Sample Manager";case"sample-item":return"Sample Item";case"seedarg-mng":return"Argument Manager";case"seedsend-mng":return"Send"}},e.getDetailComponent=function(e){if(null==e)return Object(C.jsx)(C.Fragment,{});switch(e.data.type){case"root":return Object(C.jsx)(C.Fragment,{});case"seed-mng":return Object(C.jsx)(Qt,{});case"logic-mng":return Object(C.jsx)(Zt,{});case"seed-item":return Object(C.jsx)(Na,{});case"logic-item":return Object(C.jsx)($t,{});case"argument-mng":return Object(C.jsx)(Bt,{});case"argument-item":return Object(C.jsx)(Wt,{});case"inhfld-mng":case"field-mng":return Object(C.jsx)(Pa,{});case"visual-mng":return Object(C.jsx)(ha,{});case"extend-mng":return Object(C.jsx)(_a,{});case"behavior-mng":return Object(C.jsx)(ba,{});case"inherit-mng":return Object(C.jsx)(pa,{});case"connector":return Object(C.jsx)(fa,{});case"inherit-logic":return Object(C.jsx)($t,{});case"send-mng":return Object(C.jsx)(Fa,{});case"field-item":case"param-item":case"condition-item":case"seedsend-item":case"send-item":return Object(C.jsx)(ca,{});case"interface-mng":return Object(C.jsx)(Wa,{});case"sample-mng":return Object(C.jsx)(Ha,{});case"sample-item":return Object(C.jsx)(Va,{});case"thumbnail-mng":return Object(C.jsx)(Aa,{});case"thumbnail-item":return Object(C.jsx)(Ba,{});case"seedarg-mng":return Object(C.jsx)(Ja,{});case"seedarg-item":return Object(C.jsx)(Ya,{});case"seedsend-mng":return Object(C.jsx)(Xa,{})}},e.ConnectTypes=["create","depend"],e.getChildrenElementNode=function(e){var n=e.data,t=function(t){return n.data[t].map((function(n){var t=Dn.createNode(n,e);return t.children=c(t),t}))};switch(n.type){case"seed-mng":case"logic-mng":return t("defs");case"seed-item":case"connector":case"inherit-logic":case"interface-mng":case"logic-item":return t("mngs");case"send-mng":case"behavior-mng":case"visual-mng":case"extend-mng":case"seedsend-mng":case"visual-mng":return t("params");case"inherit-mng":return t("inherits");case"seedarg-mng":case"argument-mng":return t("args");case"sample-mng":return t("samples");case"inhfld-mng":case"field-mng":return t("fields");case"thumbnail-mng":return t("items")}return[]}),o=e.getChildrenDataNode=function(e){var n=function(n){return e.data[n].map((function(e){return{data:e,children:o(e)}}))};switch(e.type){case"root":var t=e.data;return[{data:t.seedMng,children:o(t.seedMng)},{data:t.logicMng,children:o(t.logicMng)}];case"seed-mng":case"logic-mng":return n("defs");case"seed-item":case"connector":case"inherit-logic":case"interface-mng":case"logic-item":return n("mngs");case"send-mng":case"behavior-mng":case"visual-mng":case"extend-mng":case"seedsend-mng":case"visual-mng":return n("params");case"inherit-mng":return n("inherits");case"seedarg-mng":case"argument-mng":return n("args");case"sample-mng":return n("samples");case"inhfld-mng":case"field-mng":return n("fields");case"thumbnail-mng":return n("items")}return[]}}(Sa||(Sa={}));var Ga,Ka,Qa,Za,$a,er,nr,tr,ar,rr,ir,cr,or,lr,sr,dr,ur,br,hr,pr,fr,jr,mr,gr,vr,xr,Or,yr,kr,wr,Tr,Er,Cr,Sr,Rr,Ir,Lr,Fr,Pr,_r,Nr,Ar,Mr,Br,Dr,qr,Ur,zr,Vr,Hr,Wr,Jr,Yr,Xr,Gr,Kr,Qr,Zr,$r,ei,ni,ti,ai,ri,ii,ci,oi,li,si,di,ui,bi,hi,pi,fi,ji,mi,gi,vi,xi,Oi,yi,ki,wi=Sa,Ti=b.b.div(xa||(xa=Object(s.a)(["\n    ","\n    display: inline-block;\n    position: relative;\n    background-color: ",";\n    /* width: 100%; */\n    ","\n    border-radius: 4px 0 0 4px;\n    margin: 5px 0 0 0;\n    padding: 0 10px;\n    border: solid 1px #000000d2;\n"])),Ne.CSS_LABEL_MIDIUM,(function(e){return e.backgroundColor}),(function(e){var n;return null!==(n=e.isDisable)&&void 0!==n&&n?Object(b.a)(Oa||(Oa=Object(s.a)(["\n        text-decoration: line-through;\n        color: #00054dac;\n    "]))):""})),Ei=b.b.span(ya||(ya=Object(s.a)(["\n    color: #000b69bd;\n"]))),Ci=b.b.div(ka||(ka=Object(s.a)(["\n    ","\n    display: inline-block;\n    position: relative;\n    background-color: #0c0c0c;\n    color: #ebebeb;\n    border-radius: 0 4px 4px 0;\n    /* width: 100%; */\n    margin: 5px 0 0 0;\n    padding: 0 10px;\n"])),Ne.CSS_LABEL_MIDIUM),Si=b.b.span(wa||(wa=Object(s.a)(["\n    color: ",";\n"])),(function(e){return e.color})),Ri=b.b.span(Ta||(Ta=Object(s.a)(["\n    color: #fff9d6b9;\n"]))),Ii=b.b.span(Ea||(Ea=Object(s.a)(["\n    color: #ffffff78;\n"]))),Li=b.b.span(Ca||(Ca=Object(s.a)(["\n    color: #ff2d2d;\n"]))),Fi=Object(i.createContext)({}),Pi=function(){var e=Object(i.useContext)(Gc),n=e.store,t=e.setStore,a=Object(i.useState)(Mt.getInitialData()),r=Object(u.a)(a,2),c=r[0],o=r[1],l=Object(i.useState)(null),s=Object(u.a)(l,2),b=s[0],h=s[1],p=Object(i.useState)(!1),f=Object(u.a)(p,2),j=f[0],m=f[1],g=Object(i.useState)(null),v=Object(u.a)(g,2),x=v[0],O=v[1],y=Object(i.useState)(null),k=Object(u.a)(y,2),w=k[0],T=k[1],E=Object(i.useMemo)((function(){return{data:c,children:wi.getChildrenDataNode(c)}}),[c]),S=Object(i.useMemo)((function(){for(var e=b;null!=e;){var n=e.data.type;if(["logic-item","seed-item"].includes(n))return e;e=e.parent}return null}),[b]),R=function(){null!=S&&(n.system.dialog=Object(C.jsx)(Et.Component,{node:S,rootData:c}),t(Object(d.a)({},n)))};return Object(C.jsxs)(_i,{tabIndex:0,onKeyDown:function(e){if(!j&&null!=b)switch(e.key){case"ArrowRight":b.children.length>0&&(b.isOpen?h(b.children[0]):b.isOpen=!0,O({}));break;case"ArrowLeft":b.isOpen?b.isOpen=!1:null!=b.parent&&h(b.parent),O({});break;case"ArrowUp":if(null!=b.parent){var n=b.parent.children;n.forEach((function(e,t){if(b==e)return 0===t?(h(b.parent),O({})):(h(n[t-1]),O({})),1}))}break;case"ArrowDown":if(null!=b.parent){var t=b.parent.children;t.forEach((function(e,n){if(b==e&&n<t.length-1)return h(t[n+1]),O({}),1}))}break;case" ":null!=S&&R()}},children:[Object(C.jsxs)(Ni,{children:[Object(C.jsxs)(Ai,{children:[Object(C.jsx)(Mi,{children:Object(C.jsx)(yn.ButtonRecord,{isCenter:!0,buttons:[{label:"Preview",isEnable:null!=S,callback:R}]})}),Object(C.jsx)(Mi,{children:Object(C.jsx)(yn.ButtonRecord,{isCenter:!0,buttons:[{label:"Save",callback:function(){var e=JSON.stringify(c);null!=w?Object(cn.a)(rn.a.mark((function a(){var r,i;return rn.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,w.createWritable();case 2:return r=a.sent,i=on.a.gZip(e),a.next=6,r.write(i);case 6:return a.next=8,r.close();case 8:return T(w),a.next=11,w.getFile();case 11:a.sent,n.system.dialog=Object(C.jsx)(Gn.Component,{message:"successfully overwritten!"}),t(Object(d.a)({},n));case 14:case"end":return a.stop()}}),a)})))():window.showSaveFilePicker({types:[{accept:{"text/plain":[".plgc"]}}]}).then((function(a){Object(cn.a)(rn.a.mark((function r(){var i,c;return rn.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,a.createWritable();case 2:return i=r.sent,c=on.a.gZip(e),r.next=6,i.write(c);case 6:return r.next=8,i.close();case 8:T(a),n.system.dialog=Object(C.jsx)(Gn.Component,{message:"Successfully written to file!"}),t(Object(d.a)({},n));case 11:case"end":return r.stop()}}),r)})))()})).catch((function(){console.log("\u30ad\u30e3\u30f3\u30bb\u30eb\u3055\u308c\u307e\u3057\u305f")}))}},{label:"Load",callback:function(){Object(cn.a)(rn.a.mark((function e(){var a,r,i,c,l,s;return rn.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,window.showOpenFilePicker();case 2:return a=e.sent,r=Object(u.a)(a,1),i=r[0],e.next=7,i.getFile();case 7:return c=e.sent,e.next=10,c.text();case 10:l=e.sent,T(i),s=on.a.unZip(l),console.log(s),o(JSON.parse(s)),n.system.dialog=Object(C.jsx)(Gn.Component,{message:"Successfully file loaded!"}),t(Object(d.a)({},n));case 17:case"end":return e.stop()}}),e)})))()}}]})})]}),Object(C.jsx)(Bi,{children:Object(C.jsx)(Dn.Frame,{rootDataNode:E,clickEvent:function(e){h(e)},getLabelJsx:function(e){return wi.getNodeDisplayJsx(e,(null===b||void 0===b?void 0:b.data)==e.data)},invalidate:x,focusNode:b,isDisable:j})})]}),Object(C.jsx)(Di,{children:Object(C.jsxs)(qi,{children:[Object(C.jsx)(Ui,{children:Object(C.jsx)(zi,{children:wi.getTypeName(b)})}),Object(C.jsx)(Fi.Provider,{value:{rootData:c,node:b,setFocusNode:h,invalidate:function(){O({})},isModify:j,setModify:m,setRootData:o,removeSelf:function(){var e,n,t,a=b,r=-1;null===(e=a.parent)||void 0===e||e.children.forEach((function(e,n){e==a&&(r=n)})),null===(n=a.parent)||void 0===n||n.children.splice(r,1);var i=null===(t=a.parent)||void 0===t?void 0:t.data,c=Mt.getListParamName(i.type);null!=c&&(i.data[c].splice(r,1),h(a.parent),O({}))}},children:Object(C.jsx)(Vi,{children:wi.getDetailComponent(b)})})]})})]})},_i=b.b.div(Ga||(Ga=Object(s.a)(["\n    display: inline-block;\n    position: relative;\n    background-color: #6c8186;\n    width: 100%;\n    height: 100%;\n"]))),Ni=b.b.div(Ka||(Ka=Object(s.a)(["\n    display: inline-block;\n    position: relative;\n    background-color: #d5d4d87b;\n    width: calc(100% - ","px);\n    height: 100%;\n    vertical-align: top;\n"])),460),Ai=b.b.div(Qa||(Qa=Object(s.a)(["\n    display: inline-block;\n    position: relative;\n    /* background-color: #d5d4d8; */\n    width: 100%;\n    height: 40px;\n"]))),Mi=b.b.div(Za||(Za=Object(s.a)(["\n    display: inline-block;\n    width: 50%;\n"]))),Bi=b.b.div($a||($a=Object(s.a)(["\n    display: inline-block;\n    position: relative;\n    width: 100%;\n    background-color: #7fbdb47a;\n    height: calc(100% - 40px);\n"]))),Di=b.b.div(er||(er=Object(s.a)(["\n    display: inline-block;\n    /* position: relative; */\n    background-color: #9fa9b6;\n    width: ","px;\n    height: 100%;\n    vertical-align: top;\n    box-sizing: border-box;\n"])),460),qi=b.b.div(nr||(nr=Object(s.a)(["\n    display: inline-block;\n    /* position: relative; */\n    background-color: #c0c9c4;\n    width: calc(100% - 4px);\n    height: calc(100% - 4px);\n    margin: 2px 0 0 2px;\n"]))),Ui=b.b.div(tr||(tr=Object(s.a)(["\n    display: inline-block;\n    /* position: relative; */\n    /* background-color: #b4b29e; */\n    width: 100%;\n    height: 40px;\n"]))),zi=b.b.div(ar||(ar=Object(s.a)(["\n    ","\n    color: #a10000;\n    /* background-color: #bbd0d3; */\n    border: solid 1px #a10000;\n    box-sizing: border-box;\n    width: calc(100% - 20px);\n    margin: 5px 0 0 10px;\n    border-radius: 4px;\n"])),Ne.CSS_LABEL_MIDIUM),Vi=b.b.div(rr||(rr=Object(s.a)(["\n    width: calc(100% - 8px);\n    height: calc(100% - 44px);\n    margin: 0 0 0 4px;\n    background-color: #cfd3cc;\n    border: solid 1px #0026a1;\n    box-sizing: border-box;\n    border-radius: 4px;\n"]))),Hi=(b.b.div(ir||(ir=Object(s.a)(["\n    display: inline-block;\n    ","\n    position: absolute;\n    left: 0;\n    top: 0;\n    z-index: 10;\n    background-color: #0012616c;\n    width: 100%;\n    height: 100%;\n"])),(function(e){return e.isVisible?"":Object(b.a)(cr||(cr=Object(s.a)(["\n        display: none;\n    "])))})),function(){return Object(C.jsx)(C.Fragment,{})}),Wi=function(){return Object(C.jsxs)(Ji,{tabIndex:0,children:[Object(C.jsxs)(Yi,{children:[Object(C.jsx)(Xi,{}),Object(C.jsx)(Gi,{})]}),Object(C.jsx)(Ki,{})]})},Ji=b.b.div(or||(or=Object(s.a)(["\n    display: inline-block;\n    position: relative;\n    background-color: #c3d8dd;\n    width: 100%;\n    height: 100%;\n"]))),Yi=b.b.div(lr||(lr=Object(s.a)(["\n    display: inline-block;\n    position: relative;\n    /* background-color: #d5d4d8; */\n    width: calc(100% - ","px);\n    height: 100%;\n    vertical-align: top;\n"])),460),Xi=b.b.div(sr||(sr=Object(s.a)(["\n    display: inline-block;\n    position: relative;\n    /* background-color: #d5d4d8; */\n    width: 100%;\n    height: 40px;\n"]))),Gi=b.b.div(dr||(dr=Object(s.a)(["\n    display: inline-block;\n    position: relative;\n    width: 100%;\n    height: calc(100% - 40px);\n"]))),Ki=b.b.div(ur||(ur=Object(s.a)(["\n    display: inline-block;\n    /* position: relative; */\n    /* background-color: #532fc0; */\n    width: ","px;\n    height: 100%;\n    vertical-align: top;\n    box-sizing: border-box;\n    padding: 6px 6px 6px 0;\n"])),460),Qi=(b.b.div(br||(br=Object(s.a)(["\n    display: inline-block;\n    /* position: relative; */\n    background-color: #c0c9c4;\n    width: calc(100% - 4px);\n    height: calc(100% - 4px);\n    margin: 2px 0 0 2px;\n"]))),b.b.div(hr||(hr=Object(s.a)(["\n    display: inline-block;\n    ","\n    position: absolute;\n    left: 0;\n    top: 0;\n    z-index: 10;\n    background-color: #0012616c;\n    width: 100%;\n    height: 100%;\n"])),(function(e){return e.isVisible?"":Object(b.a)(pr||(pr=Object(s.a)(["\n        display: none;\n    "])))})),b.b.div(fr||(fr=Object(s.a)(["\n    display: inline-block;\n    width: 630px;\n    /* height: 400px; */\n    background-color: #a3a3a3;\n    /* opacity: 0.9; */\n    overflow: hidden;\n"]))),function(){var e=Object(i.useContext)(Gc);e.store,e.setStore;return Object(C.jsx)(Zi,{children:Object(C.jsx)(Ke,{tabElements:[{name:"Manage",enable:!1,cont:Object(C.jsx)(Hi,{})},{name:"Launcher",enable:!0,cont:Object(C.jsx)(Wi,{})},{name:"Library",enable:!0,cont:Object(C.jsx)(Pi,{})}],activeNo:2})})}),Zi=b.b.div(jr||(jr=Object(s.a)(["\n    display: inline-block;\n    position: relative;\n    margin: ","px 0 0 ","px;\n    width: calc(100% - ","px);\n    height: calc(100% - ","px);\n    background-color: transparent;\n    /* background-color: #c3d8dd6f; */\n    /* border: solid 1px black;\n    border-radius: 5px; */\n    /* box-shadow: 0 2px 14px 4px #000b3a48; */\n"])),8,8,16,16),$i=function(e){var n=Object(i.useContext)(Gc);n.store,n.setStore,on.a.getDecryptionedScoreSeq(e.hashKey);return Object(i.useEffect)((function(){}),[]),Object(C.jsx)(Ge.a,{to:"/"})},ec=function(e){var n=Object(i.useContext)(Gc);n.store,n.setStore;return Object(i.useEffect)((function(){var n=on.a.getDecryptionedUserSeq(e.hashKey);console.log(n),on.a.findUserInfoFromSeq(n).then((function(e){if(console.log(e),e.length>0)e[0]}))}),[]),Object(C.jsx)(Ge.a,{to:"/"})},nc=function(){Object(i.useContext)(Gc).store;var e=Object(i.useState)([]),n=Object(u.a)(e,2),t=n[0],a=n[1];return Object(i.useEffect)((function(){fetch("assets/release_note.json").then((function(e){return e.json()})).then((function(e){a(e.map((function(e,n){var t=e.note.split("\n").map((function(e,n){return Object(C.jsxs)("span",{children:[e,Object(C.jsx)("br",{})]},n)}));return Object(C.jsxs)(ac,{children:[Object(C.jsxs)(rc,{children:["v",e.version," (",e.date,")"]}),Object(C.jsx)(ic,{children:t})]},n)})))}))}),[]),Object(C.jsx)(tc,{children:t})},tc=b.b.div(mr||(mr=Object(s.a)(["\n    display: inline-block;\n    width: calc(100% - 8px);\n    /* height: calc(100% - ","px); */\n    height: calc(100% - 48px);\n    margin: 4px 0 0 4px;\n    background-color: #d3d3c5;\n    border: 1px solid #e60000;\n    border-radius: 4px;\n    box-sizing: border-box;\n    overflow-y: auto;\n"])),490),ac=b.b.div(gr||(gr=Object(s.a)(["\n    display: inline-block;\n    width: calc(100% - 8px);\n    margin: 4px 0 0 4px;\n    background-color: #bfcace;\n    border: 1px solid #9b9b9b;\n    border-radius: 6px;\n"]))),rc=b.b.div(vr||(vr=Object(s.a)(["\n    display: inline-block;\n    width: calc(100% - 8px);\n    height: 20px;\n    font-size: ","px;\n    margin: 2px 0 0 4px;\n    font-weight: 600;\n    /* background-color: #8bdbf8; */\n    color: #494975;\n"])),Ne.FONT_SMALL),ic=b.b.div(xr||(xr=Object(s.a)(["\n    display: inline-block;\n    width: calc(100% - 8px);\n    font-size: ","px;\n    margin: 2px 0 0 4px;\n    /* background-color: #dafce4; */\n    color: #754949;\n"])),Ne.FONT_SMALL),cc=function(){var e=Object(i.useContext)(Gc),n=(e.store,e.setStore,Object(i.useState)(0)),t=Object(u.a)(n,2),a=t[0];t[1];return Object(i.useEffect)((function(){}),[]),Object(C.jsxs)(oc,{children:[Object(C.jsxs)(lc,{children:[Object(C.jsxs)(sc,{children:[a," users have created accounts."]}),Object(C.jsx)(nc,{})]}),Object(C.jsx)(dc,{children:Object(C.jsxs)(sc,{children:[0," arts have been published."]})})]})},oc=b.b.div(Or||(Or=Object(s.a)(["\n    display: inline-block;\n    width: calc(100% - 8px);\n    height: calc(100% - 8px);\n    margin: 4px 0 0 4px;\n    background-color: #ccc;\n"]))),lc=b.b.div(yr||(yr=Object(s.a)(["\n    display: inline-block;\n    width: 50%;\n    height: 100%;\n    background-color: #bbcac7;\n"]))),sc=b.b.div(kr||(kr=Object(s.a)(["\n    display: inline-block;\n    width: 100%;\n    height: 40px;\n    font-size: 22px;\n    font-weight: 600;\n    color: #cd0202;\n    background-color: #ffffff3d;\n    padding: 0 0 0 10px;\n    box-sizing: border-box;\n"]))),dc=(b.b.div(wr||(wr=Object(s.a)(["\n    display: inline-block;\n    width: calc(100% - 8px);\n    height: ","px;\n    margin: 4px 0 4px 4px;\n    background-color: #acacac;\n    border: solid 1px #1b00b3;\n    ","\n    border-radius: 4px;\n    box-sizing: border-box;\n    color: #060053;\n"])),400,(function(e){return e.isEnable?"":Object(b.a)(Tr||(Tr=Object(s.a)(["\n        opacity: 0.3;\n        pointer-events: none;\n    "])))})),b.b.div(Er||(Er=Object(s.a)(["\n    display: inline-block;\n    height: 40px;\n    font-size: 30px;\n    font-weight: 600;\n    color: #1c2c95;\n    /* background-color: #3f80cf57; */\n    padding: 0 10px;\n"]))),b.b.div(Cr||(Cr=Object(s.a)(["\n    display: inline-block;\n    width: 100%;\n    height: 35px;\n    /* background-color: #3fcf7b56; */\n    padding: 4px 0 0 10px;\n"]))),b.b.div(Sr||(Sr=Object(s.a)(["\n    display: inline-block;\n    height: calc(100% - 4px);\n    width: 140px;\n    font-size: 24px;\n    line-height: 24px;\n    font-weight: 600;\n    color: #08106e;\n    border: solid 1px #1b00b3;\n    box-sizing: border-box;\n    /* background-color: #85a2c5; */\n    background: linear-gradient(to bottom, #8a98a7, #a3bbd2, #8a98a7);\n    border-radius: 4px;\n    text-align: center;\n"]))),b.b.div(Rr||(Rr=Object(s.a)(["\n    display: inline-block;\n    height: calc(100% - 4px);\n    width: calc(100% - 170px);\n    margin-left: 10px;\n    font-size: 24px;\n    line-height: 30px;\n    user-select: text;\n    /* font-weight: 600; */\n    color: #ffffff;\n    padding: 0 5px;\n    box-sizing: border-box;\n    background-color: #808080;\n    text-align: left;\n"]))),b.b.input(Ir||(Ir=Object(s.a)(["\n    display: inline-block;\n    height: calc(100% - 4px);\n    width: calc(100% - 170px);\n    margin-left: 10px;\n    font-size: 24px;\n    line-height: 24px;\n    /* font-weight: 600; */\n    color: #1a1a1a;\n    padding: 0 5px;\n    box-sizing: border-box;\n    background-color: #e9e9e9;\n    text-align: left;\n"]))),b.b.div(Lr||(Lr=Object(s.a)(["\n    display: inline-block;\n    width: 100%;\n    height: 40px;\n    /* background-color: #888888; */\n    box-sizing: border-box;\n    text-align: left;\n"]))),b.b.div(Fr||(Fr=Object(s.a)(["\n    ","\n    /* width: 160px; */\n    padding: 0 40px;\n    /* line-height: 25px; */\n    box-sizing: border-box;\n    background-color: #a8a8a8;\n    background: linear-gradient(to bottom, #787878, #b4b4b4, #787878);\n    border: 1px solid #1a2b3f;\n    color: #1a2b3f;\n    border-radius: 4px;\n    margin: 5px 0 0 4px;\n    ","\n    &:hover {\n        /* background-color: #98bfc2; */\n    background: linear-gradient(to bottom, #989898, #b4b4b4, #989898);\n    }\n"])),Ae,(function(e){return e.isEnable?"":Ne.CSS_BUTTON_DISABLE})),b.b.div(Pr||(Pr=Object(s.a)(["\n    display: inline-block;\n    width: 50%;\n    height: 100%;\n    background-color: #bbbfca;\n    vertical-align: top;\n"])))),uc=(b.b.div(_r||(_r=Object(s.a)(["\n    display: inline-block;\n    width: calc(100% - 8px);\n    height: calc(100% - 42px);\n    margin: 4px 0 0 4px;\n    background-color: #d3d3c5;\n    border: 1px solid #e60000;\n    border-radius: 4px;\n    box-sizing: border-box;\n    overflow-y: auto;\n"]))),b.b.div(Nr||(Nr=Object(s.a)(["\n    display: inline-block;\n    position: relative;\n    width: 100%;\n    /* height: 60px; */\n    border-bottom: 1px solid #888888;\n    /* background-color: white; */\n    background: linear-gradient(to bottom, transparent, #b6b6b684);\n    margin: 2px 0 0 0;\n    padding: 0 0 0 4px;\n    box-sizing: border-box;\n    /* padding-left: 4px; */\n    &:hover {\n        background: linear-gradient(to bottom, transparent, #ffffff5c);\n    }\n"]))),b.b.div(Ar||(Ar=Object(s.a)(["\n    display: inline-block;\n    width: 100%;\n    height: 20px;\n    line-height: 21px;\n    font-size: 18px;\n    font-weight: 600;\n    color: #c9494f;\n    overflow: hidden;\n    white-space: nowrap;\n"]))),b.b.div(Mr||(Mr=Object(s.a)(["\n    display: inline-block;\n    width: calc(100% - 250px);\n    height: 35px;\n    font-size: 24px;\n    line-height: 36px;\n    font-weight: 600;\n    color: #47417c;\n    /* background-color: #f8f8e8; */\n    overflow: hidden;\n    white-space: nowrap;\n"]))),b.b.div(Br||(Br=Object(s.a)(["\n    display: inline-block;\n    width: 250px;\n    height: 35px;\n    font-size: 24px;\n    line-height: 36px;\n    font-weight: 600;\n    color: #417c49;\n    /* background-color: #f8f8e8; */\n    overflow: hidden;\n    white-space: nowrap;\n"]))),function(){var e=Object(i.useContext)(Gc);e.store,e.setStore;return Object(C.jsx)(Xe.a,{basename:"/particle_simulator_app",children:Object(C.jsx)(bc,{})})}),bc=function(){var e=Object(i.useContext)(Gc),n=(e.store,e.setStore,new URLSearchParams(Object(Ge.g)().search).get("v"));return Object(C.jsxs)(Ge.d,{children:[Object(C.jsx)(Ge.b,{path:"/",exact:!0,children:Object(C.jsx)(hc,{children:Object(C.jsx)(Me,{tabElements:[{name:"Home",icon:Object(C.jsx)(Je.a,{}),isEnable:!0,cont:Object(C.jsx)(cc,{})},{name:"Create",icon:Object(C.jsx)(Ye.a,{}),isEnable:!0,cont:Object(C.jsx)(Qi,{})}],activeNo:0})})}),Object(C.jsx)(Ge.b,{path:"/test",exact:!0,children:Object(C.jsx)(hc,{})}),Object(C.jsx)(Ge.b,{path:"/preview",exact:!0,children:Object(C.jsx)($i,{hashKey:n})}),Object(C.jsx)(Ge.b,{path:"/user",exact:!0,children:Object(C.jsx)(ec,{hashKey:n})})]})},hc=b.b.div(Dr||(Dr=Object(s.a)(["\n    display: inline-block;\n    position: relative;\n    margin: ","px 0 0 ","px;\n    width: calc(100% - ","px);\n    height: calc(100% - ","px);\n    background-color: transparent;\n    /* background-color: #c3d8dd6f; */\n    /* border: solid 1px black;\n    border-radius: 5px; */\n    /* box-shadow: 0 2px 14px 4px #000b3a48; */\n"])),15,15,30,30),pc=function(e){var n=Object(i.useState)(!1),t=Object(u.a)(n,2),a=t[0],r=t[1],c=Object(i.useState)(),o=Object(u.a)(c,2),l=o[0],s=o[1];return Object(i.useEffect)((function(){s(setTimeout((function(){r(!0)}),3e3))}),[]),Object(i.useEffect)((function(){a&&setTimeout((function(){e.remove()}),500)}),[a]),Object(C.jsx)(fc,{isSwitch:a,onClick:function(e){clearTimeout(l),r(!0)},children:Object(C.jsxs)(jc,{children:[Object(C.jsxs)(gc,{children:[Object(C.jsx)("span",{children:"L"}),"iCreSia"]}),Object(C.jsx)(vc,{children:"Now Loading..."}),Object(C.jsx)(xc,{children:"Copyright \xa9 2022 Licresia All Rights Reserved."})]})})},fc=b.b.div(qr||(qr=Object(s.a)(["\n    display: inline-block;\n    position: absolute;\n    left: 0;\n    top: 0;\n    z-index: 10;\n    width: 100%;\n    height: 100%;\n    background-color: #000f3a86;\n    opacity: ",";\n    transition: opacity 500ms;\n"])),(function(e){return e.isSwitch?"0":"1"})),jc=b.b.div(Ur||(Ur=Object(s.a)(["\n    display: inline-block;\n    position: relative;\n    left: calc(50% - 450px);\n    top: calc(50% - 300px);\n    z-index: 11;\n    width: 900px;\n    height: 600px;\n    background: radial-gradient(#868686, #ffffff);\n    border-radius: 8px;\n    border: solid 2px #cfcfcf;\n    box-sizing: border-box;\n    transition: opacity 500ms;\n"]))),mc=Object(b.c)(zr||(zr=Object(s.a)(["\n  0%, 100% {\n    opacity: 0.4;\n  }\n  50% {\n    opacity: 1;\n  }\n"]))),gc=b.b.div(Vr||(Vr=Object(s.a)(["\n    display: inline-block;\n    position: relative;\n    margin-top: 10%;\n    width: 100%;\n    /* height: 400px; */\n    /* background-color: #0003b69e; */\n    background: linear-gradient(to bottom, #99999913, #ffffff13,#ffffff13,#ffffff13, #99999913);\n    color: white;\n    font-size: 130px;\n    font-weight: 600;\n    text-align: center;\n    text-shadow: 1px 2px 22px #0000003d;\n    /* line-height: 350px; */\n    animation: "," 3s linear infinite;\n    /* -webkit-box-reflect:below 1px; */\n    -webkit-box-reflect: below 1px -webkit-gradient(\n      linear,left top,left bottom,\n      from(transparent),\n      color-stop(0.6, transparent),\n      to(#f80000));\n    & span {\n        color: red;\n        font-size: 160px;\n    }\n"])),mc),vc=b.b.div(Hr||(Hr=Object(s.a)(["\n    display: inline-block;\n    position: absolute;\n    bottom: 80px;\n    width: 100%;\n    left: 20px;\n    color: #ffffff;\n    font-size: 42px;\n    font-weight: 600;\n    text-align: center;\n"]))),xc=b.b.div(Wr||(Wr=Object(s.a)(["\n    display: inline-block;\n    position: absolute;\n    bottom: 5px;\n    left: 20px;\n    color: #636363;\n    font-size: 22px;\n    font-weight: 600;\n    text-align: left;\n"]))),Oc=t(40),yc=t(60),kc=function(){var e=Object(i.useContext)(Gc),n=e.store,t=(e.setStore,Object(i.useState)(!1)),a=Object(u.a)(t,2),r=a[0],c=a[1],o=Object(i.useState)({value:"",errors:[]}),l=Object(u.a)(o,2),s=l[0],d=l[1],b=Object(i.useState)({value:"",errors:[]}),h=Object(u.a)(b,2),p=h[0],f=h[1],j=Object(i.useState)({value:"",errors:[]}),m=Object(u.a)(j,2),g=m[0],v=m[1],x=Object(i.useState)([]),O=Object(u.a)(x,2),y=O[0],k=O[1],w=Object(i.useState)([]),T=Object(u.a)(w,2),E=T[0],S=T[1],R=function(){for(var e="0123456789",n="",t=0;t<6;t++)n+=e.charAt(Math.random()*e.length);return n};Object(i.useEffect)((function(){on.a.findUserIdList().then((function(e){S(e)}))}),[]);var I=Object(i.useState)(R()),L=Object(u.a)(I,2),F=L[0],P=L[1],_=Object(i.useState)({value:"",errors:[]}),N=Object(u.a)(_,2),A=N[0],M=N[1],B=Object(i.useMemo)((function(){return tt.getAuthTextURL(F)}),[F]);Object(i.useEffect)((function(){var e=[];if(s.errors.length>0)switch(s.errors[0]){case"required":e.push("[user id] is required.");break;case"length":e.push("[user id] set a value between 4 and 20.");break;case"value":e.push("[user id] accepts only half-width alphanumeric characters.");break;case"relation":e.push("[user id] already in use.")}if(p.errors.length>0)switch(p.errors[0]){case"required":e.push("[password] is required.");break;case"length":e.push("[password] set a value between 4 and 20.");break;case"relation":e.push("[password] does not match confirm.")}if(g.errors.length>0)switch(g.errors[0]){case"length":e.push("[password *] set a value between 4 and 20.")}k(e)}),[s,p]);return Object(C.jsxs)(C.Fragment,{children:[Object(C.jsx)(wc,{isVisible:!r,children:Object(C.jsx)(yn.BorderPanel,{title:"Login information",innerJsx:Object(C.jsxs)(C.Fragment,{children:[Object(C.jsx)(yn.Message,{message:"Please, enter User ID/Pass (Confirm)."}),Object(C.jsx)(yn.InputTextFormBak,{placeholder:"user id",checkable:s,setCheckable:d,validates:[{checker:function(e){return et.checkRequired(e)},errorType:"required"},{checker:function(e){return et.checkStringLength(e,4,20)},errorType:"length"},{checker:function(e){return et.checkAsciiChars(e)},errorType:"value"},{checker:function(e){return!E.includes(e)},errorType:"relation"}],width:300,isCenter:!0}),Object(C.jsx)(yn.InputTextFormBak,{placeholder:"password",isPassword:!0,checkable:p,setCheckable:f,validates:[{checker:function(e){return et.checkRequired(e)},errorType:"required"},{checker:function(e){return et.checkStringLength(e,4,20)},errorType:"length"},{checker:function(e){return e===g.value},errorType:"relation"}],dependency:[g],width:300,isCenter:!0}),Object(C.jsx)(yn.InputTextFormBak,{placeholder:"password*",isPassword:!0,checkable:g,setCheckable:v,validates:[{checker:function(e){return et.checkRequired(e)},errorType:"required"},{checker:function(e){return et.checkStringLength(e,4,20)},errorType:"length"},{checker:function(e){return e===p.value},errorType:"relation"}],dependency:[p],width:300,isCenter:!0}),Object(C.jsx)(yn.InfoFrame,{textRecords:y}),Object(C.jsx)(yn.ButtonRecord,{buttons:[{label:"Enter",isEnable:0===s.errors.length&&0===p.errors.length&&0===g.errors.length,callback:function(){c(!0)}}]})]})})}),Object(C.jsxs)(wc,{isVisible:r,children:[Object(C.jsx)(yn.BorderPanel,{title:"Proof not a robot",innerJsx:Object(C.jsxs)(C.Fragment,{children:[Object(C.jsx)(yn.Message,{message:"Please, input the same 6 number as the picture."}),Object(C.jsx)(Tc,{src:B}),Object(C.jsx)(yn.ButtonRecord,{buttons:[{label:"Change",callback:function(){P(R()),M({value:"",errors:[]})}}]}),Object(C.jsx)(yn.InputTextFormBak,{placeholder:"6 numbers",checkable:A,setCheckable:M,width:300,isCenter:!0}),Object(C.jsx)(yn.ButtonRecord,{buttons:[{label:"Regist",isEnable:0===A.errors.length&&F===A.value,callback:function(){Object(cn.a)(rn.a.mark((function e(){var t,a,r;return rn.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,on.a.sendQueryRequestToAPI("select","SELECT count(*) as cnt FROM user_tbl where id = '".concat(s,"'"));case 2:return t=e.sent,e.next=5,t.json();case 5:if(a=e.sent,console.log(JSON.stringify(a[0].cnt)),!(a[0].cnt>0)){e.next=12;break}k(["That user id has already been recorded."]),e.next=19;break;case 12:return e.next=14,on.a.getNextUserSeq();case 14:return r=e.sent,console.log(r),e.next=18,on.a.sendQueryRequestToAPI("update","INSERT INTO user_tbl(seq, id, password) VALUES(".concat(r,", '").concat(s.value,"', '").concat(p.value,"')"));case 18:n.system.dialog=Object(C.jsx)(Gn.Component,{message:"You have successfully created an account!",buttons:[{label:"OK",callback:function(){}}]});case 19:case"end":return e.stop()}}),e)})))()}}]})]})}),Object(C.jsx)(yn.MessageLink,{message:"Return to login information.",clickAction:function(){c(!1)}})]})]})},wc=b.b.div(Jr||(Jr=Object(s.a)(["\n    display: ",";\n"])),(function(e){return e.isVisible?"block":"none"})),Tc=b.b.img(Yr||(Yr=Object(s.a)(["\n    display: block;\n    text-align: center;\n    margin: 4px auto;\n    background-color: #f7f0f0;\n    border: 1px solid #888888;\n    box-sizing: border-box;\n"]))),Ec=function(){var e=Object(i.useContext)(Gc),n=e.store,t=e.setStore,a=Object(i.useState)(!1),r=Object(u.a)(a,2),c=r[0],o=r[1],l=Object(i.useState)({value:"",errors:[]}),s=Object(u.a)(l,2),b=s[0],h=s[1],p=Object(i.useState)({value:"",errors:[]}),f=Object(u.a)(p,2),j=f[0],m=f[1],g=Object(i.useState)({value:"",errors:[]}),v=Object(u.a)(g,2),x=v[0],O=v[1],y=Object(i.useState)([]),k=Object(u.a)(y,2),w=k[0],T=k[1];Object(i.useEffect)((function(){var e=[];if(b.errors.length>0)switch(b.errors[0]){case"required":e.push("[user id] is required.");break;case"length":e.push("[user id] set a value between 4 and 20.");break;case"value":e.push("[user id] accepts only half-width alphanumeric characters.");break;case"relation":e.push("[user id] already in use.")}if(j.errors.length>0)switch(j.errors[0]){case"required":e.push("[password] is required.");break;case"length":e.push("[password] set a value between 4 and 20.")}T(e)}),[b,j]);return Object(C.jsxs)(C.Fragment,{children:[Object(C.jsxs)(Cc,{isVisible:!c,children:[Object(C.jsx)(yn.BorderPanel,{title:"Login information",innerJsx:Object(C.jsxs)(C.Fragment,{children:[Object(C.jsx)(yn.Message,{message:"Please, enter User ID/Pass."}),Object(C.jsx)(yn.InputTextFormBak,{placeholder:"user id",checkable:b,setCheckable:h,validates:[{checker:function(e){return et.checkRequired(e)},errorType:"required"},{checker:function(e){return et.checkStringLength(e,4,20)},errorType:"length"},{checker:function(e){return et.checkAsciiChars(e)},errorType:"value"}],width:300,isCenter:!0}),Object(C.jsx)(yn.InputTextFormBak,{placeholder:"password",isPassword:!0,checkable:j,setCheckable:m,validates:[{checker:function(e){return et.checkRequired(e)},errorType:"required"},{checker:function(e){return et.checkStringLength(e,4,20)},errorType:"length"}],width:300,isCenter:!0}),Object(C.jsx)(yn.InfoFrame,{textRecords:w}),Object(C.jsx)(yn.ButtonRecord,{buttons:[{label:"Enter",isEnable:0===b.errors.length&&0===j.errors.length,callback:function(){Object(cn.a)(rn.a.mark((function e(){var a;return rn.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,on.a.findUserInfoLogin(b.value,j.value);case 2:a=e.sent,console.log(JSON.stringify(a)),a.length>0?(n.system.user={seq:a[0].seq,id:a[0].id,password:a[0].password,email:a[0].email},n.system.dialog=Object(C.jsx)(Gn.Component,{message:"Login successful!"}),t(Object(d.a)({},n))):T(["Incorrect user id or password."]);case 5:case"end":return e.stop()}}),e)})))()}}]})]})}),Object(C.jsx)(yn.MessageLink,{message:"Forgot your login information?",clickAction:function(){o(!0)}})]}),Object(C.jsxs)(Cc,{isVisible:c,children:[Object(C.jsx)(yn.BorderPanel,{title:"Email",innerJsx:Object(C.jsxs)(C.Fragment,{children:[Object(C.jsx)(yn.Message,{message:"Submit login information to account address."}),Object(C.jsx)(yn.InputTextFormBak,{placeholder:"email",checkable:x,setCheckable:O,validates:[{checker:function(e){return et.checkRequired(e)},errorType:"required"},{checker:function(e){return et.checkStringLength(e,4,40)},errorType:"length"},{checker:function(e){return 0===e.length||2===e.split("@").length},errorType:"value"}],width:500,isCenter:!0}),Object(C.jsx)(yn.ButtonRecord,{buttons:[{label:"Send",isEnable:0===x.errors.length,callback:function(){on.a.findUserInfoFromEmail(x.value).then((function(e){if(e.length>0){var n=e[0],t=on.a.getHashedFromUserSeq(n.seq),a="https://demo-app.licresia.com/#/user?v=".concat(t);on.a.sendQueryRequestToMailAPI({from:"info@licresia.com",to:x.value,subject:"\u3010LiCreSia\u3011support",text:"Your login information is as follows.\n\nURL: ".concat(a,"\nUSR ID: ").concat(n.id)})}}))}}]})]})}),Object(C.jsx)(yn.MessageLink,{message:"Return to login information.",clickAction:function(){o(!1)}})]})]})},Cc=b.b.div(Xr||(Xr=Object(s.a)(["\n    display: ",";\n"])),(function(e){return e.isVisible?"block":"none"})),Sc=function(){var e=Object(i.useContext)(Gc),n=(e.store,e.setStore,Object(i.useState)(!1)),t=Object(u.a)(n,2),a=t[0],r=t[1],c=Object(i.useMemo)((function(){return tt.getLogoURL()}),[]);return Object(C.jsxs)(Rc,{width:600,height:500,children:[Object(C.jsx)(Ic,{children:Object(C.jsx)("img",{src:c})}),Object(C.jsxs)(Lc,{children:[Object(C.jsx)(Fc,{isActive:!a,onClick:function(){r(!1)},children:"Login"}),Object(C.jsx)(Fc,{isActive:a,onClick:function(){r(!0)},children:"Create Account"})]}),a?Object(C.jsx)(kc,{}):Object(C.jsx)(Ec,{})]})},Rc=b.b.div(Gr||(Gr=Object(s.a)(["\n    display: inline-block;\n    position: absolute;\n    z-index: 11;\n    top: calc(50% - ","px);\n    left: calc(50% - ","px);\n    width: ","px;\n    height: ","px;\n    background-color: #e7e7e7e2;\n    border: 1px solid #9e9e9e;\n    border-radius: 4px;\n"])),(function(e){return e.height/2}),(function(e){return e.width/2}),(function(e){return e.width}),(function(e){return e.height})),Ic=b.b.div(Kr||(Kr=Object(s.a)(["\n    display: inline-block;\n    width: 100%;\n    height: 80px;\n    background-color: #eeeaea;\n    text-align: center;\n"]))),Lc=b.b.div(Qr||(Qr=Object(s.a)(["\n    display: inline-block;\n    width: 100%;\n    height: 50px;\n    /* background-color: #d1d1d1; */\n    text-align: center;\n"]))),Fc=b.b.div(Zr||(Zr=Object(s.a)(["\n    ",";\n    background-color: #bf808075;\n    ","\n    color: white;\n    width: 250px;\n    margin: 10px 10px;\n    text-align: center;\n    &:hover {\n    background-color: #bf8080a2;\n        ","\n    }\n"])),Ne.CSS_LABEL_MIDIUM,(function(e){return e.isActive?Object(b.a)($r||($r=Object(s.a)(["\n        background-color: #c7a73e;\n    "]))):""}),(function(e){return e.isActive?Object(b.a)(ei||(ei=Object(s.a)(["\n            background-color: #c7a73e;\n        "]))):""})),Pc=(b.b.div(ni||(ni=Object(s.a)(["\n    display: inline-block;\n    margin: 2px 0 0 0;\n    width: 100%;\n    height: 50px;\n    /* background-color: #e6e3c1; */\n    text-align: left;\n"]))),b.b.div(ti||(ti=Object(s.a)(["\n    ",";\n    /* background-color: #80e45832; */\n    color: #bd2d2d;\n    width: 150px;\n    margin: 10px 0 0 5px;\n    text-align: center;\n"])),Ne.CSS_LABEL_MIDIUM),b.b.input(ai||(ai=Object(s.a)(["\n    ",";\n    background-color: #f7f09787;\n    width: 300px;\n    margin: 10px 0 0 15px;\n    text-align: center;\n    border: solid 1px #5e5e5e;\n    text-align: left;\n    box-sizing: border-box;\n    border-radius: 4px;\n"])),Ne.CSS_LABEL_MIDIUM),b.b.div(ri||(ri=Object(s.a)(["\n    display: inline-block;\n    position: absolute;\n    left: 0;\n    bottom: 0;\n    padding: 6px 4px 0 0;\n    box-sizing: border-box;\n    width: 100%;\n    height: 50px;\n    background-color: #d1d1d1;\n    text-align: right;\n"]))),b.b.div(ii||(ii=Object(s.a)(["\n    ",";\n    ",";\n    background-color: #5c9253;\n    width: 150px;\n    margin: 10px 5px 0 0;\n    text-align: center;\n    &:hover {\n        background-color: #7eaf75;\n    }\n"])),Ne.CSS_LABEL_MIDIUM,(function(e){return e.isEnable?"":Ne.CSS_BUTTON_DISABLE})),function(){var e=Object(i.useContext)(Gc),n=e.store,t=(e.setStore,Object(i.useState)(0)),a=Object(u.a)(t,2),r=a[0],c=a[1],o=Object(i.useState)({value:"",errors:[]}),l=Object(u.a)(o,2),s=l[0],b=l[1],h=Object(i.useState)({value:"",errors:[]}),p=Object(u.a)(h,2),f=p[0],j=p[1],m=Object(i.useState)({value:"",errors:[]}),g=Object(u.a)(m,2),v=g[0],x=g[1],O=Object(i.useState)({value:"",errors:[]}),y=Object(u.a)(O,2),k=y[0],w=y[1],T=Object(i.useState)({value:"",errors:[]}),E=Object(u.a)(T,2),S=E[0],R=E[1],I=Object(i.useState)([]),L=Object(u.a)(I,2),F=L[0],P=L[1],_=Object(i.useState)([]),N=Object(u.a)(_,2),A=N[0],M=N[1],B=Object(i.useState)(!1),D=Object(u.a)(B,2),q=D[0],U=D[1],z=n.system.user,V=function(){b(Object(d.a)(Object(d.a)({},s),{},{value:z.id})),x(Object(d.a)(Object(d.a)({},v),{},{value:""})),w(Object(d.a)(Object(d.a)({},k),{},{value:""})),R(Object(d.a)(Object(d.a)({},S),{},{value:z.email})),j(Object(d.a)(Object(d.a)({},f),{},{value:z.password}))};Object(i.useEffect)((function(){on.a.findUserInfoList().then((function(e){var n=[],t=[];e.forEach((function(e){e.id!==z.id&&n.push(e.id),""!==e.email&&t.push(e.email)})),P(n),M(t)}));var e=on.a.getHashedFromUserSeq(z.seq);return window.history.replaceState("","","/#/user?v=".concat(e)),V(),function(){window.history.replaceState("","","/#/")}}),[]);var H=Object(C.jsxs)(Bc,{children:[Object(C.jsx)(yn.InputTextFormBak,{titleLabel:"user id",checkable:s,setCheckable:b,validates:[{checker:function(e){return et.checkStringLength(e,4,20)},errorType:"length"},{checker:function(e){return et.checkAsciiChars(e)},errorType:"value"},{checker:function(e){return!F.includes(e)},errorType:"relation"}],width:300,marginTop:5,isReadOnly:!q}),Object(C.jsx)(yn.InputTextFormBak,{titleLabel:"new pass",isPassword:!0,checkable:v,setCheckable:x,validates:[{checker:function(e){return et.checkStringLength(e,4,20)},errorType:"length"},{checker:function(e){return e===k.value},errorType:"relation"}],dependency:[k],width:300,marginTop:5,isReadOnly:!q}),Object(C.jsx)(yn.InputTextFormBak,{titleLabel:"new pass*",isPassword:!0,checkable:k,setCheckable:w,validates:[{checker:function(e){return et.checkStringLength(e,4,20)},errorType:"length"},{checker:function(e){return e===v.value},errorType:"relation"}],dependency:[v],width:300,marginTop:5,isReadOnly:!q}),Object(C.jsx)(yn.InputTextFormBak,{titleLabel:"email",checkable:S,setCheckable:R,validates:[{checker:function(e){return et.checkStringLength(e,4,40)},errorType:"length"},{checker:function(e){return 0===e.length||2===e.split("@").length},errorType:"value"},{checker:function(e){return!A.includes(e)},errorType:"relation"}],marginTop:5,isReadOnly:!q}),Object(C.jsx)(yn.InputTextFormBak,{titleLabel:"old pass",isPassword:!0,checkable:f,setCheckable:j,validates:[{checker:function(e){return e===z.password},errorType:"relation"}],width:300,marginTop:55,isReadOnly:!q})]}),W=0===s.errors.length&&0===v.errors.length&&0===k.errors.length&&0===S.errors.length&&0===f.errors.length;return Object(C.jsxs)(_c,{width:750,height:600,children:[Object(C.jsx)(Nc,{children:Object(C.jsx)(yn.Message,{message:"If you bookmark this page, you can easily login by URL."})}),Object(C.jsx)(Ac,{children:Object(C.jsx)(Ke,{tabElements:[{name:"User",enable:!1,cont:H},{name:"Security",enable:!1,cont:Object(C.jsx)(C.Fragment,{})}],activeNo:r,selectTabIndex:function(e){return c(e)}})}),Object(C.jsx)(Mc,{children:Object(C.jsx)(yn.ButtonRecord,{buttons:[{label:"Close",callback:function(){}},{label:"Cancel",isEnable:q,callback:function(){U(!1),V()}},{label:q?"Regist":"Modify",isEnable:!q||W,callback:function(){q?function(){var e=0===v.value.length?"":",password = '".concat(v.value,"'");on.a.sendQueryRequestToAPI("update","UPDATE user_tbl SET id = '".concat(s.value,"', email = '").concat(S.value,"'").concat(e,"\n            WHERE seq = ").concat(null===z||void 0===z?void 0:z.seq)).then((function(){z.id=s.value,v.value.length>0&&(z.password=v.value),z.email=S.value}))}():(U(!0),j(Object(d.a)(Object(d.a)({},f),{},{value:""})))}}]})})]})}),_c=b.b.div(ci||(ci=Object(s.a)(["\n    display: inline-block;\n    position: absolute;\n    z-index: 11;\n    top: calc(50% - ","px);\n    left: calc(50% - ","px);\n    width: ","px;\n    height: ","px;\n    background-color: #e7e7e7eb;\n    border: 1px solid #9e9e9e;\n    border-radius: 4px;\n"])),(function(e){return e.height/2}),(function(e){return e.width/2}),(function(e){return e.width}),(function(e){return e.height})),Nc=(b.b.div(oi||(oi=Object(s.a)(["\n    display: inline-block;\n    width: 100%;\n    height: 80px;\n    background-color: #eeeaea;\n    text-align: center;\n"]))),b.b.div(li||(li=Object(s.a)(["\n    display: inline-block;\n    width: 100%;\n    height: 50px;\n    /* background-color: #d1d1d1; */\n    /* text-align: center; */\n"])))),Ac=b.b.div(si||(si=Object(s.a)(["\n    display: inline-block;\n    width: 100%;\n    height: calc(100% - 100px);\n    padding: 4px;\n    box-sizing: border-box;\n    /* background-color: #d1d1d1; */\n    text-align: center;\n"]))),Mc=b.b.div(di||(di=Object(s.a)(["\n    display: inline-block;\n    position: absolute;\n    left: 0;\n    bottom: 0;\n    padding: 6px 4px 0 0;\n    box-sizing: border-box;\n    width: 100%;\n    height: 50px;\n    background-color: #d1d1d1;\n    text-align: right;\n"]))),Bc=b.b.div(ui||(ui=Object(s.a)(["\n    display: inline-block;\n    width: 100%;\n    height: 100%;\n    background-color: #cecece;\n"]))),Dc=function(){var e=Object(i.useContext)(Gc),n=e.store,t=e.setStore,a=n.system.user,r=Object(i.useState)(""),c=Object(u.a)(r,2),o=c[0],l=c[1];Object(i.useEffect)((function(){null!=a&&l("@"+a.id)}),[a]);var s=null==a?Object(C.jsxs)(Jc,{onClick:function(){n.system.dialog=Object(C.jsx)(Sc,{}),t(Object(d.a)({},n)),console.log(window.location.origin)},children:[Object(C.jsx)("div",{children:Object(C.jsx)(Oc.a,{})}),"Login / Sign up"]}):Object(C.jsxs)(C.Fragment,{children:[Object(C.jsx)(Yc,{isEntry:null!=a,onClick:function(){n.system.dialog=Object(C.jsx)(Pc,{}),t(Object(d.a)({},n))},children:o}),Object(C.jsxs)(Jc,{onClick:function(){n.system.user=null,n.system.dialog=Object(C.jsx)(Gn.Component,{message:"Logout.\nSee you next time!"}),t(Object(d.a)({},n))},children:[Object(C.jsx)("div",{children:Object(C.jsx)(Oc.a,{})}),"Logout"]})]});return Object(C.jsxs)(qc,{children:[Object(C.jsxs)(Uc,{children:[Object(C.jsx)(Vc,{children:"Partice"}),"\xa0",Object(C.jsx)(zc,{children:"Simulator"})]}),Object(C.jsxs)(Hc,{children:[s,Object(C.jsx)(Xc,{children:Object(C.jsx)("div",{children:Object(C.jsx)(yc.a,{})})})]})]})},qc=b.b.div(bi||(bi=Object(s.a)(["\n    display: inline-block;\n    position: relative;\n    width: 100%;\n    height: ","px;\n    background: linear-gradient(to bottom, #192f7e, #000540, #192f7e);\n    /* background-color: #c2c2c2; */\n    box-shadow: 0 0 8px 0 #000b3a48;\n"])),44),Uc=b.b.div(hi||(hi=Object(s.a)(["\n    display: inline-block;\n    margin: 2px 0 0 10px;\n    width: 200px;\n    height: calc(100% - 4px);\n    /* background-color: #00000013; */\n    font-size: 34px;\n    font-weight: 600;\n    line-height: 36px;\n    font-style: italic;\n    text-shadow: 1px 2px 3px #dbdbdb6a;\n"]))),zc=b.b.span(pi||(pi=Object(s.a)(["\n    color: #9fc2d1;\n"]))),Vc=b.b.span(fi||(fi=Object(s.a)(["\n    font-size: 34px;\n    color: #ececec;\n"]))),Hc=b.b.div(ji||(ji=Object(s.a)(["\n    display: inline-block;\n    /* width: 300px; */\n    height: 100%;\n    position: absolute;\n    right: 30px;\n    /* background-color: #ff00002b; */\n"]))),Wc=b.b.div(mi||(mi=Object(s.a)(["\n    background-color: #c9c7c7;\n    &:hover {\n        background-color: #cf9bae;\n    }\n    transition: background-color 800ms;\n"]))),Jc=Object(b.b)(Wc)(gi||(gi=Object(s.a)(["\n    display: inline-block;\n    /* width: 240px; */\n    padding: 0 30px;\n    margin: 5px 10px 0 0;\n    height: calc(100% - 10px);\n    border-radius: 20px;\n    /* background: linear-gradient(to bottom, #e9baba, #d39d9d, #e9baba); */\n    /* background-color: #adadad; */\n    /* border: 1px solid #7e7e7e; */\n    /* box-shadow: 0 0 8px 0 #000b3a48; */\n    /* text-shadow: 1px 2px 3px #808080ba; */\n    text-align: center;\n    font-size: 22px;\n    font-weight: 600;\n    line-height: 28px;\n    color: #ffffff;\n    vertical-align: top;\n\n    & div {\n        display: inline-block;\n        /* background-color: #0000007d; */\n        margin: 2px 5px 0 0;\n        vertical-align: top;\n    }\n"]))),Yc=b.b.div(vi||(vi=Object(s.a)(["\n    display: inline-block;\n    /* width: 240px; */\n    margin: 5px 20px 0 0;\n    height: calc(100% - 10px);\n    text-align: center;\n    font-size: 22px;\n    font-weight: 600;\n    line-height: 28px;\n    color: #9afff292;\n    ","\n    vertical-align: top;\n"])),(function(e){return e.isEntry?"":Object(b.a)(xi||(xi=Object(s.a)(["\n        color: #ff393983;\n    "])))})),Xc=Object(b.b)(Wc)(Oi||(Oi=Object(s.a)(["\n    display: inline-block;\n    width: ","px;\n    height: ","px;\n    margin: 3px 0 0 0;\n    border-radius: 50%;\n    /* background: linear-gradient(to bottom, #e9baba, #d39d9d, #e9baba); */\n    /* background-color: #48aa9d; */\n    /* border: 1px solid #7e7e7e; */\n    /* box-shadow: 0 0 8px 0 #000b3a48; */\n    /* text-shadow: 1px 2px 3px #808080ba; */\n    /* text-align: center; */\n    font-size: 28px;\n    font-weight: 600;\n    color: #ffffff;\n    & div {\n        display: inline-block;\n        margin: 2px 0 0 5px;\n        /* background-color: #0000007d; */\n        vertical-align: top;\n    }\n"])),38,38),Gc=Object(i.createContext)({}),Kc=function(){var e=Object(i.useState)(h),n=Object(u.a)(e,2),t=n[0],a=n[1];return Object(C.jsx)(Gc.Provider,{value:{store:t,setStore:a},children:Object(C.jsxs)(C.Fragment,{children:[t.system.isSplash?Object(C.jsx)(pc,{remove:function(){a(Object(d.a)(Object(d.a)({},t),{},{system:Object(d.a)(Object(d.a)({},t.system),{},{isSplash:!1})}))}}):Object(C.jsx)(C.Fragment,{}),Object(C.jsxs)(Qc,{children:[Object(C.jsx)(S,{}),Object(C.jsx)(Dc,{}),Object(C.jsx)(Zc,{children:Object(C.jsx)(uc,{})})]})]})})},Qc=b.b.div(yi||(yi=Object(s.a)(["\n    display: inline-block;\n    position: relative;\n    width: 100%;\n    height: 100%;\n    background-color: #364887;\n"]))),Zc=b.b.div(ki||(ki=Object(s.a)(["\n    display: inline-block;\n    width: 100%;\n    height: calc(100% - ","px);\n    /* background-color: #c2c2c2; */\n"])),44);var $c=function(){return Object(i.useEffect)((function(){document.oncontextmenu=function(){return!1},document.onkeydown=function(e){if(e.ctrlKey&&["f","s"].includes(e.key))return!1}}),[]),Object(C.jsx)(Kc,{})},eo=function(e){e&&e instanceof Function&&t.e(3).then(t.bind(null,99)).then((function(n){var t=n.getCLS,a=n.getFID,r=n.getFCP,i=n.getLCP,c=n.getTTFB;t(e),a(e),r(e),i(e),c(e)}))};l.a.render(Object(C.jsx)(c.a.StrictMode,{children:Object(C.jsx)($c,{})}),document.getElementById("root")),eo()}},[[98,1,2]]]);
//# sourceMappingURL=main.41d896c9.chunk.js.map