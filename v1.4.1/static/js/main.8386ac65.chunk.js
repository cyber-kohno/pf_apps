(this.webpackJsonpparticle_simulator=this.webpackJsonpparticle_simulator||[]).push([[0],{10:function(e,n,t){"use strict";(function(e){var a,r=t(6),i=t(7),c=t(8),o=t.n(c),l=t(12),s=t(42),d=t.n(s),u=t(31),b=t(61),f=t(45),p=t(11),h=t(1);!function(n){var t=n.DB_SERVER_DOMAIN="https://crud-server001.glitch.me",c=n.APP_SERVER_DOMAIN="http://localhost:4333",s=function(){return new f.a("pa-user",8)},j=(n.getHashedFromUserSeq=function(e){var n=s().encode(e);return u.a.encode(n,!0)},n.getDecryptionedUserSeq=function(e){var n=s();return Number(n.decode(u.a.decode(e)))},function(){return new f.a("pa",8)}),m=n.getHashedFromScoreSeq=function(e){var n=j().encode(e);return u.a.encode(n,!0)},g=(n.getDecryptionedScoreSeq=function(e){var n=j();return Number(n.decode(u.a.decode(e)))},n.getPreviewURL=function(e){var n=m(e);return"".concat(c,"/#/preview?v=").concat(n)},n.sendQueryRequestToMailAPI=function(e){return fetch(t+"/mail",function(e){return{mode:"cors",method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(e)}}(e))},n.sendQueryRequestToAPI=function(e,n){return fetch(t+"/"+e,function(e){return{mode:"cors",method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({sql:e,databaseName:"pa"})}}(n))}),x=n.findUserInfoList=Object(l.a)(o.a.mark((function e(){var n,t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g("select","SELECT id, email FROM user_tbl");case 2:return n=e.sent,e.next=5,n.json();case 5:return t=e.sent,e.abrupt("return",t);case 7:case"end":return e.stop()}}),e)})));n.findUserIdList=Object(l.a)(o.a.mark((function e(){var n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x();case 2:return n=e.sent,e.abrupt("return",n.map((function(e){return e.id})));case 4:case"end":return e.stop()}}),e)}))),n.findUserInfoFromEmail=function(){var e=Object(l.a)(o.a.mark((function e(n){var t,a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g("select","SELECT seq, id FROM user_tbl WHERE email = '".concat(n,"'"));case 2:return t=e.sent,e.next=5,t.json();case 5:return a=e.sent,e.abrupt("return",a);case 7:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),n.findUserInfoFromSeq=function(){var e=Object(l.a)(o.a.mark((function e(n){var t,a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g("select","SELECT seq, id, password, email FROM user_tbl WHERE seq = ".concat(n));case 2:return t=e.sent,e.next=5,t.json();case 5:return a=e.sent,e.abrupt("return",a);case 7:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),n.findUserInfoLogin=function(){var e=Object(l.a)(o.a.mark((function e(n,t){var a,r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g("select","SELECT seq, id, password, email FROM user_tbl WHERE id = '".concat(n,"' and password = '").concat(t,"'"));case 2:return a=e.sent,e.next=5,a.json();case 5:return r=e.sent,e.abrupt("return",r);case 7:case"end":return e.stop()}}),e)})));return function(n,t){return e.apply(this,arguments)}}(),n.getNextUserSeq=Object(l.a)(o.a.mark((function e(){var n,t,r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g("select","SELECT seq FROM sqlite_sequence WHERE name = 'user_tbl'");case 2:return n=e.sent,e.next=5,n.json();case 5:return t=e.sent,r=t[0].seq+1,a.sendQueryRequestToAPI("update","update sqlite_sequence set seq = seq + 1 where name='user_tbl'"),e.abrupt("return",r);case 9:case"end":return e.stop()}}),e)}))),n.findUserScoreList=function(){var e=Object(l.a)(o.a.mark((function e(n){var t,r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.sendQueryRequestToAPI("select","SELECT seq, dispnam, share FROM scoretbl WHERE user_seq = ".concat(n));case 2:return t=e.sent,e.next=5,t.json();case 5:return r=e.sent,e.abrupt("return",r);case 7:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),n.findScore=function(){var e=Object(l.a)(o.a.mark((function e(n){var t,r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.sendQueryRequestToAPI("select","SELECT (select id from user_tbl where seq = score.user_seq) as owner, dispnam, data FROM scoretbl score WHERE seq = ".concat(n));case 2:return t=e.sent,e.next=5,t.json();case 5:return r=e.sent,e.abrupt("return",r);case 7:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),n.loadFile=function(e,n){Object(l.a)(o.a.mark((function t(){var c,l,s,d,u,b;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,window.showOpenFilePicker();case 2:return c=t.sent,l=Object(i.a)(c,1),s=l[0],t.next=7,s.getFile();case 7:return d=t.sent,t.next=10,d.text();case 10:u=t.sent,e.fileHandle=s,b=a.unZip(u),console.log(b),e.logicData=JSON.parse(b),e.system.dialog=Object(h.jsx)(p.a.Component,{message:"Successfully file loaded!"}),n(Object(r.a)({},e));case 17:case"end":return t.stop()}}),t)})))()},n.saveFile=function(e,n){var t=e.logicData,i=e.fileHandle,c=JSON.stringify(t);null!=i?Object(l.a)(o.a.mark((function t(){var l,s;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,i.createWritable();case 2:return l=t.sent,s=a.gZip(c),t.next=6,l.write(s);case 6:return t.next=8,l.close();case 8:e.system.dialog=Object(h.jsx)(p.a.Component,{message:"successfully overwritten!"}),n(Object(r.a)({},e));case 10:case"end":return t.stop()}}),t)})))():window.showSaveFilePicker({types:[{accept:{"text/plain":[".plgc"]}}]}).then((function(t){Object(l.a)(o.a.mark((function i(){var l,s;return o.a.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,t.createWritable();case 2:return l=i.sent,s=a.gZip(c),i.next=6,l.write(s);case 6:return i.next=8,l.close();case 8:e.fileHandle=t,e.system.dialog=Object(h.jsx)(p.a.Component,{message:"Successfully written to file!"}),n(Object(r.a)({},e));case 11:case"end":return i.stop()}}),i)})))()})).catch((function(){console.log("\u30ad\u30e3\u30f3\u30bb\u30eb\u3055\u308c\u307e\u3057\u305f")}))},n.getSHA256Hash=function(e){return Object(b.sha256)(e)},n.gZip=function(e){var n=encodeURIComponent(e);return d.a.gzipSync(n).toString("base64")},n.unZip=function(n){var t=e.from(n,"base64"),a=d.a.unzipSync(t);return decodeURIComponent(a.toString())},n.getStringFromDate=function(e){var n=e.getFullYear().toString(),t=(1+e.getMonth()).toString(),a=e.getDate().toString(),r=e.getHours().toString(),i=e.getMinutes().toString(),c=e.getSeconds().toString(),o="YYYY-MM-DD hh:mm:ss";return o=(o=(o=(o=(o=(o=o.replace(/YYYY/g,n)).replace(/MM/g,t)).replace(/DD/g,a)).replace(/hh/g,r)).replace(/mm/g,i)).replace(/ss/g,c)}}(a||(a={})),n.a=a}).call(this,t(20).Buffer)},104:function(e,n,t){"use strict";t.r(n);var a=t(2),r=t.n(a),i=t(57),c=t.n(i),o=(t(70),t(36)),l=t(1);var s=function(){return Object(a.useEffect)((function(){document.oncontextmenu=function(){return!1},document.onkeydown=function(e){if(e.ctrlKey&&["f","s"].includes(e.key))return!1}}),[]),Object(l.jsx)(o.b,{})},d=function(e){e&&e instanceof Function&&t.e(3).then(t.bind(null,105)).then((function(n){var t=n.getCLS,a=n.getFID,r=n.getFCP,i=n.getLCP,c=n.getTTFB;t(e),a(e),r(e),i(e),c(e)}))};c.a.render(Object(l.jsx)(r.a.StrictMode,{children:Object(l.jsx)(s,{})}),document.getElementById("root")),d()},11:function(e,n,t){"use strict";var a,r,i,c,o=t(6),l=t(4),s=t(5),d=t(3),u=t(36),b=t(2),f=t(1);(c||(c={})).Component=function(e){var n,t,a,r=Object(b.useContext)(u.a),i=r.store,c=r.setStore,l=null!==(n=e.width)&&void 0!==n?n:600,s=null!==(t=e.height)&&void 0!==t?t:150,m=null!==(a=e.buttons)&&void 0!==a?a:[{label:"OK",callback:function(){i.system.dialog=null,c(Object(o.a)({},i))}}];return Object(f.jsxs)(p,{width:l,height:s,children:[Object(f.jsx)(h,{children:Object(f.jsx)(j,{children:e.message.split("\n").map((function(e,n){return Object(f.jsx)(d.a.Message,{message:e,isCenter:!0},n)}))})}),Object(f.jsx)(d.a.ButtonRecord,{align:"center",buttons:m})]})},n.a=c;var p=s.b.div(a||(a=Object(l.a)(["\n    display: inline-block;\n    position: absolute;\n    z-index: 11;\n    top: calc(50% - ","px);\n    left: calc(50% - ","px);\n    width: ","px;\n    height: ","px;\n    background-color: #e7e7e7e2;\n    border: 1px solid #8f8f8f;\n    border-radius: 4px;\n    box-shadow: 10px 15px 15px #0000004b;\n"])),(function(e){return e.height/2}),(function(e){return e.width/2}),(function(e){return e.width}),(function(e){return e.height})),h=s.b.div(r||(r=Object(l.a)(["\n    display: inline-block;\n    width: 100%;\n    height: 110px;\n    display: flex;\n    align-items: center;\n\n"]))),j=s.b.div(i||(i=Object(l.a)(["\n    /* text-align: center; */\n    display: inline-block;\n    width: 100%;\n    /* background-color: #bb6868e1; */\n"])))},3:function(e,n,t){"use strict";var a,r,i,c,o,l,s,d,u,b,f,p,h,j,m,g,x,v,O,k,y,w,E,T,S,C,R,F,I,L,P,N,M,_,A,B,D,q,z,U,V=t(7),W=t(6),H=t(4),J=t(5),Y=t(9),X=t(2),G=t(1);(U=z||(z={})).isCompleteCheck=function(e){var n=!0;return e.forEach((function(e){if(e.errors.length>0)return n=!1,1})),n},U.InputTextFormBak=function(e){var n,t,a,r,i,c,o,l,s=null!==(n=e.isPassword)&&void 0!==n&&n?"password":"text",d=null!==(t=e.validates)&&void 0!==t?t:[],u=e.checkable.errors,b=(null!==(a=e.dependency)&&void 0!==a?a:[]).map((function(e){return e.value})),f=function(e){var n=[];return d.forEach((function(t){t.checker(e)||n.push(t.errorType)})),n};return Object(X.useEffect)((function(){e.checkable.errors=f(e.checkable.value),e.setCheckable(Object(W.a)({},e.checkable))}),b),Object(G.jsxs)(K,{isEnable:null===(r=e.isEnable)||void 0===r||r,isVisible:!0,textAlign:null!==(i=e.isCenter)&&void 0!==i&&i?"center":"left",marginTop:null!==(c=e.marginTop)&&void 0!==c?c:0,marginBottom:null!==(o=e.marginBottom)&&void 0!==o?o:0,children:[void 0==e.titleLabel?Object(G.jsx)(G.Fragment,{}):Object(G.jsx)(Q,{children:e.titleLabel}),Object(G.jsx)($,{type:s,value:e.checkable.value,hasTitle:void 0!=e.titleLabel,width:e.width,isCenter:null!==(l=e.isCenter)&&void 0!==l&&l,placeholder:e.placeholder,onChange:function(n){var t=n.target.value;e.checkable.value=t,e.checkable.errors=f(t),e.setCheckable(Object(W.a)({},e.checkable))},errorType:0===u.length?void 0:u[0],readOnly:e.isReadOnly})]})},U.Record=function(e){var n,t,a,r;return Object(G.jsx)(K,{isEnable:null===(n=e.isEnable)||void 0===n||n,isVisible:!0,textAlign:null!==(t=e.textAlign)&&void 0!==t?t:"left",marginTop:null!==(a=e.marginTop)&&void 0!==a?a:0,marginBottom:null!==(r=e.marginBottom)&&void 0!==r?r:0,children:e.jsx})},U.FormRecord=function(e){var n,t,a,r,i;return Object(G.jsxs)(K,{isEnable:null===(n=e.isEnable)||void 0===n||n,isVisible:null===(t=e.isVisible)||void 0===t||t,textAlign:null!==(a=e.textAlign)&&void 0!==a?a:"left",marginTop:null!==(r=e.marginTop)&&void 0!==r?r:0,marginBottom:null!==(i=e.marginBottom)&&void 0!==i?i:0,children:[void 0==e.titleLabel?Object(G.jsx)(G.Fragment,{}):Object(G.jsx)(Q,{labelWidth:e.labelWidth,children:e.titleLabel}),e.jsx]})},U.FixedText=function(e){return Object(G.jsx)(Z,{width:e.width,children:e.value})},U.TextField=function(e){var n,t,a,r,i,c,o=Object(X.useState)(!1),l=Object(V.a)(o,2),s=l[0],d=l[1];Object(X.useEffect)((function(){" "===e.checkable.value&&(e.checkable.value="",e.setCheckable(Object(W.a)({},e.checkable)))}),[e.checkable.value]);var u=null!==(n=e.isPassword)&&void 0!==n&&n?"password":"text";null!==(t=e.isNumber)&&void 0!==t&&t&&(u="number");var b=null!==(a=e.validates)&&void 0!==a?a:[],f=e.checkable.errors,p=(null!==(r=e.dependency)&&void 0!==r?r:[]).map((function(e){return e.value}));Object(X.useEffect)((function(){e.checkable.errors=function(e){var n=[];return b.forEach((function(t){t.checker(e)||n.push(t.errorType)})),n}(e.checkable.value),e.setCheckable(Object(W.a)({},e.checkable))}),p.concat(e.checkable.value));var h=e.checkable.value,j=null!==(i=e.step)&&void 0!==i?i:1;return Object(G.jsx)(ee,{type:u,value:h,width:null!==(c=e.width)&&void 0!==c?c:100,placeholder:e.placeholder,step:j,onChange:function(n){e.checkable.value=n.target.value,e.setCheckable(Object(W.a)({},e.checkable)),"number"===u&&d(Number.isNaN(n.target.valueAsNumber))},onBlur:function(){"number"===u&&(e.checkable.value=s?" ":Number(h).toString(),e.setCheckable(Object(W.a)({},e.checkable)))},errorType:0===f.length?void 0:f[0],readOnly:e.isReadOnly,marginLeft:e.marginLeft})},U.Combobox=function(e){var n,t,a,r,i=null!==(n=e.validates)&&void 0!==n?n:[],c=e.checkable.errors,o=(null!==(t=e.dependency)&&void 0!==t?t:[]).map((function(e){return e.value})),l=null!==(a=e.headBlank)&&void 0!==a&&a,s=e.list.slice();return l&&s.unshift({value:"",labelText:""}),Object(X.useEffect)((function(){e.checkable.errors=function(e){var n=[];return i.forEach((function(t){t.checker(e)||n.push(t.errorType)})),n}(e.checkable.value),e.setCheckable(Object(W.a)({},e.checkable))}),o.concat(e.checkable.value)),Object(G.jsx)(ne,{value:e.checkable.value,width:null!==(r=e.width)&&void 0!==r?r:100,placeholder:e.placeholder,onChange:function(n){var t=n.target.value;e.checkable.value=t,e.setCheckable(Object(W.a)({},e.checkable))},errorType:0===c.length?void 0:c[0],readOnly:e.isReadOnly,marginLeft:e.marginLeft,children:s.map((function(e,n){var t,a;return Object(G.jsx)(te,{value:e.value,disabled:null!==(t=e.isDisabled)&&void 0!==t&&t,isDisabled:null!==(a=e.isDisabled)&&void 0!==a&&a,children:e.labelText},n)}))})},U.ButtonRecord=function(e){var n,t,a,r=null!==(n=e.align)&&void 0!==n?n:"right";return Object(G.jsx)(K,{isEnable:!0,isVisible:!0,textAlign:r,marginTop:null!==(t=e.marginTop)&&void 0!==t?t:0,marginBottom:null!==(a=e.marginBottom)&&void 0!==a?a:0,children:e.buttons.map((function(e,n){var t;return Object(G.jsx)(re,{isCenter:"center"===r,isEnable:null===(t=e.isEnable)||void 0===t||t,width:e.width,onClick:e.callback,children:e.label},n)}))})},U.ButtonItem=function(e){var n;return Object(G.jsx)(re,{isCenter:!1,isEnable:null===(n=e.button.isEnable)||void 0===n||n,width:e.button.width,onClick:e.button.callback,children:e.button.label})},U.Message=function(e){var n,t,a,r;return Object(G.jsx)(K,{isEnable:!0,isVisible:!0,textAlign:null!==(n=e.isCenter)&&void 0!==n&&n?"center":"left",marginTop:null!==(t=e.marginTop)&&void 0!==t?t:0,marginBottom:null!==(a=e.marginBottom)&&void 0!==a?a:0,children:Object(G.jsx)(ae,{isCenter:null!==(r=e.isCenter)&&void 0!==r&&r,children:e.message})})},U.MessageLink=function(e){var n,t,a,r;return Object(G.jsx)(K,{isEnable:!0,isVisible:!0,textAlign:null!==(n=e.isCenter)&&void 0!==n&&n?"center":"left",marginTop:null!==(t=e.marginTop)&&void 0!==t?t:0,marginBottom:null!==(a=e.marginBottom)&&void 0!==a?a:0,children:Object(G.jsx)(ae,{isLink:!0,onClick:e.clickAction,isCenter:null!==(r=e.isCenter)&&void 0!==r&&r,children:e.message})})},U.BorderPanel=function(e){var n;return Object(G.jsxs)(G.Fragment,{children:[Object(G.jsx)(ce,{children:e.title}),Object(G.jsx)(oe,{isEnable:null===(n=e.isEnable)||void 0===n||n,children:e.innerJsx})]})},U.InfoFrame=function(e){var n,t=null!==(n=e.height)&&void 0!==n?n:70;return Object(G.jsx)(G.Fragment,{children:Object(G.jsx)(le,{height:t,color:"#1a9900",children:e.textRecords.map((function(e,n){return Object(G.jsxs)("span",{children:[e,Object(G.jsx)("br",{})]},n)}))})})},U.Switch=function(e){var n,t,a=null!==(n=e.isRelation)&&void 0!==n&&n,r=a&&e.isUse?function(){}:e.callback;return Object(G.jsx)(ie,{isRelation:a,isUse:e.isUse,isEnable:null===(t=e.isEnable)||void 0===t||t,width:e.width,onClick:r,children:e.label})},U.checkItems=function(e){return void 0==e.find((function(e){return e.errors.length>0}))},n.a=z;var K=J.b.div(a||(a=Object(H.a)(["\n    display: inline-block;\n    ","\n    width: 100%;\n    height: 40px;\n    margin-top: ","px;\n    margin-bottom: ","px;\n    /* background-color: #b3b4c4; */\n    /* border: 1px solid #000; */\n    ","\n    text-align: ",";\n"])),(function(e){return e.isVisible?"":Object(J.a)(r||(r=Object(H.a)(["\n        display: none;\n    "])))}),(function(e){return e.marginTop}),(function(e){return e.marginBottom}),(function(e){return e.isEnable?"":Y.a.CSS_BUTTON_DISABLE}),(function(e){return e.textAlign})),Q=J.b.div(i||(i=Object(H.a)(["\n    display: inline-block;\n    height: calc(100% - 4px);\n    width: ","px;\n    ","\n    color: #585858;\n    border: solid 1px #7a7a7abf;\n    box-sizing: border-box;\n    /* background-color: #85a2c5; */\n    background: linear-gradient(to bottom, #c3c3c3fc, #d8d8d8, #c3c3c3fc);\n    border-radius: 4px;\n    text-align: center;\n    vertical-align: top;\n    margin: 5px 4px 0 4px;\n"])),(function(e){var n;return null!==(n=e.labelWidth)&&void 0!==n?n:140}),Y.a.CSS_LABEL_MIDIUM),Z=J.b.div(c||(c=Object(H.a)(["\n    display: inline-block;\n    height: calc(100% - 4px);\n    ","\n    color: #0c0e86;\n    box-sizing: border-box;\n    background-color: #85a2c51a;\n    text-align: left;\n    vertical-align: top;\n    margin: 5px 4px 0 4px;\n    overflow-x: hidden;\n    ","\n"])),Y.a.CSS_LABEL_MIDIUM,(function(e){return void 0==e.width?"":Object(J.a)(o||(o=Object(H.a)(["\n        width: ","px;\n    "])),e.width)})),$=J.b.input(l||(l=Object(H.a)(["\n    display: inline-block;\n    height: calc(100% - 4px);\n    ","\n    ","\n    margin-top: 2px;\n    font-size: 24px;\n    line-height: 32px;\n    /* font-weight: 600; */\n    color: #3d3d3d;\n    border: solid 1px #959595;\n    border-radius: 4px;\n    padding: 0 5px;\n    box-sizing: border-box;\n    background-color: ",";\n    text-align: left;\n    vertical-align: top;\n    user-select: text;\n    /* "," */\n    ","\n    ::placeholder {\n        color: #00000050;\n        font-style: italic;\n    }\n"])),(function(e){return e.hasTitle?Object(J.a)(d||(d=Object(H.a)(["\n        width: calc(100% - 152px);\n    "]))):Object(J.a)(s||(s=Object(H.a)(["\n    "])))}),(function(e){return void 0==e.width?"":Object(J.a)(u||(u=Object(H.a)(["\n        width: ","px;\n    "])),e.width)}),(function(e){if(void 0==e.errorType)return"#ececec";switch(e.errorType){case"required":return"#dbd7b3";case"length":return"#dbb3b3";case"value":return"#b3b3db";case"relation":return"#b3dbb3"}}),(function(e){return e.isCenter?Object(J.a)(f||(f=Object(H.a)([""]))):Object(J.a)(b||(b=Object(H.a)(["\n        margin-left: 4px;\n    "])))}),(function(e){return e.readOnly?Object(J.a)(p||(p=Object(H.a)(["\n        color: #020075;\n        /* border: none; */\n        outline: none;\n        background-color: transparent;\n    "]))):""})),ee=J.b.input(h||(h=Object(H.a)(["\n    display: inline-block;\n    height: calc(100% - 4px);\n    width: ","px;\n    margin-top: 2px;\n    margin-left: ","px;\n    font-size: 24px;\n    line-height: 32px;\n    /* font-weight: 600; */\n    color: #3d3d3d;\n    border: solid 1px #959595;\n    border-radius: 4px;\n    padding: 0 5px;\n    box-sizing: border-box;\n    background-color: ",";\n    text-align: left;\n    vertical-align: top;\n    user-select: text;\n    ","\n    ::placeholder {\n        color: #00000050;\n        font-style: italic;\n    }\n"])),(function(e){return e.width}),(function(e){var n;return null!==(n=e.marginLeft)&&void 0!==n?n:0}),(function(e){if(void 0==e.errorType)return"#ececec";switch(e.errorType){case"required":return"#dbd7b3";case"length":return"#dbb3b3";case"value":return"#b3b3db";case"relation":return"#b3dbb3"}}),(function(e){return e.readOnly?Object(J.a)(j||(j=Object(H.a)(["\n        color: #020075;\n        /* border: none; */\n        outline: none;\n        background-color: transparent;\n    "]))):""})),ne=J.b.select(m||(m=Object(H.a)(["\n    display: inline-block;\n    height: calc(100% - 4px);\n    width: ","px;\n    margin-top: 2px;\n    margin-left: ","px;\n    font-size: 24px;\n    line-height: 32px;\n    /* font-weight: 600; */\n    color: #3d3d3d;\n    border: solid 1px #959595;\n    border-radius: 4px;\n    padding: 0 5px;\n    box-sizing: border-box;\n    background-color: ",";\n    text-align: left;\n    vertical-align: top;\n    user-select: text;\n    ","\n    ::placeholder {\n        color: #00000050;\n        font-style: italic;\n    }\n"])),(function(e){return e.width}),(function(e){var n;return null!==(n=e.marginLeft)&&void 0!==n?n:0}),(function(e){if(void 0==e.errorType)return"#ececec";switch(e.errorType){case"required":return"#dbd7b3";case"length":return"#dbb3b3";case"value":return"#b3b3db";case"relation":return"#b3dbb3"}}),(function(e){return e.readOnly?Object(J.a)(g||(g=Object(H.a)(["\n        color: #020075;\n        /* border: none; */\n        outline: none;\n        background-color: transparent;\n        pointer-events: none;\n    "]))):""})),te=J.b.option(x||(x=Object(H.a)(["\n    ","\n"])),(function(e){return e.isDisabled?Object(J.a)(v||(v=Object(H.a)(["\n        color: #0000004b;\n    "]))):""})),ae=J.b.div(O||(O=Object(H.a)(["\n    display: inline-block;\n    height: calc(100% - 4px);\n    margin-top: 2px;\n    font-size: ","px;\n    line-height: 32px;\n    /* font-weight: 600; */\n    color: #002c52;\n    border-radius: 4px;\n    padding: 0 5px;\n    box-sizing: border-box;\n    /* background-color: #d37878; */\n    text-align: left;\n    vertical-align: top;\n    user-select: text;\n    ","\n    ","\n"])),Y.a.FONT_MIDIUM,(function(e){return e.isCenter?Object(J.a)(y||(y=Object(H.a)([""]))):Object(J.a)(k||(k=Object(H.a)(["\n        margin-left: 4px;\n    "])))}),(function(e){return e.isLink?Object(J.a)(w||(w=Object(H.a)(["\n        color: #0459a3;\n        user-select: none;\n        text-decoration: underline;\n        &:hover {\n            color: #68a4d8;\n        }\n    "]))):""})),re=(J.b.div(E||(E=Object(H.a)(["\n    display: inline-block;\n    width: 100%;\n    height: 40px;\n    /* background-color: #888888; */\n    box-sizing: border-box;\n    text-align: left;\n    white-space: nowrap;\n"]))),J.b.div(T||(T=Object(H.a)(["\n    ","\n    ","\n    /* line-height: 25px; */\n    box-sizing: border-box;\n    /* background-color: #a8a8a8; */\n    background: linear-gradient(to bottom, #cdcdcd, #ebebeb, #cdcdcd);\n    border: 1px solid #747474;\n    color: #515151;\n    border-radius: 4px;\n    margin: 5px 0 0 4px;\n    ","\n    ","\n    &:hover {\n        /* background-color: #98bfc2; */\n        background: linear-gradient(to bottom, #989898, #b4b4b4, #989898);\n    }\n"])),Y.a.CSS_LABEL_MIDIUM,(function(e){return void 0==e.width?Object(J.a)(S||(S=Object(H.a)(["\n        padding: 0 40px;\n    "]))):Object(J.a)(C||(C=Object(H.a)(["\n        width: ","px;\n    "])),e.width)}),(function(e){return e.isCenter?Object(J.a)(F||(F=Object(H.a)([""]))):Object(J.a)(R||(R=Object(H.a)(["\n        margin-left: 4px;\n    "])))}),(function(e){return e.isEnable?"":Y.a.CSS_BUTTON_DISABLE}))),ie=J.b.div(I||(I=Object(H.a)(["\n    ","\n    ","\n    /* line-height: 25px; */\n    box-sizing: border-box;\n    background-color: #a8a8a8;\n    color: #515151;\n    border: 1px solid #747474;\n    ","\n    border-radius: 4px;\n    margin: 5px 0 0 4px;\n    ","\n    &:hover {\n        ","\n    }\n"])),Y.a.CSS_LABEL_MIDIUM,(function(e){return void 0==e.width?Object(J.a)(L||(L=Object(H.a)(["\n        padding: 0 40px;\n    "]))):Object(J.a)(P||(P=Object(H.a)(["\n        width: ","px;\n    "])),e.width)}),(function(e){return e.isRelation?Object(J.a)(M||(M=Object(H.a)(["\n        background-color: ",";\n        color: ",";\n    "])),(function(e){return e.isUse?"#d898b3":"#ddc1d979"}),(function(e){return e.isUse?"#9c2626":"#515151"})):Object(J.a)(N||(N=Object(H.a)(["\n        background-color: ",";\n    "])),(function(e){return e.isUse?"#e4f67e":"#e7e7e779"}))}),(function(e){return e.isEnable?"":Y.a.CSS_BUTTON_DISABLE}),(function(e){return e.isRelation?Object(J.a)(A||(A=Object(H.a)(["\n            background-color: ",";\n            color: ",";\n        "])),(function(e){return e.isUse?"#d898b3":"#d3a1cb79"}),(function(e){return e.isUse?"#9c2626":"#515151"})):Object(J.a)(_||(_=Object(H.a)(["\n            background-color: ",";\n        "])),(function(e){return e.isUse?"#b5be7f":"#edefb286"}))})),ce=J.b.div(B||(B=Object(H.a)(["\n    ","\n    color: #990000;\n    /* background-color: #0a0a0a40; */\n    font-style: italic;\n    margin: 4px 0 0 8px;\n"])),Y.a.CSS_LABEL_SMALL),oe=J.b.div(D||(D=Object(H.a)(["\n    display: inline-block;\n    margin: 0 0 0 6px;\n    padding: 4px;\n    width: calc(100% - 12px);\n    background-color: #dcddce;\n    border: 1px solid #000;\n    box-sizing: border-box;\n    border-radius: 4px;\n    text-align: left;\n    ","\n"])),(function(e){return e.isEnable?"":Y.a.CSS_BUTTON_DISABLE})),le=J.b.div(q||(q=Object(H.a)(["\n    margin: 4px 0 0 0;\n    display: inline-block;\n    background-color: #e7e5e561;\n    border: solid 1px #949494;\n    width: 100%;\n    height: ","px;\n    padding: 2px;\n    box-sizing: border-box;\n    text-align: left;\n    font-size: ","px;\n    color: ",";\n    overflow-y: auto;\n"])),(function(e){return e.height}),Y.a.FONT_SMALL,(function(e){return e.color}))},36:function(e,n,t){"use strict";t.d(n,"a",(function(){return pl}));var a,r,i=t(4),c=t(6),o=t(7),l=t(2),s=t(5),d={system:{isSplash:!1,user:null,dialog:null},logicData:null,launchData:{limitFrame:300,limitParticle:3e3,defList:[]},launchCacheList:[],cloud:null,fileHandle:null};(r=a||(a={})).AUTH_TEXT_WIDTH=350,r.AUTH_TEXT_HEIGHT=70;var u,b,f,p,h,j,m,g,x,v,O,k,y,w,E,T,S,C,R,F,I,L,P,N,M,_,A,B,D,q,z,U,V,W,H,J,Y=a,X=t(1),G=function(){var e=Object(l.useContext)(pl),n=e.store,t=e.setStore,a=n.system.dialog;return null==a?Object(X.jsx)(X.Fragment,{}):Object(X.jsxs)(X.Fragment,{children:[Object(X.jsx)(K,{onClick:function(){n.system.dialog=null,t(Object(c.a)({},n))}}),a]})},K=s.b.div(u||(u=Object(i.a)(["\n    display: block;\n    position: absolute;\n    width: 100%;\n    height: 100%;\n    background-color: #000329a2;\n    z-index: 10;\n    text-align: center;\n"]))),Q=t(9),Z=function(e){var n=Object(l.useState)(e.activeNo),t=Object(o.a)(n,2),a=t[0],r=t[1];return Object(l.useEffect)((function(){r(e.activeNo)}),[e.activeNo]),Object(X.jsxs)(X.Fragment,{children:[Object(X.jsx)(ne,{children:e.tabElements.map((function(n,t){return Object(X.jsx)($,{name:n.name,icon:n.icon,isActive:t==a,isEnable:n.isEnable,selectTab:function(){return function(n){void 0!=e.selectTabIndex?e.selectTabIndex(n):r(n)}(t)}},t)}))}),Object(X.jsx)(te,{children:e.tabElements.map((function(e,n){return Object(X.jsx)(ee,{cont:e.cont,isActive:n===a},n)}))})]})},$=function(e){return Object(X.jsxs)(re,{isEnable:e.isEnable,isActive:e.isActive,onClick:function(){return e.selectTab()},children:[Object(X.jsx)(ie,{children:e.icon}),Object(X.jsx)(ce,{children:e.name})]})},ee=function(e){return Object(X.jsx)(ae,{isActive:e.isActive,children:e.cont})},ne=s.b.div(b||(b=Object(i.a)(["\n    display: inline-block;\n    width: 100px;\n    margin-right: 5px;\n    height: 100%;\n    background-color: #b9b9b9;\n    border: 1px solid #707070;\n    box-sizing: border-box;\n    border-radius: 10px 0 0 10px;\n    vertical-align: top;\n    box-shadow: 1px 2px 12px #aaaaaa;\n"]))),te=s.b.div(f||(f=Object(i.a)(["\n    display: inline-block;\n    background-color: #b9b9b9;\n    border: 1px solid #707070;\n    box-sizing: border-box;\n    width: calc(100% - 105px);\n    height: 100%;\n    border-radius: 0 6px 6px 0;\n    box-shadow: 1px 2px 12px #aaaaaa;\n"]))),ae=s.b.div(p||(p=Object(i.a)(["\n    /* margin: 3px 0 0 3px;\n    width: calc(100% - 6px);\n    height: calc(100% - 6px); */\n    width: 100%;\n    height: 100%;\n    /* background-color: #ece6e6; */\n    ","\n"])),(function(e){return e.isActive?Object(s.a)(j||(j=Object(i.a)(["display: inline-block;"]))):Object(s.a)(h||(h=Object(i.a)(["display: none;"])))})),re=s.b.div(m||(m=Object(i.a)(["\n    display: inline-block;\n    width: 90px;\n    height: 90px;\n    margin: 5px 0 0 5px;\n    border-radius: 10px;\n    ","\n    ","\n    transition: background-color 500ms;\n    & *{\n        transition: color 150ms;\n    }\n    // \u30a2\u30af\u30c6\u30a3\u30d6\u3058\u3083\u306a\u3044\u6642\u3060\u3051hover\u8981\u7d20\u3092\u4ed8\u52a0\n    ","\n"])),(function(e){return e.isActive?Object(s.a)(g||(g=Object(i.a)(["\n                background-color: #e4e3e1;\n                border: 1px solid #949494\n            "]))):Object(s.a)(x||(x=Object(i.a)(["\n                background-color: #d1d1d1;\n                opacity: 0.8;\n            "])))}),(function(e){return e.isEnable?"":Q.a.CSS_BUTTON_DISABLE}),(function(e){return e.isActive?"":Object(s.a)(v||(v=Object(i.a)(["\n        &:hover {\n            & *{\n                transition: color 150ms;\n                /* background-color: #e2d6d6; */\n                text-shadow: 1px 2px 22px #f7f7f7ea;\n                color: #a7a7a7;\n            }\n        }\n    "])))})),ie=(Object(s.a)(O||(O=Object(i.a)(["\n    text-shadow: 1px 2px 22px #f7f7f7cf;\n    color: #a3a3a3;\n"]))),s.b.div(k||(k=Object(i.a)(["\n    display: inline-block;\n    width: 100%;\n    height: 60px;\n    /* background-color: #df828221; */\n    font-size: 50px;\n    color: #757575;\n    text-align: center;\n    padding-top: 5px;\n    box-sizing: border-box;\n"])))),ce=s.b.div(y||(y=Object(i.a)(["\n    display: inline-block;\n    width: 100%;\n    height: 30px;\n    /* background-color: #8482df20; */\n    font-size: 20px;\n    font-weight: 600;\n    color: #757575;\n    text-align: center;\n"]))),oe=t(63),le=t(64),se=t(35),de=t(13),ue=function(e){var n,t=Object(l.useState)(e.activeNo),a=Object(o.a)(t,2),r=a[0],i=a[1],c=null!==(n=e.tabRecordNum)&&void 0!==n?n:1;return Object(l.useEffect)((function(){i(e.activeNo)}),[e.activeNo]),Object(X.jsxs)(X.Fragment,{children:[Object(X.jsx)(pe,{tabRecordNum:c,children:e.tabElements.map((function(n,t){return Object(X.jsx)(be,{name:n.name,isActive:t==r,isEnable:n.enable,selectTab:function(){return function(n){void 0!=e.selectTabIndex?e.selectTabIndex(n):i(n)}(t)}},t)}))}),Object(X.jsx)(he,{tabRecordNum:c,children:e.tabElements.map((function(e,n){return Object(X.jsx)(fe,{cont:e.enable?e.cont:Object(X.jsx)(X.Fragment,{}),isActive:n===r},n)}))})]})},be=function(e){return Object(X.jsx)(me,{isEnable:e.isEnable,isActive:e.isActive,onClick:function(){return e.selectTab()},children:e.name})},fe=function(e){return Object(X.jsx)(je,{isActive:e.isActive,children:e.cont})},pe=s.b.div(w||(w=Object(i.a)(["\n    display: inline-block;\n    height: ","px;\n    text-align: left;\n    /* background-color: #ac3b3b; */\n    width: 100%;\n"])),(function(e){return 35*e.tabRecordNum})),he=s.b.div(E||(E=Object(i.a)(["\n    display: block;\n    background-color: #999999;\n    height: calc(100% - ","px);\n    border-radius: 0 6px 6px 6px;\n    /* box-shadow: 0 2px 0 0 #000b3a48; */\n    text-align: left;\n"])),(function(e){return 35*e.tabRecordNum})),je=s.b.div(T||(T=Object(i.a)(["\n    margin: 3px 0 0 3px;\n    width: calc(100% - 6px);\n    height: calc(100% - 6px);\n    ","\n"])),(function(e){return e.isActive?Object(s.a)(C||(C=Object(i.a)(["display: inline-block;"]))):Object(s.a)(S||(S=Object(i.a)(["display: none;"])))})),me=s.b.div(R||(R=Object(i.a)(["\n    display: inline-block;\n    /* width: 100px; */\n    padding: 0 10px;\n    \n    ","\n    /* opacity: 0.7; */\n    user-select: none;\n    margin-right: 6px;\n    font-weight: 600;\n    box-sizing: border-box;\n    line-height: 30px;\n    vertical-align: bottom;\n    transition: padding 100ms;\n"])),(function(e){return e.isActive?Object(s.a)(F||(F=Object(i.a)(["\n                color: #ebebeb;\n                padding: 0 35px;\n                background-color: #999999;\n                height: 35px;\n                font-size: 24px;\n                border-radius: 3px 15px 0 0;\n                text-shadow: 1px 2px 3px #00000065;\n            "]))):Object(s.a)(I||(I=Object(i.a)(["\n                height: 100%;\n                color: #555;\n                /* background-color: #90909b; */\n                background: linear-gradient(to bottom, #999999, #7a7a7a);\n                height: 30px;\n                font-size: 18px;\n                margin-top: 5px;\n                border-radius: 3px 10px 0 0;\n                ","\n            "])),e.isEnable?"":Object(s.a)(L||(L=Object(i.a)(["\n                    pointer-events: none;\n                    opacity: 0.7;\n                "]))))})),ge=t(3);(J=H||(H={})).createNode=function(e,n){return{data:e,parent:n,depth:n.depth+1,isOpen:!1,children:[]}},J.getChildIndex=function(e){var n=e.parent;if(null!=n)for(var t=0;t<n.children.length;t++)if(e==n.children[t])return t;return-1},J.Frame=function(e){var n,t,a=null!==(n=e.isDisable)&&void 0!==n&&n,r=null!==(t=e.focusNode)&&void 0!==t?t:null,i=Object(l.useRef)({}),s=function(){return function e(n,t,a){var r={data:t.data,depth:n,isOpen:!1,children:[],parent:a};return r.children=t.children.map((function(t){return e(n+1,t,r)})),r}(0,e.rootDataNode,null)},d=Object(l.useState)(s()),u=Object(o.a)(d,2),b=u[0],f=u[1];Object(l.useEffect)((function(){f(s())}),[e.rootDataNode]),Object(l.useEffect)((function(){null!=r&&null!=r.parent&&(r.parent.isOpen=!0)}),[r]);var p=Object(l.useMemo)((function(){var n=[];return function t(o,l){var s=o.data==(null===r||void 0===r?void 0:r.data);n.push(Object(X.jsxs)(ke,{width:i.current.scrollWidth,isActive:s,isRelation:!a&&function(){for(var e=!1,n=r;null!=n;){if(null==o.parent||o==n){e=!0;break}n=n.parent}return!1===e&&null!=r&&null!=r.parent&&(e=void 0!=r.parent.children.find((function(e){return e==o}))),e}(),isDisable:s&&a,children:[l.map((function(e,n){var t=[];return(l.length-1===n||e)&&t.push(e?Object(X.jsx)(Ee,{},t.length):Object(X.jsx)(we,{},t.length)),l.length-1===n&&t.push(Object(X.jsx)(Te,{},t.length)),Object(X.jsx)(ye,{children:t},n)})),0===o.children.length?Object(X.jsx)(X.Fragment,{}):Object(X.jsx)(Se,{onClick:function(){o.isOpen=!o.isOpen,f(Object(c.a)({},b))},children:o.isOpen?"-":"+"}),Object(X.jsx)(Ce,{onClick:function(){e.clickEvent(o),f(Object(c.a)({},b))},onDoubleClick:function(){o.isOpen=!o.isOpen,f(Object(c.a)({},b))},children:e.getLabelJsx(o)})]},n.length)),o.isOpen&&o.children.forEach((function(e,n){t(e,l.slice().concat(o.children.length-1!==n))}))}(b,[]),n}),[b,e.invalidate,a]);return Object(X.jsx)(Oe,{ref:i,isDisable:a,children:p})};var xe,ve=H,Oe=s.b.div(P||(P=Object(i.a)(["\n    display: inline-block;\n    position: relative;\n    background-color: #374a54;\n    width: calc(100% - 10px);\n    height: calc(100% - 10px);\n    box-sizing: border-box;\n    border: solid 1px #000;\n    margin: 5px;\n    overflow: auto;\n    ","\n"])),(function(e){return e.isDisable?Object(s.a)(N||(N=Object(i.a)(["\n        pointer-events: none;\n        background-color: #1f3642;\n    "]))):""})),ke=s.b.div(M||(M=Object(i.a)(["\n    display: inline-block;\n    /* position: relative; */\n    ","\n    opacity: 0.3;\n    ","\n    ","\n    width: ","px;\n    height: 40px;\n    box-sizing: border-box;\n    white-space: nowrap;\n    /* border: solid 1px #000;\n    margin: 5px; */\n    & *{\n        vertical-align: top;\n    }\n    &:hover {\n        opacity: 1;\n    }\n"])),(function(e){return e.isDisable?Object(s.a)(_||(_=Object(i.a)(["\n        background-color: #459cff46;\n    "]))):""}),(function(e){return e.isRelation?Object(s.a)(A||(A=Object(i.a)(["\n        background-color: #ffffff28;\n        opacity: 1;\n    "]))):""}),(function(e){return e.isActive?Object(s.a)(B||(B=Object(i.a)(["\n        background-color: #b4d9dd83;\n        opacity: 1;\n    "]))):""}),(function(e){return e.width})),ye=s.b.div(D||(D=Object(i.a)(["\n    display: inline-block;\n    position: relative;\n    /* background-color: #b6d5be; */\n    width: 40px;\n    height: 100%;\n    box-sizing: border-box;\n    /* border: solid 1px #000; */\n"]))),we=s.b.div(q||(q=Object(i.a)(["\n    display: inline-block;\n    position: relative;\n    background-color: #b60000;\n    width: 4px;\n    height: 22px;\n    box-sizing: border-box;\n    margin: 0 0 0 20px;\n"]))),Ee=s.b.div(z||(z=Object(i.a)(["\n    display: inline-block;\n    position: relative;\n    background-color: #b60000;\n    width: 4px;\n    height: 100%;\n    box-sizing: border-box;\n    margin: 0 0 0 20px;\n"]))),Te=s.b.div(U||(U=Object(i.a)(["\n    display: inline-block;\n    position: relative;\n    background-color: #b60000;\n    width: 16px;\n    height: 4px;\n    box-sizing: border-box;\n    margin: 18px 0 0 0;\n"]))),Se=s.b.div(V||(V=Object(i.a)(["\n    display: inline-block;\n    /* position: relative; */\n    background-color: #d1d1d1;\n    width: 30px;\n    height: calc(100% - 10px);\n    border: solid 1px #000;\n    margin: 5px 0 0 3px;\n    box-sizing: border-box;\n    font-size: 30px;\n    /* font-weight: 600; */\n    color: #6d1717;\n    line-height: 20px;\n    padding-left: 3px;\n"]))),Ce=s.b.div(W||(W=Object(i.a)(["\n    display: inline-block;\n    position: relative;\n    /* background-color: #ffffff3c; */\n    min-width: 100px;\n    height: 100%;\n    margin: 0 0  0 3px;\n    box-sizing: border-box;\n"])));!function(e){var n=e.createURL=function(e,n,t){var a=document.createElement("canvas"),r=a.getContext("2d");return a.width=e,a.height=n,t(r),a.toDataURL()};e.getLogoURL=function(){return xe.createURL(580,80,(function(e){e.shadowColor="#555",e.shadowOffsetX=2,e.shadowOffsetY=1,e.shadowBlur=5,e.font="italic 50pt Arial",e.fillStyle="#ffffff",e.fillText("Particle ",24,64);var n=e.measureText("Particle ").width;e.fillStyle="#6ea0c4",e.fillText("Simulator",24+n,64),e.save()}))},e.getAuthTextURL=function(e){var t=Y.AUTH_TEXT_WIDTH,a=Y.AUTH_TEXT_WIDTH/6;return n(t,Y.AUTH_TEXT_HEIGHT,(function(n){n.rotate(1*Math.PI/180);for(var t=0;t<e.length;t++){var r=e.charAt(t),i=60*Math.random(),c=60*Math.random();n.font="".concat(20+i,"pt Arial"),n.fillStyle="rgba("+[40,0,100,.05+.01*c]+")",n.fillText(r,t*a,60)}}))}}(xe||(xe={}));var Re,Fe=xe,Ie=t(25);(Re||(Re={})).Instance=function e(n){var t=this;Object(Ie.a)(this,e),this.owner=void 0,this.pos=void 0,this.prevPos=void 0,this.vec=void 0,this.frame=void 0,this.limit=void 0,this.isLive=void 0,this.drawer=void 0,this.extend=void 0,this.update=function(){t.pos.x+=t.vec.xy.x,t.pos.y+=t.vec.xy.y,t.extend.forEach((function(e){return e(t)})),t.frame===t.limit&&(t.isLive=!1),t.frame++},this.draw=function(e){t.drawer(t,e)},this.owner=n.owner,this.pos=n.pos,this.prevPos=n.pos,this.vec=n.vec,this.frame=0,this.limit=n.limit,this.isLive=!0,this.drawer=n.drawer,this.extend=n.extend};var Le,Pe=Re;!function(e){e.createGradDrawer=function(e){var a,r=null!==(a=e.radius)&&void 0!==a?a:30;return function(a,i){var o;if(void 0!=e.flashAppearFrame){var l=e.flashAppearFrame,s=l+e.flashHideFrame;if(a.frame%s>=l)return}var d=r;if(void 0!=e.shrinkStartRate){var u=Math.floor(a.limit*e.shrinkStartRate);if(a.frame>u){var b=a.limit-u;d*=(b-(a.frame-u))/b}}var f=a.pos.x,p=a.pos.y,h=i.createRadialGradient(f,p,1,f,p,d),j=[],m=null!==(o=n(e.color))&&void 0!==o?o:{r:255,g:255,b:255,a:255};if(j.push({offset:0,color:t({r:255,g:255,b:255,a:Math.floor(.9*m.a)})}),j.push({offset:.2,color:t(Object(c.a)(Object(c.a)({},m),{},{a:Math.floor(.15*m.a)}))}),j.push({offset:1,color:t(Object(c.a)(Object(c.a)({},m),{},{a:1}))}),j.forEach((function(e){h.addColorStop(e.offset,e.color)})),i.globalAlpha=1,void 0!=e.disappearStartRate){var g=Math.floor(a.limit*e.disappearStartRate);if(a.frame>g){var x=a.limit-g,v=a.frame-g;i.globalAlpha=(x-v)/x}}i.fillStyle=h,i.beginPath(),i.arc(f,p,d,0,2*Math.PI,!1),i.fill()}};var n=e.convertRgbaFromColorCode=function(e){var n=e.split("#");if(2!==n.length||n[1].length<6)return null;var t=n[1],a=Number.parseInt(t.substring(0,2),16),r=Number.parseInt(t.substring(2,4),16),i=Number.parseInt(t.substring(4,6),16),c=1;return 8===t.length&&(c=Number.parseInt(t.substring(6,8),16)),{r:a,g:r,b:i,a:c}},t=e.convertColorCodeFromRgba=function(e){var n=("00"+e.r.toString(16)).slice(-2),t=("00"+e.g.toString(16)).slice(-2),a=("00"+e.b.toString(16)).slice(-2),r=("00"+e.a.toString(16)).slice(-2);return"#".concat(n).concat(t).concat(a).concat(r)};e.toWhite=function(e,n){return e}}(Le||(Le={}));var Ne,Me=Le;(Ne||(Ne={})).Vector=function e(n){var t=this;Object(Ie.a)(this,e),this.xy=void 0,this.rad=void 0,this.len=void 0,this.syncFromXY=function(){t.len=Math.sqrt(t.xy.x*t.xy.x+t.xy.y*t.xy.y),t.rad=Math.atan2(t.xy.y,t.xy.x)},this.syncFromRad=function(){t.xy.x=Math.cos(t.rad)*t.len,t.xy.y=Math.sin(t.rad)*t.len},this.xy=n,this.rad=0,this.len=0,this.syncFromXY()};var _e,Ae=Ne;!function(e){var n;!function(e){e.RADIUS="radius",e.COLOR_R="color_r",e.COLOR_G="color_g",e.COLOR_B="color_b",e.COLOR_A="color_a",e.THICKNESS="thickness"}(n||(n={})),e.VisualParamType=n;var t;e.VisualParams=Object.values(n);!function(e){e.LIMIT="limit",e.POS_X="pos_x",e.POS_Y="pos_y",e.VEC_X="vec_x",e.VEC_Y="vec_y",e.VEC_RAD="vec_radian",e.VEC_LEN="vec_length"}(t||(t={})),e.BehaviorParamType=t;var a;e.BehaviorParams=Object.values(t);!function(e){e.FRAME="self_frame",e.LIMIT="self_limit",e.POS_X="self_pos_x",e.POS_Y="self_pos_y",e.VEC_X="self_vec_x",e.VEC_Y="self_vec_y",e.VEC_RAD="self_vec_radian",e.VEC_LEN="self_vec_length"}(a||(a={})),e.SelfParamType=a;var r;e.SelfParams=Object.values(a);!function(e){e.LOOP_COUNT="loop_count",e.LOOP_ITERATE="loop_iterate",e.INVOKE="invoke"}(r||(r={})),e.ExtendParamType=r;var i;e.ExtendParams=Object.values(r);!function(e){e.DISAPPEAR_START="disappear_start",e.SHRINK_START="shrink_start",e.FLASH_APPEAR_FRAME="flash_appear_frame",e.FLASH_HIDE_FRAME="flash_hide_frame"}(i||(i={})),e.EffectParamType=i;var c;e.EffectParams=Object.values(i);!function(e){e.DECAY_RATE="decay_rate",e.DECAY_LIMIT="decay_limit",e.GRAVITY_VAL="gravity_val",e.GRAVITY_LIMIT="gravity_limit"}(c||(c={})),e.ModulateParamType=c;var o;e.ModulateParams=Object.values(c);!function(e){e.SCREEN_WIDTH="screen_width",e.SCREEN_HEIGHT="screen_height",e.PI="pi",e.RADIAN_ROUND="radian_round"}(o||(o={})),e.ConstantType=o;e.Constants=Object.values(o)}(_e||(_e={}));var Be,De=_e;(Be||(Be={})).build=function(e,n){if(void 0!=n.decayRate&&void 0!=n.decayLimit){var t=n.decayLimit,a=n.decayRate;e.push((function(e){e.vec.len>t&&(e.vec.len=e.vec.len*a,e.vec.syncFromRad())}))}if(void 0!=n.gravity&&void 0!=n.gravityLimit){var r=n.gravityLimit,i=n.gravity;e.push((function(e){e.vec.xy.y<r&&(e.vec.xy.y+=i,e.vec.syncFromXY())}))}};var qe,ze=Be;!function(e){var n=e.SCREEN_WIDTH=550,t=e.SCREEN_HEIGHT=550,a=(e.buildLogicProps=function(e,n,t,o){return function n(o,s){var d,u,b=s.concat(l),f=a("field-mng",o.mngs);null!=f&&f.data.fields.forEach((function(e){var n=e.data,t=i(n,b);b.push({name:n.name,value:t})}));var p=(null===(d=a("visual-mng",o.mngs))||void 0===d?void 0:d.data).params.map((function(e){return e.data})),h=(null===(u=a("behavior-mng",o.mngs))||void 0===u?void 0:u.data).params.map((function(e){return e.data})),j=function(e){return r(e,p,b)},m=function(e){return r(e,h,b)},g=Math.floor(m(De.BehaviorParamType.LIMIT)),x={x:m(De.BehaviorParamType.POS_X),y:m(De.BehaviorParamType.POS_Y)},v=new Ae.Vector({x:0,y:0});void 0!=h.find((function(e){return e.name===De.BehaviorParamType.VEC_X}))?(v.xy.x=m(De.BehaviorParamType.VEC_X),v.xy.y=m(De.BehaviorParamType.VEC_Y),v.syncFromXY()):(v.rad=m(De.BehaviorParamType.VEC_RAD),v.len=m(De.BehaviorParamType.VEC_LEN),v.syncFromRad());var O=[],k=a("inherit-mng",o.mngs);null!=k&&(b.push({name:De.BehaviorParamType.POS_X,value:x.x}),b.push({name:De.BehaviorParamType.POS_Y,value:x.y}),b.push({name:De.BehaviorParamType.VEC_X,value:v.xy.x}),b.push({name:De.BehaviorParamType.VEC_X,value:v.xy.y}),b.push({name:De.BehaviorParamType.VEC_RAD,value:v.rad}),b.push({name:De.BehaviorParamType.VEC_LEN,value:v.len}),k.data.inherits.forEach((function(e){var o,l,s=e.data;if(null===(o=s.disable)||void 0===o||!o){var d="create"===s.method?null===(l=a("inherit-logic",s.mngs))||void 0===l?void 0:l.data:function(e){var n=t.data.logicMng.data.defs.find((function(n){return n.data.name===e}));return void 0==n?null:n.data}(s.depend);null!=d&&O.push((function(e){var t,o=function(e){var n=b.find((function(n){return n.name===e.name}));void 0!=n?n.value=e.value:b.push(e)};o({name:De.SelfParamType.FRAME,value:e.frame}),o({name:De.SelfParamType.LIMIT,value:e.limit}),o({name:De.SelfParamType.POS_X,value:e.pos.x}),o({name:De.SelfParamType.POS_Y,value:e.pos.y}),o({name:De.SelfParamType.VEC_X,value:e.vec.xy.x}),o({name:De.SelfParamType.VEC_Y,value:e.vec.xy.y}),o({name:De.SelfParamType.VEC_RAD,value:e.vec.rad}),o({name:De.SelfParamType.VEC_LEN,value:e.vec.len});var l=[],u=a("inhfld-mng",s.mngs);null!=u&&u.data.fields.forEach((function(e){var n=e.data,t=i(n,b);l.push({name:n.name,value:t})}));var f=1,p=a("extend-mng",s.mngs).data.params.map((function(e){return e.data})),h=r(De.ExtendParamType.LOOP_COUNT,p,b.concat(l));if(null===(t=c(De.ExtendParamType.INVOKE,p,b))||void 0===t||t){void 0!=h&&(f=h);for(var j=function(t){var i,c=[{name:De.ExtendParamType.LOOP_COUNT,value:f},{name:De.ExtendParamType.LOOP_ITERATE,value:t}],o=(null===(i=a("send-mng",s.mngs))||void 0===i?void 0:i.data).params.map((function(e){return e.data})),u=o.map((function(e){var n;return{name:e.name,value:null!==(n=r(e.name,o,b.concat(l).concat(c)))&&void 0!==n?n:0}})),p=n(d,u);e.owner.push(new Pe.Instance(p))},m=0;m<f;m++)j(m)}}))}})));ze.build(O,{decayLimit:m(De.ModulateParamType.DECAY_LIMIT),decayRate:m(De.ModulateParamType.DECAY_RATE),gravity:m(De.ModulateParamType.GRAVITY_VAL),gravityLimit:m(De.ModulateParamType.GRAVITY_LIMIT)});var y=j(De.VisualParamType.RADIUS),w=j(De.VisualParamType.COLOR_R),E=j(De.VisualParamType.COLOR_G),T=j(De.VisualParamType.COLOR_B),S=j(De.VisualParamType.COLOR_A),C=j(De.EffectParamType.DISAPPEAR_START),R=j(De.EffectParamType.SHRINK_START),F=j(De.EffectParamType.FLASH_APPEAR_FRAME),I=j(De.EffectParamType.FLASH_HIDE_FRAME),L=function(){};return void 0!=y&&(L=Me.createGradDrawer({radius:y,color:Me.convertColorCodeFromRgba({r:w,g:E,b:T,a:S}),disappearStartRate:C,shrinkStartRate:R,flashAppearFrame:F,flashHideFrame:I})),{owner:e,pos:x,vec:v,limit:g,drawer:L,extend:O}}(n,o)},function(e,n){var t;return null!==(t=n.find((function(n){return n.type===e})))&&void 0!==t?t:null}),r=e.convertParamsToValue=function(e,n,t){var a=n.find((function(n){return n.name===e}));if(void 0!=a)return i(a,t)},i=function(e,n){var t=e.values.map((function(e){if("direct"===e.type)return Number(e.value);var t=n.find((function(n){return n.name===e.value}));return void 0==t?0:t.value})),a="",r=0;return e.formulaItems.forEach((function(e){var n=e;"var"===e?(n=t[r].toString(),r++):"rand("===e?n="Math.random()*(":"integer("===e&&(n="Math.floor("),a+=n})),Function("return (".concat(a,")"))()},c=e.convertParamsToBoolean=function(e,n,t){var a=n.find((function(n){return n.name===e}));if(void 0!=a)return o(a,t)},o=function(e,n){var t=e.values.map((function(e){if("direct"===e.type)return Number(e.value);var t=n.find((function(n){return n.name===e.value}));return void 0==t?0:t.value})),a="",r=0;return e.formulaItems.forEach((function(e,n){var i=e;"var"===e?(i=t[r].toString(),r++):"rand("===e?i="Math.random()*(":"integer("===e?i="Math.floor(":"="===e&&(i="=="),a+=i})),Function("return (".concat(a,")"))()},l=e.ConstantValueMap=[{name:De.ConstantType.SCREEN_WIDTH,value:n},{name:De.ConstantType.SCREEN_HEIGHT,value:t},{name:De.ConstantType.PI,value:3.14159265359},{name:De.ConstantType.RADIAN_ROUND,value:6.28318530718}];e.runParticleLogic=function(e){for(var n,t=null!==(n=e.guaranteeFrame)&&void 0!==n?n:0,a=[],r=0;;){e.doIterate(r,a);for(var i=a.length-1;i>=0;i--){a[i].update()}for(var c=a.length-1;c>=0;c--){a[c].isLive||a.splice(c,1)}if(r>e.limitFrame||a.length>e.limitParticle||r>t&&0===a.length)break;r++}void 0!=e.doEnd&&e.doEnd(r,a)}}(qe||(qe={}));var Ue,Ve=qe;!function(e){e.checkRequired=function(e){return e.length>0},e.checkStringLength=function(e,n,t){return 0===e.length||e.length>=n&&e.length<=t},e.checkAsciiChars=function(e){return n(e,"0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ")};var n=e.checkIncludesChars=function(e,n){for(var t=0;t<e.length;t++){var a=e.charAt(t);if(-1===n.indexOf(a))return!1}return!0};e.checkNumber=function(e){return!isNaN(Number(e))},e.checkNumberRange=function(e,n,t){if(!isNaN(Number(e))){var a=Number(e);return a>=n&&a<=t}return!0},e.checkAll=function(e){for(var n=!0,t=0;t<e.length;t++)if(!e[t]){n=!1;break}return n}}(Ue||(Ue={}));var We,He=Ue,Je=t(11),Ye=function(){var e=Object(l.useContext)(ja),n=e.node,t=e.setFocusNode;n.data;return Object(X.jsx)(X.Fragment,{children:Object(X.jsx)(ge.a.BorderPanel,{title:"operation",innerJsx:Object(X.jsx)(ge.a.ButtonRecord,{align:"center",buttons:[{label:"Add Argument",callback:function(){var e=Vt.addChild({type:"argument-item",data:null},n);t(e)}}]})})})};(We||(We={})).Component=function(e){var n,t=Object(l.useContext)(ja),a=t.node,r=t.isModify,i=t.setModify,c=t.removeSelf,o=a.data,s=ge.a.isCompleteCheck(e.checkableFields);return Object(X.jsx)(X.Fragment,{children:Object(X.jsx)(ge.a.ButtonRecord,{align:"center",buttons:[{label:"Cancel",isEnable:r,callback:function(){null==o.data?c():e.mappingForm(),i(!1)}},{label:r?"Regist":"Modify",isEnable:!r||(null!==(n=e.isInputOK)&&void 0!==n?n:s),callback:function(){r?(null==o.data?e.firstRegist():e.modifyRegist(),i(!1)):i(!0)}}]})})};var Xe,Ge,Ke,Qe,Ze,$e=We,en=function(){var e,n=Object(l.useContext)(pl),t=n.store,a=n.setStore,r=Object(l.useContext)(ja),i=r.node,s=r.removeSelf,d=r.setModify,u=r.isModify,b=r.invalidate,f=i.data,p=null===(e=i.parent)||void 0===e?void 0:e.parent,h=Object(l.useState)({value:"",errors:[]}),j=Object(o.a)(h,2),m=j[0],g=j[1],x=Object(l.useState)({value:"number",errors:[]}),v=Object(o.a)(x,2),O=v[0],k=v[1],y=Object(l.useMemo)((function(){var e,n,t=(null===(e=i.parent)||void 0===e||null===(n=e.parent)||void 0===n?void 0:n.data).data;return Vt.getParamNameList(t)}),[i]),w=function(){var e=f.data;g(Object(c.a)(Object(c.a)({},m),{},{value:e.name})),k(Object(c.a)(Object(c.a)({},O),{},{value:e.valueType}))};return Object(l.useEffect)((function(){null==f.data?d(!0):w()}),[i]),Object(X.jsxs)(X.Fragment,{children:[Object(X.jsx)($e.Component,{mappingForm:w,checkableFields:[m,O],firstRegist:function(){var e={name:m.value,valueType:O.value};e.name=m.value,f.data=e,rn(p,m.value)},modifyRegist:function(){var e=f.data,n=e.name;e.name=m.value,e.valueType=O.value,f.data=e,n!==m.value&&tn(p,n,m.value)}}),Object(X.jsx)(ge.a.BorderPanel,{title:"param",innerJsx:Object(X.jsxs)(X.Fragment,{children:[Object(X.jsx)(ge.a.FormRecord,{titleLabel:"Name",jsx:Object(X.jsx)(ge.a.TextField,{width:200,isReadOnly:!u,checkable:m,setCheckable:g,validates:[{checker:function(e){return He.checkRequired(e)},errorType:"required"},{checker:function(e){return He.checkStringLength(e,1,16)},errorType:"length"},{checker:function(e){return wt.checkFieldName(e)},errorType:"value"},{checker:function(e){return!y.filter((function(e){return null==f.data||f.data.name!==e})).includes(e)},errorType:"relation"}]})}),Object(X.jsx)(ge.a.FormRecord,{titleLabel:"Type",jsx:Object(X.jsx)(ge.a.Combobox,{checkable:O,setCheckable:k,list:wt.ArgTypes.map((function(e){return{value:e,labelText:e,isDisabled:"color"===e}})),headBlank:!0,width:200,isReadOnly:!u,validates:[{checker:function(e){return He.checkRequired(e)},errorType:"required"}]})})]})}),Object(X.jsx)(ge.a.BorderPanel,{title:"operation",isEnable:!u,innerJsx:Object(X.jsxs)(X.Fragment,{children:[Object(X.jsx)(ge.a.ButtonRecord,{align:"center",buttons:[{label:"Delete",isEnable:!u,callback:function(){var e=f.data,n=nn(i,e.name);0===n.length?(cn(p,m.value),s()):(t.system.dialog=Object(X.jsx)(Je.a.Component,{message:"[".concat(e.name,"] is referenced in the formula.\n").concat(n)}),a(Object(c.a)({},t)))}}]}),Vt.getSwapButtons(i,b)]})})]})},nn=function(e,n){var t=[];return Vt.searchVariableReferInFormula(e,(function(e){e.forEach((function(e){var a=e.data;a.values.forEach((function(e){"argument"===e.type&&e.value===n&&t.push(a.name)}))}))})),t},tn=function(e,n,t){var a=function(e){e.forEach((function(e){e.data.values.forEach((function(e){"argument"===e.type&&e.value===n&&(e.value=t)}))}))},r=e.data,i=r.data,c=i.mngs.find((function(e){return"field-mng"===e.type}));void 0!=c&&a(c.data.fields);var o=i.mngs.find((function(e){return"visual-mng"===e.type}));void 0!=o&&a(o.data.params);var l=i.mngs.find((function(e){return"behavior-mng"===e.type}));void 0!=l&&a(l.data.params);var s=i.mngs.find((function(e){return"inherit-mng"===e.type}));void 0!=s&&s.data.inherits.forEach((function(e){var n,t,r=Vt.getInnerWrap(e,"inhfld-mng");null!=r&&a(r.data.fields),a((null===(n=Vt.getInnerWrap(e,"extend-mng"))||void 0===n?void 0:n.data).params),a((null===(t=Vt.getInnerWrap(e,"send-mng"))||void 0===t?void 0:t.data).params)}));var d=function(e){e.forEach((function(e){var a=e.data;a.name===n&&(a.name=t)}))};if("logic-item"===r.type){var u,b=function e(n){var t=n.mngs.find((function(e){return"inherit-mng"===e.type}));void 0!=t&&t.data.inherits.forEach((function(n){var t=n.data;if("create"===t.method){var a=Vt.getInnerWrapFixed(n,"inherit-logic").data;e(a)}else if("depend"===t.method&&t.depend===i.name){var r=Vt.getInnerWrapFixed(n,"send-mng").data;d(r.params)}}))};e.parent.children.forEach((function(e){b(e.data.data)}));var f=(null===(u=e.parent)||void 0===u?void 0:u.parent).data.data.seedMng.data.defs;console.log(f.length),f.forEach((function(e){var n=Vt.getInnerWrapFixed(e,"interface-mng"),t=Vt.getInnerWrapFixed(n,"seedsend-mng").data;d(t.params)}))}else if("inherit-logic"===r.type){var p,h=null===(p=e.parent)||void 0===p?void 0:p.data,j=Vt.getInnerWrapFixed(h,"send-mng").data;d(j.params)}},an=function(e,n){var t=e.data,a=t.data;if("logic-item"===t.type){var r,i=function e(t){var r=t.children.find((function(e){return"inherit-mng"===e.data.type}));void 0!=r&&r.children.forEach((function(t){var r=t.data.data;"create"===r.method?e(Vt.getInnerNodeFixed(t,"inherit-logic")):"depend"===r.method&&r.depend===a.name&&n(Vt.getInnerNodeFixed(t,"send-mng"))}))};e.parent.children.forEach((function(e){i(e)})),(null===(r=e.parent)||void 0===r?void 0:r.parent).children[0].children.forEach((function(e){var t=Vt.getInnerNodeFixed(e,"interface-mng"),a=Vt.getInnerNodeFixed(t,"seedsend-mng");n(a)}))}else if("inherit-logic"===t.type){var c=Vt.getInnerNodeFixed(e.parent,"send-mng");n(c)}},rn=function(e,n){an(e,(function(e){var t=Vt.createParamWrap("send-item",{name:n,formulaItems:["var"],values:[{type:"direct",value:"0"}]});e.data.data.params.push(t),e.children.push(ve.createNode(t,e))}))},cn=function(e,n){an(e,(function(e){var t=e.data.data,a=-1;t.params.some((function(e,t){if(e.data.name==n)return a=t,1})),t.params.splice(a,1),e.children.splice(a,1)}))},on=function(){var e=Object(l.useContext)(ja),n=e.node,t=e.setFocusNode,a=n.data;return Object(X.jsx)(X.Fragment,{children:Object(X.jsx)(ge.a.BorderPanel,{title:"operation",innerJsx:Object(X.jsx)(ge.a.ButtonRecord,{align:"center",buttons:[{label:"Add Seed",callback:function(){var e={type:"seed-item",data:null};a.data.defs.push(e);var r=ve.createNode(e,n);n.children.push(r),t(r)}}]})})})},ln=function(){var e=Object(l.useContext)(ja),n=e.node,t=e.setFocusNode;n.data;return Object(X.jsx)(X.Fragment,{children:Object(X.jsx)(ge.a.BorderPanel,{title:"operation",innerJsx:Object(X.jsx)(ge.a.ButtonRecord,{align:"center",buttons:[{label:"Add Logic",callback:function(){var e=Vt.addChild({type:"logic-item",data:null},n);t(e)}}]})})})},sn=function(){var e=Object(l.useContext)(pl),n=e.store,t=e.setStore,a=Object(l.useContext)(ja),r=a.removeSelf,i=a.node,s=a.setFocusNode,d=a.invalidate,u=a.setModify,b=a.isModify,f=i.data,p=Object(l.useState)({value:"",errors:[]}),h=Object(o.a)(p,2),j=h[0],m=h[1],g=Object(l.useMemo)((function(){var e,n=i.children.map((function(e){return e.data.type}));return["connector"===(null===(e=i.parent)||void 0===e?void 0:e.data).type,n.includes("argument-mng"),n.includes("field-mng"),n.includes("inherit-mng")]}),[i]),x=Object(o.a)(g,4),v=x[0],O=x[1],k=x[2],y=x[3],w=function(){if(!v){var e=f.data;m(Object(c.a)(Object(c.a)({},j),{},{value:e.name}))}},E=Object(l.useMemo)((function(){return"inherit-logic"===f.type?[]:Vt.getExistNameList(i)}),[i]);Object(l.useEffect)((function(){null==f.data?u(!0):w()}),[i,v]);var T=function(e,n,t){e?(Vt.removeChild(i,n,1),s(Object(c.a)({},i)),d()):(Vt.insertChild(t,i,n),s(Object(c.a)({},i)),d())};return Object(X.jsxs)(X.Fragment,{children:[v?Object(X.jsx)(X.Fragment,{}):Object(X.jsxs)(X.Fragment,{children:[Object(X.jsx)($e.Component,{mappingForm:w,checkableFields:[j],firstRegist:function(){var e={name:j.value,mngs:Vt.getDefaultLogicMngs()};e.name=j.value,f.data=e,e.mngs.forEach((function(e){var n=ve.createNode(e,i);n.data.data.params.forEach((function(e){n.children.push(ve.createNode(e,n))})),i.children.push(n)})),d(),t(Object(c.a)({},n))},modifyRegist:function(){var e=f.data,n=e.name;e.name=j.value,f.data=e,n!==e.name&&un(i,n,e.name)}}),Object(X.jsx)(ge.a.BorderPanel,{title:"param",innerJsx:Object(X.jsx)(X.Fragment,{children:Object(X.jsx)(ge.a.FormRecord,{titleLabel:"Name",jsx:Object(X.jsx)(ge.a.TextField,{width:200,isReadOnly:!b,checkable:j,setCheckable:m,validates:[{checker:function(e){return He.checkRequired(e)},errorType:"required"},{checker:function(e){return He.checkStringLength(e,1,16)},errorType:"length"},{checker:function(e){return wt.checkFieldName(e)},errorType:"value"},{checker:function(e){return!E.includes(e)},errorType:"relation"}]})})})})]}),Object(X.jsx)(ge.a.BorderPanel,{title:"element",isEnable:!b,innerJsx:Object(X.jsxs)(X.Fragment,{children:[Object(X.jsx)(ge.a.Record,{textAlign:"center",jsx:Object(X.jsx)(ge.a.Switch,{label:"Argument",width:300,isUse:O,isEnable:!function(){var e=Vt.getInnerNode(i,"argument-mng");return null!=e&&e.children.length>0}(),callback:function(){T(O,0,{type:"argument-mng",data:{args:[]}})}})}),Object(X.jsx)(ge.a.Record,{textAlign:"center",isEnable:!0,jsx:Object(X.jsx)(ge.a.Switch,{label:"Field",width:300,isUse:k,isEnable:!function(){var e=Vt.getInnerNode(i,"field-mng");return null!=e&&e.children.length>0}(),callback:function(){var e=0;O&&e++,T(k,e,{type:"field-mng",data:{fields:[]}})}})}),Object(X.jsx)(ge.a.Record,{textAlign:"center",jsx:Object(X.jsx)(ge.a.Switch,{label:"Inherit",width:300,isUse:y,isEnable:!function(){var e=Vt.getInnerNode(i,"inherit-mng");return null!=e&&e.children.length>0}(),callback:function(){var e=2;O&&e++,k&&e++,T(y,e,{type:"inherit-mng",data:{inherits:[]}})}})})]})}),v?Object(X.jsx)(X.Fragment,{}):Object(X.jsx)(ge.a.BorderPanel,{title:"operation",isEnable:!b,innerJsx:Object(X.jsxs)(X.Fragment,{children:[Vt.getReplicateButton(i,!b,"logic",n,t,d),Object(X.jsx)(ge.a.ButtonRecord,{align:"center",buttons:[{label:"Delete",callback:function(){var e=f.data,a=dn(i,e.name);0===a.length?r():(n.system.dialog=Object(X.jsx)(Je.a.Component,{message:"[".concat(e.name,"] is referenced in the Inherit.\n").concat(a)}),t(Object(c.a)({},n)))}}]}),Vt.getSwapButtons(i,d)]})})]})},dn=function(e,n){var t=[];return bn(e,n,(function(e){t.push(e.id)})),t},un=function(e,n,t){bn(e,n,(function(e){e.depend=t}))},bn=function(e,n,t){var a=e.parent,r=function e(a){var r=a.mngs.find((function(e){return"inherit-mng"===e.type}));void 0!=r&&r.data.inherits.forEach((function(a){var r=a.data;if("create"===r.method){var i=Vt.getInnerWrap(a,"inherit-logic");e(null===i||void 0===i?void 0:i.data)}else r.depend===n&&t(r)}))};a.children.forEach((function(e){r(e.data.data)}))};!function(e){e[e.FIELD=0]="FIELD",e[e.INITIAL=1]="INITIAL",e[e.INHERIT_FIELD=2]="INHERIT_FIELD",e[e.INHERIT_EXTEND=3]="INHERIT_EXTEND",e[e.INHERIT_SEND=4]="INHERIT_SEND"}(Ze||(Ze={}));var fn,pn,hn,jn=function(){var e=Object(l.useContext)(pl),n=e.store,t=e.setStore,a=Object(l.useContext)(ja),r=a.removeSelf,i=a.node,s=a.invalidate,d=a.setModify,u=a.isModify,b=i.data,f=Object(l.useState)({value:"",errors:[]}),p=Object(o.a)(f,2),h=p[0],j=p[1],m=Object(l.useState)([]),g=Object(o.a)(m,2),x=g[0],v=g[1],O=Object(l.useState)([]),k=Object(o.a)(O,2),y=k[0],w=k[1],E="field-item"===b.type,T="condition-item"===b.type,S=function(){var e=b.data;j({value:e.name,errors:[]}),v(e.formulaItems.slice()),w(e.values.map((function(e){return{inputType:{value:e.type,errors:[]},value:{value:e.value,errors:[]}}})))};Object(l.useEffect)((function(){null==b.data?d(!0):S()}),[i]);var C=Object(l.useMemo)((function(){var e;switch((null===(e=i.parent)||void 0===e?void 0:e.data).type){case"field-mng":return Ze.FIELD;case"visual-mng":case"behavior-mng":return Ze.INITIAL;case"inhfld-mng":return Ze.INHERIT_FIELD;case"extend-mng":return Ze.INHERIT_EXTEND;case"send-mng":return Ze.INHERIT_SEND}return-1}),[i]),R=Object(l.useMemo)((function(){var e,n=[],t=[],a=(null===(e=i.parent)||void 0===e?void 0:e.data).type;if(["field-mng","behavior-mng","visual-mng","inhfld-mng","send-mng","extend-mng"].includes(a)){var r,c=(null===(r=function(){var e,n,t,r;switch(a){case"field-mng":case"visual-mng":case"behavior-mng":return null===(e=i.parent)||void 0===e?void 0:e.parent;case"inhfld-mng":case"send-mng":case"extend-mng":return null===i||void 0===i||null===(n=i.parent)||void 0===n||null===(t=n.parent)||void 0===t||null===(r=t.parent)||void 0===r?void 0:r.parent}}())||void 0===r?void 0:r.data).data,o=c.mngs.find((function(e){return"argument-mng"===e.type}));void 0!=o&&(n=o.data.args.map((function(e){return e.data.name})));var l=c.mngs.find((function(e){return"field-mng"===e.type}));C>=Ze.INITIAL&&void 0!=l&&l.data.fields.forEach((function(e){var n=e.data.name;t.push(n)}))}else if("seedsend-mng"===a){var s,d=Vt.getInnerWrap((null===(s=i.parent)||void 0===s?void 0:s.parent).data,"seedarg-mng");if(null==d)throw new Error("argMng is undefined.");n=d.data.args.map((function(e){return e.data.name}))}if(C>=Ze.INHERIT_FIELD){if(t.push(De.BehaviorParamType.POS_X),t.push(De.BehaviorParamType.POS_Y),t.push(De.BehaviorParamType.VEC_X),t.push(De.BehaviorParamType.VEC_Y),t.push(De.BehaviorParamType.VEC_RAD),t.push(De.BehaviorParamType.VEC_LEN),C>=Ze.INHERIT_EXTEND){var u,b=Vt.getInnerNode(null===(u=i.parent)||void 0===u?void 0:u.parent,"inhfld-mng");if(null!=b)b.data.data.fields.forEach((function(e){var n=e.data.name;t.push(n)}))}var f;if(C===Ze.INHERIT_SEND)void 0!=Vt.getInnerWrap((null===(f=i.parent)||void 0===f?void 0:f.parent).data,"extend-mng").data.params.find((function(e){return e.data.name===De.ExtendParamType.LOOP_COUNT}))&&(t.push(De.ExtendParamType.LOOP_COUNT),t.push(De.ExtendParamType.LOOP_ITERATE))}return[n,t]}),[i]),F=Object(o.a)(R,2),I=F[0],L=F[1],P=Object(l.useMemo)((function(){var e,n,t=(null===(e=i.parent)||void 0===e||null===(n=e.parent)||void 0===n?void 0:n.data).data;return Vt.getParamNameList(t)}),[i]);Object(l.useEffect)((function(){var e=0;if(x.forEach((function(n){"var"===n&&e++})),y.length<e){for(var n=e-y.length,t=0;t<n;t++)y.push({inputType:{value:"direct",errors:[]},value:{value:"",errors:[]}});w(y.slice())}else if(y.length>e){for(var a=y.length-e,r=0;r<a;r++)y.splice(y.length-a,a);w(y.slice())}}),[x]);var N=Object(l.useMemo)((function(){var e=0;return x.forEach((function(n){["(","rand(","integer("].includes(n)?e++:")"===n&&e--})),e}),[x]),M=Object(l.useMemo)((function(){return y.map((function(e,n){return Object(X.jsx)(ge.a.FormRecord,{titleLabel:"var_".concat(n),labelWidth:90,marginTop:0===n?4:0,jsx:Object(X.jsxs)(X.Fragment,{children:[Object(X.jsx)(ge.a.Combobox,{checkable:e.inputType,width:142,isReadOnly:!u,setCheckable:function(e){y[n].inputType=e,u&&(y[n].value.value="direct"===e.value?"0":""),w(y.slice())},list:wt.ParamInputTypes.filter((function(e){switch(e){case"direct":case"constant":case"argument":return!0;case"field":return C>=Ze.INITIAL;case"self":return C>=Ze.INHERIT_FIELD}})).map((function(e){return{value:e,labelText:e}}))}),function(){var t=e.inputType.value;if("direct"===t)return Object(X.jsx)(ge.a.TextField,{marginLeft:2,checkable:e.value,isNumber:!0,isReadOnly:!u,width:178,setCheckable:function(e){y[n].value=e,w(y.slice())},validates:[{checker:function(e){return He.checkRequired(e)},errorType:"required"}]});var a=[];return"argument"===t?a=I:"field"===t?a=L:"self"===t?a=De.SelfParams:"constant"===t&&(a=Ve.ConstantValueMap.map((function(e){return e.name}))),Object(X.jsx)(ge.a.Combobox,{marginLeft:2,checkable:e.value,width:178,isReadOnly:!u,setCheckable:function(e){y[n].value=e,w(y.slice())},list:a.map((function(e){return{value:e,labelText:e}})),headBlank:!0,validates:[{checker:function(e){return He.checkRequired(e)},errorType:"required"}]})}()]})},n)}))}),[y,u]),_=function(){return x.length>0&&["var",")"].includes(x[x.length-1])},A=0===N&&y.length>0&&["var",")"].includes(x[x.length-1]),B=!A||void 0!=y.find((function(e){return e.value.errors.length>0})),D=function(e,n,t,a){return{label:e,width:n,isEnable:t,callback:function(){x.push(a),v(x.slice())}}};return Object(X.jsxs)(X.Fragment,{children:[Object(X.jsx)($e.Component,{mappingForm:S,checkableFields:[],firstRegist:function(){var e={name:h.value,formulaItems:x.slice(),values:y.map((function(e){return{type:e.inputType.value,value:e.value.value}}))};e.name=h.value,b.data=e},isInputOK:0===N&&!B&&0===h.errors.length,modifyRegist:function(){var e=b.data;if(e.formulaItems=x.slice(),e.values=y.map((function(e){return{type:e.inputType.value,value:e.value.value}})),E){var n=e.name;e.name=h.value,n!==h.value&&gn(i.parent,n,h.value)}}}),Object(X.jsx)(ge.a.BorderPanel,{title:"param",innerJsx:Object(X.jsxs)(X.Fragment,{children:[Object(X.jsx)(ge.a.FormRecord,{titleLabel:"Name",jsx:Object(X.jsx)(ge.a.TextField,{width:200,isReadOnly:!u||!E,checkable:h,setCheckable:j,validates:[{checker:function(e){return He.checkRequired(e)},errorType:"required"},{checker:function(e){return He.checkStringLength(e,1,16)},errorType:"length"},{checker:function(e){return wt.checkFieldName(e)},errorType:"value"},{checker:function(e){return!P.filter((function(e){return null==b.data||b.data.name!==e})).includes(e)},errorType:"relation"}]})}),Object(X.jsx)(ge.a.ButtonRecord,{align:"center",buttons:[D("+",50,u&&_(),"+"),D("-",50,u&&_(),"-"),D("*",50,u&&_(),"*"),D("/",50,u&&_(),"/"),D("%",50,u&&_(),"%"),D("(",35,u&&!_(),"("),D(")",35,u&&_()&&N>0,")"),{label:"del",width:60,isEnable:u&&x.length>0,callback:function(){x.splice(x.length-1,1),v(x.slice())}}]}),T?Object(X.jsx)(ge.a.ButtonRecord,{align:"center",buttons:[D("<",50,u&&_(),"<"),D("<=",50,u&&_(),"<="),D("=",50,u&&_(),"="),D(">=",50,u&&_(),">="),D(">",50,u&&_(),">"),D("&&",50,u&&_(),"&&"),D("||",50,u&&_(),"||")]}):Object(X.jsx)(X.Fragment,{}),Object(X.jsx)(ge.a.ButtonRecord,{align:"center",buttons:[D("var",70,u&&!_(),"var"),D("rand",80,u&&!_(),"rand("),D("integer",80,u&&!_(),"integer("),{label:"clear",isEnable:u&&x.length>0,width:90,callback:function(){v([])}}]}),Object(X.jsx)(xn,{isInvalid:!A,children:function(){var e=0,n=[];return x.forEach((function(t){n.length>0&&n.push(Object(X.jsx)("span",{children:"\xa0"},n.length)),"var"===t?(n.push(Object(X.jsx)(vn,{children:"${var_".concat(e,"}")},n.length)),e++):n.push(Object(X.jsx)(On,{children:t},n.length))})),n}()}),M]})}),Object(X.jsx)(ge.a.BorderPanel,{title:"operation",isEnable:!u&&E,innerJsx:Object(X.jsxs)(X.Fragment,{children:[Object(X.jsx)(ge.a.ButtonRecord,{align:"center",buttons:[{label:"Delete",isEnable:!u,callback:function(){var e=b.data,a=mn(i,e.name);0===a.length?r():(n.system.dialog=Object(X.jsx)(Je.a.Component,{message:"[".concat(e.name,"] is referenced in the formula.\n").concat(a)}),t(Object(c.a)({},n)))}}]}),E?Vt.getSwapButtons(i,s):Object(X.jsx)(X.Fragment,{})]})})]})},mn=function(e,n){var t=[];return Vt.searchVariableReferInFormula(e,(function(e){e.forEach((function(e){var a=e.data;a.values.forEach((function(e){"field"===e.type&&e.value===n&&t.push(a.name)}))}))})),t},gn=function(e,n,t){var a=function(e){e.forEach((function(e){e.data.values.forEach((function(e){"field"===e.type&&e.value===n&&(e.value=t)}))}))},r=e.data.type;if("field-mng"===r){var i,c=(null===(i=e.parent)||void 0===i?void 0:i.data).data,o=c.mngs.find((function(e){return"visual-mng"===e.type}));void 0!=o&&a(o.data.params);var l=c.mngs.find((function(e){return"behavior-mng"===e.type}));void 0!=l&&a(l.data.params);var s=c.mngs.find((function(e){return"inherit-mng"===e.type}));void 0!=s&&s.data.inherits.forEach((function(e){var n,t,r=Vt.getInnerWrap(e,"inhfld-mng");null!=r&&a(r.data.fields),a((null===(n=Vt.getInnerWrap(e,"extend-mng"))||void 0===n?void 0:n.data).params),a((null===(t=Vt.getInnerWrap(e,"send-mng"))||void 0===t?void 0:t.data).params)}))}else if("inhfld-mng"===r){var d,u,b,f=null===(d=e.parent)||void 0===d?void 0:d.data;a((null===(u=Vt.getInnerWrap(f,"extend-mng"))||void 0===u?void 0:u.data).params),a((null===(b=Vt.getInnerWrap(f,"send-mng"))||void 0===b?void 0:b.data).params)}},xn=s.b.div(Xe||(Xe=Object(i.a)(["\n    display: inline-block;\n    width: calc(100% - 12px);\n    ","\n    overflow-wrap: break-word;\n    height: 100px;//calc(100% - 4px);\n    color: #585858;\n    border: solid 1px #7a7a7abf;\n    box-sizing: border-box;\n    background-color: #ffffff8b;\n    ","\n    border-radius: 4px;\n    text-align: left;\n    padding: 0 0 0 4px;\n    vertical-align: top;\n    margin: 5px 0 0 6px;\n"])),Q.a.CSS_LABEL_MIDIUM,(function(e){return e.isInvalid?Object(s.a)(Ge||(Ge=Object(i.a)(["\n        background-color: #ffe8628a;\n    "]))):""})),vn=s.b.span(Ke||(Ke=Object(i.a)(["\n    color: #e70013;\n"]))),On=s.b.span(Qe||(Qe=Object(i.a)(["\n    color: #3333339d;\n"]))),kn=function(){var e=Object(l.useContext)(ja),n=e.node,t=e.setFocusNode,a=e.invalidate,r=(e.setModify,e.isModify),i=n.data.data,s=Object(l.useMemo)((function(){var e=n.children.map((function(e){return e.data.data.name}));return[e.includes(De.BehaviorParamType.VEC_X),e.includes(De.ModulateParamType.DECAY_RATE),e.includes(De.ModulateParamType.GRAVITY_VAL)]}),[n]),d=Object(o.a)(s,3),u=d[0],b=d[1],f=d[2],p=function(){!function(e,r,i,o){var l=(e?i:o).length;Vt.removeChild(n,r,l),(e?i:o).forEach((function(e,t){var a={type:"param-item",data:e};Vt.insertChild(a,n,r+t)})),t(Object(c.a)({},n)),a()}(!u,3,[{name:De.BehaviorParamType.VEC_X,formulaItems:["var"],values:[{type:"direct",value:"0"}]},{name:De.BehaviorParamType.VEC_Y,formulaItems:["var"],values:[{type:"direct",value:"0"}]}],[{name:De.BehaviorParamType.VEC_RAD,formulaItems:["var"],values:[{type:"direct",value:"0"}]},{name:De.BehaviorParamType.VEC_LEN,formulaItems:["var"],values:[{type:"direct",value:"0"}]}])},h=function(e,r,o){var l=o.length;e?(i.params.splice(r,l),n.children.splice(r,l),t(Object(c.a)({},n)),a()):(o.forEach((function(e,t){var a={type:"param-item",data:e};i.params.splice(r+t,0,a);var c=ve.createNode(a,n);n.children.splice(r+t,0,c)})),t(Object(c.a)({},n)),a())};return Object(X.jsxs)(X.Fragment,{children:[Object(X.jsx)(ge.a.BorderPanel,{title:"method",isEnable:!r,innerJsx:Object(X.jsxs)(X.Fragment,{children:[Object(X.jsx)(ge.a.Record,{textAlign:"center",jsx:Object(X.jsx)(ge.a.Switch,{label:"Vector method",width:300,isRelation:!0,isUse:u,callback:p})}),Object(X.jsx)(ge.a.Record,{textAlign:"center",jsx:Object(X.jsx)(ge.a.Switch,{label:"Direction method",width:300,isRelation:!0,isUse:!u,callback:p})})]})}),Object(X.jsx)(ge.a.BorderPanel,{title:"modulate",isEnable:!r,innerJsx:Object(X.jsxs)(X.Fragment,{children:[Object(X.jsx)(ge.a.Record,{textAlign:"center",jsx:Object(X.jsx)(ge.a.Switch,{label:"Decay",width:300,isUse:b,callback:function(){h(b,5,[{name:De.ModulateParamType.DECAY_RATE,formulaItems:["var"],values:[{type:"direct",value:"0.9"}]},{name:De.ModulateParamType.DECAY_LIMIT,formulaItems:["var"],values:[{type:"direct",value:"1"}]}])}})}),Object(X.jsx)(ge.a.Record,{textAlign:"center",jsx:Object(X.jsx)(ge.a.Switch,{label:"Gravity",width:300,isUse:f,callback:function(){h(f,b?7:5,[{name:De.ModulateParamType.GRAVITY_VAL,formulaItems:["var"],values:[{type:"direct",value:"0.2"}]},{name:De.ModulateParamType.GRAVITY_LIMIT,formulaItems:["var"],values:[{type:"direct",value:"10"}]}])}})})]})})]})},yn=function(){var e=Object(l.useContext)(ja),n=e.node,t=e.setFocusNode,a=e.invalidate,r=(e.setModify,e.isModify),i=n.data.data,s=Object(l.useMemo)((function(){var e=n.children.map((function(e){return e.data.data.name})),t="blank";return e.length>0&&(t=e.includes(De.VisualParamType.THICKNESS)?"snake":"particle"),[t,e.includes(De.EffectParamType.DISAPPEAR_START),e.includes(De.EffectParamType.SHRINK_START),e.includes(De.EffectParamType.FLASH_APPEAR_FRAME)]}),[n]),d=Object(o.a)(s,4),u=d[0],b=d[1],f=d[2],p=d[3],h=function(e,r,i){var o=i.length;e?(Vt.removeChild(n,r,o),t(Object(c.a)({},n)),a()):(i.forEach((function(e,t){var a={type:"param-item",data:e};Vt.insertChild(a,n,r+t)})),t(Object(c.a)({},n)),a())};return Object(X.jsxs)(X.Fragment,{children:[Object(X.jsx)(ge.a.BorderPanel,{title:"method",isEnable:!r,innerJsx:Object(X.jsxs)(X.Fragment,{children:[Object(X.jsx)(ge.a.Record,{textAlign:"center",isEnable:!(f||b||p),jsx:Object(X.jsx)(ge.a.Switch,{label:"None",width:300,isRelation:!0,isUse:"blank"===u,callback:function(){i.params.length=0,n.children.length=0,t(Object(c.a)({},n)),a()}})}),Object(X.jsx)(ge.a.Record,{textAlign:"center",jsx:Object(X.jsx)(ge.a.Switch,{label:"Particle Method",width:300,isRelation:!0,isUse:"particle"===u,callback:function(){var e;e=[{name:De.VisualParamType.RADIUS,formulaItems:["var"],values:[{type:"direct",value:"20"}]},{name:De.VisualParamType.COLOR_R,formulaItems:["var"],values:[{type:"direct",value:"255"}]},{name:De.VisualParamType.COLOR_G,formulaItems:["var"],values:[{type:"direct",value:"255"}]},{name:De.VisualParamType.COLOR_B,formulaItems:["var"],values:[{type:"direct",value:"255"}]},{name:De.VisualParamType.COLOR_A,formulaItems:["var"],values:[{type:"direct",value:"255"}]}],e.forEach((function(e,t){var a={type:"param-item",data:e};Vt.insertChild(a,n,t)})),t(Object(c.a)({},n)),a()}})})]})}),Object(X.jsx)(ge.a.BorderPanel,{title:"effect",isEnable:!r&&"blank"!==u,innerJsx:Object(X.jsxs)(X.Fragment,{children:[Object(X.jsx)(ge.a.Record,{textAlign:"center",isEnable:!p,jsx:Object(X.jsx)(ge.a.Switch,{label:"Disappear",width:300,isUse:b,callback:function(){h(b,5,[{name:De.EffectParamType.DISAPPEAR_START,formulaItems:["var"],values:[{type:"direct",value:"0"}]}])}})}),Object(X.jsx)(ge.a.Record,{textAlign:"center",isEnable:!p,jsx:Object(X.jsx)(ge.a.Switch,{label:"Shrink",width:300,isUse:f,callback:function(){h(f,b?6:5,[{name:De.EffectParamType.SHRINK_START,formulaItems:["var"],values:[{type:"direct",value:"0"}]}])}})}),Object(X.jsx)(ge.a.Record,{textAlign:"center",isEnable:!(f||b),jsx:Object(X.jsx)(ge.a.Switch,{label:"Flash",width:300,isUse:p,callback:function(){h(p,5,[{name:De.EffectParamType.FLASH_APPEAR_FRAME,formulaItems:["var"],values:[{type:"direct",value:"1"}]},{name:De.EffectParamType.FLASH_HIDE_FRAME,formulaItems:["var"],values:[{type:"direct",value:"1"}]}])}})})]})})]})},wn=function(){var e=Object(l.useContext)(ja),n=e.node,t=e.setFocusNode,a=e.invalidate,r=n.data.data;return Object(X.jsx)(X.Fragment,{children:Object(X.jsx)(ge.a.BorderPanel,{title:"operation",innerJsx:Object(X.jsx)(ge.a.ButtonRecord,{align:"center",buttons:[{label:"Add Inherit",callback:function(){var e={type:"connector",data:null};r.inherits.push(e);var i=ve.createNode(e,n);n.children.push(i),t(i),a()}}]})})})},En=function(){var e,n=Object(l.useContext)(pl),t=n.store,a=n.setStore,r=Object(l.useContext)(ja),i=r.rootData,s=r.node,d=r.invalidate,u=r.setModify,b=r.isModify,f=r.removeSelf,p=r.setFocusNode,h=s.data,j=Object(l.useState)({value:"",errors:[]}),m=Object(o.a)(j,2),g=m[0],x=m[1],v=Object(l.useState)({value:"",errors:[]}),O=Object(o.a)(v,2),k=O[0],y=O[1],w=Object(l.useState)({value:"",errors:[]}),E=Object(o.a)(w,2),T=E[0],S=E[1],C=function(){var e=h.data;y(Object(c.a)(Object(c.a)({},k),{},{value:e.method})),S(Object(c.a)(Object(c.a)({},T),{},{value:e.depend})),x(Object(c.a)(Object(c.a)({},g),{},{value:e.id}))};Object(l.useEffect)((function(){if(null==h.data){u(!0);var e=Vt.getNumberingOnPrefixName("id_",s.parent);x(Object(c.a)(Object(c.a)({},g),{},{value:e}))}else C()}),[s]);var R="create"===k.value,F=Object(l.useMemo)((function(){return null!=Vt.getInnerNode(s,"inhfld-mng")}),[s]),I=Object(l.useMemo)((function(){return i.data.logicMng.data.defs.map((function(e){return e.data.name}))}),[s]),L=Object(l.useMemo)((function(){return Vt.getExistNameList(s)}),[s]),P=function(e){e.mngs=[],s.children=[],e.mngs.push({type:"extend-mng",data:{params:[]}}),e.mngs.push({type:"send-mng",data:{params:[]}}),R&&e.mngs.push({type:"inherit-logic",data:{mngs:Vt.getDefaultLogicMngs()}}),h.data=e,e.mngs.forEach((function(e){var n=ve.createNode(e,s);switch(n.data.type){case"inherit-logic":Vt.syncTreeElementFromWrap(n);break;case"send-mng":var t;"depend"===(null===(t=n.parent)||void 0===t?void 0:t.data).data.method&&(console.log("initSendParams"),N(n,i))}s.children.push(n)}))},N=function(e,n){var t=function(e,n){var t,a=(null===(t=e.parent)||void 0===t?void 0:t.data).data,r=n.data.logicMng.data.defs.find((function(e){return e.data.name===a.depend}));if(void 0!=r){var i=r.data.mngs[0];if("argument-mng"===i.type)return i.data.args.map((function(e){return e.data.name}))}return[]}(e,n),a=e.data.data.params,r=a.map((function(e){return e.data.name}));t.forEach((function(n){if(!r.includes(n)){var t=Vt.createParamWrap("send-item",{name:n,formulaItems:["var"],values:[{type:"direct",value:"0"}]});a.push(t),e.children.push(ve.createNode(t,e))}}))},M=null!=h.data&&(null!==(e=h.data.disable)&&void 0!==e&&e);return Object(X.jsxs)(X.Fragment,{children:[Object(X.jsx)($e.Component,{mappingForm:C,checkableFields:[g,k,T],firstRegist:function(){var e={method:k.value,depend:T.value,id:g.value,mngs:[]};P(e),d()},modifyRegist:function(){var e=h.data,n=e.method!==k.value||e.depend!==T.value;e.method=k.value,e.depend=T.value,e.id=g.value,h.data=e,n&&P(e),d()}}),Object(X.jsx)(ge.a.BorderPanel,{title:"param",innerJsx:Object(X.jsxs)(X.Fragment,{children:[Object(X.jsx)(ge.a.FormRecord,{titleLabel:"Method",jsx:Object(X.jsx)(ge.a.Combobox,{marginLeft:2,checkable:k,width:178,isReadOnly:!b,setCheckable:function(e){"create"===e.value&&S(Object(c.a)(Object(c.a)({},T),{},{value:""})),y(e)},list:wt.ConnectTypes.map((function(e){return{value:e,labelText:e}})),headBlank:!0,validates:[{checker:function(e){return He.checkRequired(e)},errorType:"required"}]})}),Object(X.jsx)(ge.a.FormRecord,{titleLabel:"Depend",isEnable:"depend"===k.value,jsx:Object(X.jsx)(ge.a.Combobox,{marginLeft:2,checkable:T,width:270,isReadOnly:!b,setCheckable:S,list:I.map((function(e){return{value:e,labelText:e}})),headBlank:!0,dependency:[k],validates:[{checker:function(e){return"depend"!==k.value||He.checkRequired(e)},errorType:"required"}]})}),Object(X.jsx)(ge.a.FormRecord,{titleLabel:"Identify",jsx:Object(X.jsx)(ge.a.TextField,{marginLeft:2,checkable:g,width:270,isReadOnly:!b,setCheckable:x,validates:[{checker:function(e){return wt.checkFieldName(e)},errorType:"value"},{checker:function(e){return He.checkStringLength(e,0,20)},errorType:"length"},{checker:function(e){return!L.includes(e)},errorType:"relation"}]})})]})}),Object(X.jsx)(ge.a.BorderPanel,{title:"element",isEnable:!b,innerJsx:Object(X.jsx)(X.Fragment,{children:Object(X.jsx)(ge.a.Record,{textAlign:"center",isEnable:!0,jsx:Object(X.jsx)(ge.a.Switch,{label:"Field",width:300,isUse:F,isEnable:!function(){var e=Vt.getInnerNode(s,"inhfld-mng");return null!=e&&e.children.length>0}(),callback:function(){var e,n;e=0,n={type:"inhfld-mng",data:{fields:[]}},F?(Vt.removeChild(s,e,1),p(Object(c.a)({},s)),d()):(Vt.insertChild(n,s,e),p(Object(c.a)({},s)),d())}})})})}),Object(X.jsx)(ge.a.BorderPanel,{title:"operation",innerJsx:Object(X.jsxs)(X.Fragment,{children:[Object(X.jsx)(ge.a.Record,{textAlign:"center",jsx:Object(X.jsx)(ge.a.Switch,{label:"Disable",width:300,isUse:M,isEnable:!b,callback:function(){var e=h.data;e.disable=!M||void 0,d()}})}),Vt.getReplicateButton(s,!b,"inherit",t,a,d),Object(X.jsx)(ge.a.ButtonRecord,{align:"center",buttons:[{label:"Edit local",isEnable:!b&&!R,callback:function(){t.system.dialog=Object(X.jsx)(Je.a.Component,{message:"Create a clone from the depended inherit logic.",buttons:[{label:"Cancel",callback:function(){t.system.dialog=null,a(Object(c.a)({},t))}},{label:"Conversion",callback:function(){var e=i.data.logicMng.data.defs.map((function(e){return e.data})).find((function(e){return e.name===T.value}));if(void 0!=e){var n={type:"inherit-logic",data:{mngs:JSON.parse(JSON.stringify(e)).mngs}},r=Vt.addChild(n,s);r.children=wt.getChildrenElementNode(r);var o=h.data;o.method="create",o.depend="",C()}t.system.dialog=null,a(Object(c.a)({},t)),d()}}]}),a(Object(c.a)({},t))}}]}),Object(X.jsx)(ge.a.ButtonRecord,{align:"center",buttons:[{label:"Detach global",isEnable:!b&&R,callback:function(){t.system.dialog=Object(X.jsx)(Je.a.Component,{message:"Detach a clone from the this inherit logic.",buttons:[{label:"Cancel",callback:function(){t.system.dialog=null,a(Object(c.a)({},t))}},{label:"Conversion",callback:function(){for(var e=s;null!=e.parent;)e=e.parent;var n=s.children.find((function(e){return"inherit-logic"===e.data.type})),r=e.children.find((function(e){return"logic-mng"===e.data.type}));if(void 0!=r&&void 0!=n){var i=n.data.data,o=JSON.parse(JSON.stringify(i)),l=Vt.getNumberingOnPrefixName("clone_inherit_",r),u=Object(c.a)(Object(c.a)({},o),{},{name:l}),b={type:"logic-item",data:u},f=Vt.addChild(b,r);f.children=wt.getChildrenElementNode(f),Vt.removeChild(s,2,1);var p=h.data;p.method="depend",p.depend=u.name,C(),t.system.dialog=null,a(Object(c.a)({},t)),d()}}}]}),a(Object(c.a)({},t))}}]}),Object(X.jsx)(ge.a.ButtonRecord,{align:"center",buttons:[{label:"Delete",isEnable:!b,callback:function(){f()}}]}),Vt.getSwapButtons(s,d)]})})]})};!function(e){var n=296;e.ConnectParentPosition=function(e){var t=Object(l.useContext)(pl),a=t.store,r=t.setStore,i=Object(l.useState)({value:"",errors:[]}),s=Object(o.a)(i,2),d=s[0],u=s[1],b=Object(l.useState)({value:"",errors:[]}),f=Object(o.a)(b,2),p=f[0],h=f[1],j=Object(l.useMemo)((function(){var n,t=Vt.getInnerWrap(null===(n=e.node.parent)||void 0===n?void 0:n.data,"inherit-logic").data;return Vt.getParamNameList(t)}),[e.node]),m=[{label:"Cancel",callback:function(){a.system.dialog=null,r(Object(c.a)({},a))}},{label:"Execute",isEnable:ge.a.checkItems([d,p]),callback:function(){Vt.addChild(Vt.createParamWrap("send-item",{name:d.value,formulaItems:["var"],values:[{type:"self",value:De.SelfParamType.POS_X}]}),e.node),Vt.addChild(Vt.createParamWrap("send-item",{name:p.value,formulaItems:["var"],values:[{type:"self",value:De.SelfParamType.POS_Y}]}),e.node);var n=Vt.getInnerNode(e.node.parent,"inherit-logic");void 0!=n.children.find((function(e){return"argument-mng"===e.data.type}))||Vt.insertChild({type:"argument-mng",data:{args:[]}},n,0);var t=n.children.find((function(e){return"argument-mng"===e.data.type}));Vt.addChild({type:"argument-item",data:{name:d.value,valueType:"number"}},t),Vt.addChild({type:"argument-item",data:{name:p.value,valueType:"number"}},t);var i=n.children.find((function(e){return"behavior-mng"===e.data.type})),o=function(e,n){var t=i.children.map((function(e){return e.data.data})).find((function(n){return n.name===e}));t.formulaItems=["var"],t.values=[{type:"argument",value:n}]};o(De.BehaviorParamType.POS_X,d.value),o(De.BehaviorParamType.POS_Y,p.value),a.system.dialog=null,r(Object(c.a)({},a)),e.invalidate()}}];return Object(X.jsxs)(An,{width:450,height:160,children:[Object(X.jsxs)(Bn,{children:[Object(X.jsx)(ge.a.Message,{message:"Please, input property name!",isCenter:!0}),Object(X.jsx)(ge.a.FormRecord,{titleLabel:"self_pos_x",jsx:Object(X.jsx)(ge.a.TextField,{marginLeft:2,checkable:d,width:n,setCheckable:u,validates:[{checker:function(e){return He.checkRequired(e)},errorType:"required"},{checker:function(e){return wt.checkFieldName(e)},errorType:"value"},{checker:function(e){return He.checkStringLength(e,0,20)},errorType:"length"},{checker:function(e){var n=j.slice();return""!==p.value&&n.push(p.value),!n.includes(e)},errorType:"relation"}],dependency:[p]})}),Object(X.jsx)(ge.a.FormRecord,{titleLabel:"self_pos_y",jsx:Object(X.jsx)(ge.a.TextField,{marginLeft:2,checkable:p,width:n,setCheckable:h,validates:[{checker:function(e){return He.checkRequired(e)},errorType:"required"},{checker:function(e){return wt.checkFieldName(e)},errorType:"value"},{checker:function(e){return He.checkStringLength(e,0,20)},errorType:"length"},{checker:function(e){var n=j.slice();return""!==d.value&&n.push(d.value),!n.includes(e)},errorType:"relation"}],dependency:[d]})})]}),Object(X.jsx)(ge.a.ButtonRecord,{align:"center",buttons:m})]})},e.SetParentPosition=function(e){var t=Object(l.useContext)(pl),a=t.store,r=t.setStore,i=Object(l.useState)({value:"",errors:[]}),s=Object(o.a)(i,2),d=s[0],u=s[1],b=Object(l.useState)({value:"",errors:[]}),f=Object(o.a)(b,2),p=f[0],h=f[1],j=Object(l.useMemo)((function(){return e.node.children.map((function(e){return e.data.data.name}))}),[]),m=[{label:"Cancel",callback:function(){a.system.dialog=null,r(Object(c.a)({},a))}},{label:"Execute",isEnable:ge.a.checkItems([d,p]),callback:function(){var n=e.node.children.map((function(e){return e.data.data})),t=n.find((function(e){return e.name===d.value})),i=n.find((function(e){return e.name===p.value}));t.formulaItems=["var"],t.values=[{type:"self",value:De.SelfParamType.POS_X}],i.formulaItems=["var"],i.values=[{type:"self",value:De.SelfParamType.POS_Y}],a.system.dialog=null,r(Object(c.a)({},a)),e.invalidate()}}];return Object(X.jsxs)(An,{width:450,height:160,children:[Object(X.jsxs)(Bn,{children:[Object(X.jsx)(ge.a.Message,{message:"Please, select property name!",isCenter:!0}),Object(X.jsx)(ge.a.FormRecord,{titleLabel:"self_pos_x",jsx:Object(X.jsx)(ge.a.Combobox,{marginLeft:2,checkable:d,width:n,setCheckable:u,validates:[{checker:function(e){return He.checkRequired(e)},errorType:"required"}],headBlank:!0,list:j.filter((function(e){return e!==p.value})).map((function(e){return{value:e,labelText:e}}))})}),Object(X.jsx)(ge.a.FormRecord,{titleLabel:"self_pos_y",jsx:Object(X.jsx)(ge.a.Combobox,{marginLeft:2,checkable:p,width:n,setCheckable:h,validates:[{checker:function(e){return He.checkRequired(e)},errorType:"required"}],headBlank:!0,list:j.filter((function(e){return e!==d.value})).map((function(e){return{value:e,labelText:e}}))})})]}),Object(X.jsx)(ge.a.ButtonRecord,{align:"center",buttons:m})]})}}(hn||(hn={}));var Tn,Sn,Cn,Rn,Fn,In,Ln,Pn,Nn,Mn,_n=hn,An=s.b.div(fn||(fn=Object(i.a)(["\n    display: inline-block;\n    position: absolute;\n    z-index: 11;\n    top: calc(50% - ","px);\n    left: calc(50% - ","px);\n    width: ","px;\n    height: ","px;\n    background-color: #e7e7e7e2;\n    border: 1px solid #8f8f8f;\n    border-radius: 4px;\n    box-shadow: 10px 15px 15px #0000004b;\n"])),(function(e){return e.height/2}),(function(e){return e.width/2}),(function(e){return e.width}),(function(e){return e.height})),Bn=s.b.div(pn||(pn=Object(i.a)(["\n    /* text-align: center; */\n    display: inline-block;\n    width: 100%;\n    background-color: #d0e7e718;\n"]))),Dn=function(){var e=Object(l.useContext)(pl),n=e.store,t=e.setStore,a=Object(l.useContext)(ja),r=(a.rootData,a.node),i=(a.setFocusNode,a.invalidate);r.data;return Object(X.jsx)(X.Fragment,{children:Object(X.jsx)(ge.a.BorderPanel,{title:"template",innerJsx:Object(X.jsxs)(X.Fragment,{children:[Object(X.jsx)(ge.a.ButtonRecord,{align:"center",buttons:[{label:"Connect Position",isEnable:!function(){var e;return"depend"===(null===(e=r.parent)||void 0===e?void 0:e.data).data.method}(),callback:function(){n.system.dialog=Object(X.jsx)(_n.ConnectParentPosition,{node:r,invalidate:i}),t(Object(c.a)({},n))}}]}),Object(X.jsx)(ge.a.ButtonRecord,{align:"center",buttons:[{label:"Set Position",callback:function(){n.system.dialog=Object(X.jsx)(_n.SetParentPosition,{node:r,invalidate:i}),t(Object(c.a)({},n))}}]})]})})})},qn=function(){var e=Object(l.useContext)(ja),n=e.invalidate,t=e.node,a=e.setFocusNode;t.data;return Object(X.jsx)(X.Fragment,{children:Object(X.jsx)(ge.a.BorderPanel,{title:"operation",innerJsx:Object(X.jsx)(ge.a.ButtonRecord,{align:"center",buttons:[{label:"Add Field",callback:function(){var e=Vt.addChild({type:"field-item",data:null},t);a(e),n()}}]})})})},zn=function(){var e=Object(l.useContext)(ja),n=e.node,t=e.setFocusNode,a=e.invalidate,r=(n.data,Object(l.useMemo)((function(){var e=n.children.map((function(e){return e.data.data.name}));return[e.includes(De.ExtendParamType.LOOP_COUNT),e.includes(De.ExtendParamType.INVOKE)]}),[n])),i=Object(o.a)(r,2),s=i[0],d=i[1];Object(l.useEffect)((function(){}),[n]);var u=function(e,r,i){e?(Vt.removeChild(n,r,1),t(Object(c.a)({},n)),a()):(Vt.insertChild(i,n,r),t(Object(c.a)({},n)),a())};return Object(X.jsx)(X.Fragment,{children:Object(X.jsx)(ge.a.BorderPanel,{title:"element",innerJsx:Object(X.jsxs)(X.Fragment,{children:[Object(X.jsx)(ge.a.Record,{textAlign:"center",jsx:Object(X.jsx)(ge.a.Switch,{label:"Loop",width:300,isUse:s,callback:function(){u(s,0,{type:"param-item",data:{name:De.ExtendParamType.LOOP_COUNT,formulaItems:["var"],values:[{type:"direct",value:"1"}]}})}})}),Object(X.jsx)(ge.a.Record,{textAlign:"center",jsx:Object(X.jsx)(ge.a.Switch,{label:"Invoke",width:300,isUse:d,callback:function(){u(d,s?1:0,{type:"condition-item",data:{name:De.ExtendParamType.INVOKE,formulaItems:["var","=","var"],values:[{type:"direct",value:"0"},{type:"direct",value:"0"}]}})}})})]})})})},Un=function(){var e=Object(l.useContext)(pl),n=e.store,t=e.setStore,a=Object(l.useContext)(ja),r=a.removeSelf,i=a.node,s=a.rootData,d=a.invalidate,u=a.setModify,b=a.isModify,f=i.data,p=Object(l.useState)({value:"",errors:[]}),h=Object(o.a)(p,2),j=h[0],m=h[1],g=Object(l.useState)({value:"",errors:[]}),x=Object(o.a)(g,2),v=x[0],O=x[1],k=Object(l.useState)({value:"",errors:[]}),y=Object(o.a)(k,2),w=y[0],E=y[1],T=function(){var e=f.data;m(Object(c.a)(Object(c.a)({},j),{},{value:e.name})),O(Object(c.a)(Object(c.a)({},v),{},{value:e.entry})),E(Object(c.a)(Object(c.a)({},w),{},{value:e.permit}))},S=Object(l.useMemo)((function(){return Vt.getExistNameList(i)}),[i]);Object(l.useEffect)((function(){null==f.data?u(!0):T()}),[i]);var C=Object(l.useMemo)((function(){return s.data.logicMng.data.defs.map((function(e){return e.data.name}))}),[i]),R=function(){var e=function(){var e=f.data,n=s.data.logicMng.data.defs.find((function(n){return n.data.name===e.entry}));if(void 0!=n){var t=n.data.mngs[0];if("argument-mng"===t.type)return t.data.args.map((function(e){return e.data.name}))}return[]}(),n=Vt.getInnerNode(i,"interface-mng","seedsend-mng"),t=n.data.data.params,a=t.map((function(e){return e.data.name}));e.forEach((function(e){if(!a.includes(e)){var n=Vt.createParamWrap("seedsend-item",{name:e,formulaItems:["var"],values:[{type:"direct",value:"0"}]});t.push(n)}})),Vt.syncTreeElementFromWrap(n)};return Object(X.jsxs)(X.Fragment,{children:[Object(X.jsx)($e.Component,{mappingForm:T,checkableFields:[j,v,w],firstRegist:function(){var e={name:j.value,entry:v.value,permit:w.value,mngs:[{type:"interface-mng",data:{mngs:[{type:"seedarg-mng",data:{args:[]}},{type:"seedsend-mng",data:{params:[]}}]}},{type:"thumbnail-mng",data:{items:[]}},{type:"sample-mng",data:{samples:[]}}]};f.data=e,Vt.syncTreeElementFromWrap(i),R(),d(),t(Object(c.a)({},n))},modifyRegist:function(){var e=f.data;e.name=j.value,e.permit=w.value,f.data=e}}),Object(X.jsx)(ge.a.BorderPanel,{title:"param",innerJsx:Object(X.jsxs)(X.Fragment,{children:[Object(X.jsx)(ge.a.FormRecord,{titleLabel:"Name",jsx:Object(X.jsx)(ge.a.TextField,{width:200,isReadOnly:!b,checkable:j,setCheckable:m,validates:[{checker:function(e){return He.checkRequired(e)},errorType:"required"},{checker:function(e){return He.checkStringLength(e,1,16)},errorType:"length"},{checker:function(e){return wt.checkFieldName(e)},errorType:"value"},{checker:function(e){return!S.includes(e)},errorType:"relation"}]})}),Object(X.jsx)(ge.a.FormRecord,{titleLabel:"Entry",jsx:Object(X.jsx)(ge.a.Combobox,{marginLeft:2,checkable:v,width:270,isReadOnly:!b,setCheckable:O,list:C.map((function(e){return{value:e,labelText:e}})),headBlank:!0,validates:[{checker:function(e){return He.checkRequired(e)},errorType:"required"}]})}),Object(X.jsx)(ge.a.FormRecord,{titleLabel:"Permit",jsx:Object(X.jsx)(ge.a.Combobox,{marginLeft:2,checkable:w,width:178,isReadOnly:!b,setCheckable:E,list:wt.PermitTypes.map((function(e){return{value:e,labelText:e}})),headBlank:!0,validates:[{checker:function(e){return He.checkRequired(e)},errorType:"required"}]})})]})}),Object(X.jsx)(ge.a.BorderPanel,{title:"operation",isEnable:!b,innerJsx:Object(X.jsxs)(X.Fragment,{children:[Vt.getReplicateButton(i,!b,"seed",n,t,d),Object(X.jsx)(ge.a.ButtonRecord,{align:"center",buttons:[{label:"Delete",callback:function(){r()}}]}),Vt.getSwapButtons(i,d)]})})]})},Vn=function(){var e=Object(l.useContext)(ja),n=e.node,t=e.setFocusNode,a=(e.invalidate,n.data.data,Object(l.useMemo)((function(){return Vt.getInnerNode(n.parent,"sample-mng").children.length>0}),[]));return Object(X.jsx)(X.Fragment,{children:Object(X.jsx)(ge.a.BorderPanel,{title:"operation",isEnable:a,innerJsx:Object(X.jsx)(ge.a.ButtonRecord,{align:"center",buttons:[{label:"Add Thumbnail",callback:function(){var e=Vt.addChild({type:"thumbnail-item",data:null},n);t(e)}}]})})})},Wn=100,Hn=function(){var e,n,t,a=Object(l.useContext)(ja),r=a.rootData,i=a.node,s=a.removeSelf,d=a.setModify,u=a.isModify,b=a.invalidate,f=i.data,p=f.data,h=null===(e=i.parent)||void 0===e||null===(n=e.parent)||void 0===n?void 0:n.data,j=(null===(t=Vt.getInnerWrap(h,"sample-mng"))||void 0===t?void 0:t.data).samples.map((function(e){return e.data})),m=Object(l.useState)({value:"",errors:[]}),g=Object(o.a)(m,2),x=g[0],v=g[1],O=Object(l.useState)({value:"",errors:[]}),k=Object(o.a)(O,2),y=k[0],w=k[1],E=Object(l.useState)([]),T=Object(o.a)(E,2),S=T[0],C=T[1],R=(Object(l.useMemo)((function(){var e,n,t=(null===(e=i.parent)||void 0===e||null===(n=e.parent)||void 0===n?void 0:n.data).data;return Vt.getParamNameList(t)}),[i]),function(){var e=f.data;v(Object(c.a)(Object(c.a)({},x),{},{value:e.name})),w(Object(c.a)(Object(c.a)({},y),{},{value:e.frame.toString()}))}),F=Object(l.useMemo)((function(){return Vt.getExistNameList(i)}),[i]);Object(l.useEffect)((function(){null==f.data?d(!0):(R(),setTimeout((function(){var e=[];j.forEach((function(n,t){e.push(L(p.frame,t))})),C(e)}),1))}),[i]);var I=function(e){var n,t,a=null===(n=Vt.getInnerWrap(h,"interface-mng","seedarg-mng"))||void 0===n?void 0:n.data,r=null===(t=Vt.getInnerWrap(h,"interface-mng","seedsend-mng"))||void 0===t?void 0:t.data,i=a.args.map((function(n,t){return{name:n.data.name,value:j[e].values[t]}})),c=r.params.map((function(e){return e.data}));return c.map((function(e){var n;return{name:e.name,value:null!==(n=Ve.convertParamsToValue(e.name,c,i))&&void 0!==n?n:0}}))},L=function(e,n){console.log("create start!");var t=[],a=0;do{if(0===a)if("break"===function(){var e,a,c=(null===(e=i.parent)||void 0===e||null===(a=e.parent)||void 0===a?void 0:a.data).data,o=r.data.logicMng.data.defs.find((function(e){return e.data.name===c.entry}));if(void 0==o)return"break";var l=I(n);t.push(new Pe.Instance(Ve.buildLogicProps(t,o.data,r,l)))}())break;if(a===e)return Fe.createURL(550,550,(function(e){t.forEach((function(n){n.draw(e)})),e.save()}));for(var c=t.length-1;c>=0;c--){t[c].update()}for(var o=t.length-1;o>=0;o--){t[o].isLive||t.splice(o,1)}if(a>500||t.length>3e3)break;a++}while(t.length>0);return""},P=Object(l.useMemo)((function(){var e,n;return(null===(e=Vt.getInnerWrap((null===(n=i.parent)||void 0===n?void 0:n.parent).data,"sample-mng"))||void 0===e?void 0:e.data).samples.map((function(e,n){var t=e.data,a=void 0==S[n]?Object(X.jsx)(X.Fragment,{}):Object(X.jsx)(Gn,{src:S[n]});return Object(X.jsxs)(Jn,{children:["-",Object(X.jsx)(Yn,{children:t.name}),Object(X.jsx)(Xn,{children:a})]},n)}))}),[i,S]);return Object(X.jsxs)(X.Fragment,{children:[Object(X.jsx)($e.Component,{mappingForm:R,checkableFields:[x,y],firstRegist:function(){var e={name:x.value,frame:Number(y.value)};f.data=e},modifyRegist:function(){var e=f.data;e.name=x.value,e.frame=Number(y.value),f.data=e}}),Object(X.jsx)(ge.a.BorderPanel,{title:"param",innerJsx:Object(X.jsxs)(X.Fragment,{children:[Object(X.jsx)(ge.a.FormRecord,{titleLabel:"Name",jsx:Object(X.jsx)(ge.a.TextField,{width:200,isReadOnly:!u,checkable:x,setCheckable:v,validates:[{checker:function(e){return He.checkRequired(e)},errorType:"required"},{checker:function(e){return He.checkStringLength(e,1,16)},errorType:"length"},{checker:function(e){return wt.checkFieldName(e)},errorType:"value"},{checker:function(e){return!F.includes(e)},errorType:"relation"}]})}),Object(X.jsx)(ge.a.FormRecord,{titleLabel:"Frame",jsx:Object(X.jsx)(ge.a.TextField,{width:100,isReadOnly:!u,isNumber:!0,checkable:y,setCheckable:w,validates:[{checker:function(e){return He.checkRequired(e)},errorType:"required"}]})})]})}),Object(X.jsx)(ge.a.BorderPanel,{title:"preview",isEnable:!u,innerJsx:Object(X.jsx)(X.Fragment,{children:P})}),Object(X.jsx)(ge.a.BorderPanel,{title:"operation",isEnable:!u,innerJsx:Object(X.jsxs)(X.Fragment,{children:[Object(X.jsx)(ge.a.ButtonRecord,{align:"center",buttons:[{label:"Delete",isEnable:!u,callback:function(){s()}}]}),Vt.getSwapButtons(i,b)]})})]})},Jn=s.b.div(Tn||(Tn=Object(i.a)(["\n    display: inline-block;\n    /* width: ","px;\n    height: ","px; */\n    margin: 0 0 0 5px;\n"])),Wn,Wn),Yn=s.b.div(Sn||(Sn=Object(i.a)(["\n    display: block;\n    color: #09056c;\n    font-size: 14px;\n    font-weight: 600;\n    font-style: italic;\n    background-color: #ffffff5e;\n"]))),Xn=s.b.div(Cn||(Cn=Object(i.a)(["\n    display: inline-block;\n    width: ","px;\n    height: ","px;\n    background-color: #020202df;\n    border: solid 2px #ca0000;\n    box-sizing: border-box;\n"])),Wn,Wn),Gn=s.b.img(Rn||(Rn=Object(i.a)(["\n    display: inline-block;\n    position: relative;\n    width: 100%;\n    height: 100%;\n"])));(Mn||(Mn={})).buildForms=function(e,n,t,a,r){var i=[],o=[];return a.forEach((function(l,s){var d=n[s],u=t.find((function(e){return e.args.includes(d.name)}));if(void 0!=u){if(o.includes(u.name))return 1;o.push(u.name);var b=[];n.forEach((function(e,n){u.args.includes(e.name)&&b.push(n)}));var f=Me.convertColorCodeFromRgba({r:Number(a[b[0]].value),g:Number(a[b[1]].value),b:Number(a[b[2]].value),a:255}).substring(0,7);i.push(Object(X.jsxs)("div",{children:[Object(X.jsx)(ge.a.Record,{jsx:Object(X.jsxs)(ct,{children:[u.name,": ",Object(X.jsx)(ot,{children:"color "}),Object(X.jsxs)(lt,{children:["(",0," \uff5e ",255," respectively)"]})]})}),Object(X.jsx)(ge.a.Record,{jsx:Object(X.jsxs)(X.Fragment,{children:[b.map((function(n,t){return Object(X.jsx)(ge.a.TextField,{width:72,marginLeft:0===t?5:4,isNumber:!0,isReadOnly:e,checkable:a[n],setCheckable:function(){r(a.slice())},validates:[{checker:function(e){return He.checkRequired(e)},errorType:"required"},{checker:function(e){return He.checkNumberRange(e,d.min,d.max)},errorType:"value"}]},n)})),Object(X.jsx)(dt,{type:"color",value:f,disabled:e,onChange:function(e){var n=Me.convertRgbaFromColorCode(e.target.value+"ff");null!=n&&(a[b[0]].value=n.r.toString(),a[b[1]].value=n.g.toString(),a[b[2]].value=n.b.toString()),r(a.slice())}})]})})]},s))}else i.push(Object(X.jsxs)("div",{children:[Object(X.jsx)(ge.a.Record,{jsx:Object(X.jsxs)(ct,{children:[d.name,": ",Object(X.jsx)(ot,{children:"number "}),Object(X.jsxs)(lt,{children:["(",d.min," \uff5e ",d.max,")"]})]})}),Object(X.jsx)(ge.a.Record,{jsx:Object(X.jsxs)(X.Fragment,{children:[Object(X.jsx)(ge.a.TextField,{width:142,marginLeft:6,isNumber:!0,isReadOnly:e,step:d.step,checkable:l,setCheckable:function(){r(a.slice())},validates:[{checker:function(e){return He.checkRequired(e)},errorType:"required"},{checker:function(e){return He.checkNumberRange(e,d.min,d.max)},errorType:"value"}]}),Object(X.jsx)(st,{type:"range",value:Number(l.value),min:d.min,max:d.max,step:d.step,disabled:e,onChange:function(e){a[s]=Object(c.a)(Object(c.a)({},l),{},{value:e.target.value}),r(a.slice())}})]})})]},s))})),i};var Kn,Qn,Zn,$n,et,nt,tt,at,rt,it=Mn,ct=s.b.div(Fn||(Fn=Object(i.a)(["\n    display: inline-block;\n    height: calc(100% - 4px);\n    margin-top: 2px;\n    font-size: ","px;\n    line-height: 32px;\n    /* font-weight: 600; */\n    border-radius: 4px;\n    padding: 0 5px;\n    /* background-color: #d37878; */\n    text-align: left;\n    vertical-align: top;\n    user-select: text;\n"])),Q.a.FONT_MIDIUM),ot=s.b.span(In||(In=Object(i.a)(["\n    color: #c10000;\n    font-weight: 600;\n"]))),lt=s.b.span(Ln||(Ln=Object(i.a)(["\n    color: #423e84fb;\n"]))),st=s.b.input(Pn||(Pn=Object(i.a)(["\n    display: inline-block;\n    vertical-align: top;\n    margin: 11px 0 0 6px;\n    width: calc(100% - 160px);\n"]))),dt=s.b.input(Nn||(Nn=Object(i.a)(["\n    display: inline-block;\n    vertical-align: top;\n    margin: 3px 0 0 6px;\n    width: 100px;\n    height: 34px;\n"]))),ut=function(){var e=Object(l.useContext)(pl),n=e.store,t=e.setStore,a=Object(l.useContext)(ja),r=a.removeSelf,i=a.node,s=(a.rootData,a.invalidate),d=a.setModify,u=a.isModify,b=i.data,f=Object(l.useState)({value:"",errors:[]}),p=Object(o.a)(f,2),h=p[0],j=p[1],m=Object(l.useState)([]),g=Object(o.a)(m,2),x=g[0],v=g[1],O=function(){var e=b.data;j(Object(c.a)(Object(c.a)({},h),{},{value:e.name})),v(e.values.map((function(e){return{value:e.toString(),errors:[]}})))},k=Object(l.useMemo)((function(){return Vt.getExistNameList(i)}),[i]),y=Object(l.useMemo)((function(){var e,n,t=Vt.getInnerWrapFixed((null===(e=i.parent)||void 0===e?void 0:e.parent).data,"interface-mng","seedarg-mng").data.args.map((function(e){return e.data})),a=[],r=Vt.getInnerWrap((null===(n=i.parent)||void 0===n?void 0:n.parent).data,"interface-mng","formgrp-mng");return null!=r&&(a=r.data.defines.map((function(e){return e.data}))),[t,a]}),[i]),w=Object(o.a)(y,2),E=w[0],T=w[1];Object(l.useEffect)((function(){null==b.data?(v(E.map((function(e){var n=" ";return void 0!=e.defval&&(n=e.defval.toString()),{value:n,errors:[]}}))),d(!0)):O()}),[i]);var S=Object(l.useMemo)((function(){return it.buildForms(!u,E,T,x,v)}),[x,u]);return Object(X.jsxs)(X.Fragment,{children:[Object(X.jsx)($e.Component,{mappingForm:O,checkableFields:[h].concat(x),firstRegist:function(){var e={name:h.value,values:[]};x.forEach((function(n,t){e.values[t]=Number(n.value)})),b.data=e,s(),t(Object(c.a)({},n))},modifyRegist:function(){var e=b.data;e.name=h.value,x.forEach((function(n,t){e.values[t]=Number(n.value)})),b.data=e}}),Object(X.jsx)(ge.a.BorderPanel,{title:"param",innerJsx:Object(X.jsxs)(X.Fragment,{children:[Object(X.jsx)(ge.a.FormRecord,{titleLabel:"Name",jsx:Object(X.jsx)(ge.a.TextField,{width:250,isReadOnly:!u,checkable:h,setCheckable:j,validates:[{checker:function(e){return He.checkRequired(e)},errorType:"required"},{checker:function(e){return He.checkStringLength(e,1,16)},errorType:"length"},{checker:function(e){return wt.checkFieldName(e)},errorType:"value"},{checker:function(e){return!k.includes(e)},errorType:"relation"}]})}),S]})}),Object(X.jsx)(ge.a.BorderPanel,{title:"operation",isEnable:!u,innerJsx:Object(X.jsxs)(X.Fragment,{children:[Vt.getReplicateButton(i,!u,"preset",n,t,s),Object(X.jsx)(ge.a.ButtonRecord,{align:"center",buttons:[{label:"Delete",callback:function(){r()}}]}),Vt.getSwapButtons(i,s)]})})]})},bt=function(){var e=Object(l.useContext)(ja),n=e.node,t=e.setFocusNode,a=n.data;return Object(X.jsx)(X.Fragment,{children:Object(X.jsx)(ge.a.BorderPanel,{title:"operation",innerJsx:Object(X.jsx)(ge.a.ButtonRecord,{align:"center",buttons:[{label:"Add Preset",callback:function(){var e={type:"sample-item",data:null};a.data.samples.push(e);var r=ve.createNode(e,n);n.children.push(r),t(r)}}]})})})},ft=function(){var e=Object(l.useContext)(pl),n=e.store,t=e.setStore,a=Object(l.useContext)(ja),r=(a.rootData,a.node),i=a.setFocusNode,s=a.invalidate,d=(r.data,Vt.getInnerNodeFixed(r,"seedarg-mng")),u=Vt.getInnerNodeFixed(r,"seedsend-mng"),b=Vt.getInnerNodeFixed(r.parent,"sample-mng"),f=Object(l.useMemo)((function(){return[r.children.map((function(e){return e.data.type})).includes("formgrp-mng")]}),[r]),p=Object(o.a)(f,1)[0],h=function(){return d.children.length>0},j=function(){h()&&(Vt.removeChildAll(d),Vt.removeChildAll(b)),u.children.forEach((function(e){var n=e.data.data;n.formulaItems=["var"],n.values=[{type:"argument",value:n.name}];var t={type:"seedarg-item",data:{name:n.name,step:1,min:-9999,max:9999,defval:0}};d.data.data.args.push(t),d.children.push(ve.createNode(t,d)),s()}))};return Object(X.jsxs)(X.Fragment,{children:[Object(X.jsx)(ge.a.BorderPanel,{title:"element",innerJsx:Object(X.jsx)(X.Fragment,{children:Object(X.jsx)(ge.a.Record,{textAlign:"center",jsx:Object(X.jsx)(ge.a.Switch,{label:"Group",width:300,isUse:p,isEnable:!function(){var e=Vt.getInnerNode(r,"formgrp-mng");return null!=e&&e.children.length>0}(),callback:function(){!function(e,n,t){e?(Vt.removeChild(r,n,1),i(Object(c.a)({},r)),s()):(Vt.insertChild(t,r,n),i(Object(c.a)({},r)),s())}(p,0,{type:"formgrp-mng",data:{defines:[]}})}})})})}),Object(X.jsx)(ge.a.BorderPanel,{title:"operation",innerJsx:Object(X.jsx)(ge.a.ButtonRecord,{align:"center",buttons:[{label:"Initialize Params",callback:function(){h()?(n.system.dialog=Object(X.jsx)(Je.a.Component,{message:"Are you sure you want to delete the existing element?",buttons:[{label:"Cancel",callback:function(){n.system.dialog=null,t(Object(c.a)({},n))}},{label:"Execute",callback:function(){j(),n.system.dialog=null,t(Object(c.a)({},n))}}]}),t(Object(c.a)({},n))):j(),s()}}]})})]})},pt=function(){var e=Object(l.useContext)(ja),n=e.node,t=e.setFocusNode,a=n.data;return Object(X.jsx)(X.Fragment,{children:Object(X.jsx)(ge.a.BorderPanel,{title:"operation",innerJsx:Object(X.jsx)(ge.a.ButtonRecord,{align:"center",buttons:[{label:"Add Argument",callback:function(){var e={type:"seedarg-item",data:null};a.data.args.push(e);var r=ve.createNode(e,n);n.children.push(r),t(r)}}]})})})},ht=function(e,n){var t=[];return Vt.getInnerWrapFixed(e.data,"interface-mng","seedsend-mng").data.params.forEach((function(e){var a=e.data;a.values.forEach((function(e){"argument"===e.type&&e.value===n&&t.push(a.name)}))})),t},jt=function(){var e,n,t=Object(l.useContext)(pl),a=t.store,r=t.setStore,i=Object(l.useContext)(ja),s=i.node,d=i.removeSelf,u=i.setModify,b=i.isModify,f=i.invalidate,p=s.data,h=Object(l.useState)({value:"",errors:[]}),j=Object(o.a)(h,2),m=j[0],g=j[1],x=Object(l.useState)({value:"",errors:[]}),v=Object(o.a)(x,2),O=v[0],k=v[1],y=Object(l.useState)({value:"",errors:[]}),w=Object(o.a)(y,2),E=w[0],T=w[1],S=Object(l.useState)({value:"1",errors:[]}),C=Object(o.a)(S,2),R=C[0],F=C[1],I=Object(l.useState)({value:"",errors:[]}),L=Object(o.a)(I,2),P=L[0],N=L[1],M=null===(e=s.parent)||void 0===e||null===(n=e.parent)||void 0===n?void 0:n.parent,_=Vt.getInnerNodeFixed(M,"sample-mng"),A=(Object(l.useMemo)((function(){var e,n,t=(null===(e=s.parent)||void 0===e||null===(n=e.parent)||void 0===n?void 0:n.data).data;return Vt.getParamNameList(t)}),[s]),function(){var e=p.data;g(Object(c.a)(Object(c.a)({},m),{},{value:e.name})),k(Object(c.a)(Object(c.a)({},O),{},{value:e.min.toString()})),T(Object(c.a)(Object(c.a)({},E),{},{value:e.max.toString()})),F(Object(c.a)(Object(c.a)({},R),{},{value:e.step.toString()})),N(Object(c.a)(Object(c.a)({},P),{},{value:void 0==e.defval?"":e.defval.toString()}))}),B=Object(l.useMemo)((function(){return Vt.getExistNameList(s)}),[s]);return Object(l.useEffect)((function(){null==p.data?u(!0):A()}),[s]),Object(X.jsxs)(X.Fragment,{children:[Object(X.jsx)($e.Component,{mappingForm:A,checkableFields:[m,O,E,R,P],firstRegist:function(){var e={name:m.value,min:Number(O.value),max:Number(E.value),step:Number(R.value),defval:""===P.value?void 0:Number(P.value)};p.data=e,gt(M,e)},modifyRegist:function(){var e=p.data,n=e.name;e.name=m.value,e.min=Number(O.value),e.max=Number(E.value),e.step=Number(R.value),e.defval=""===P.value?void 0:Number(P.value),p.data=e,n!==m.value&&mt(M,n,m.value)}}),Object(X.jsx)(ge.a.BorderPanel,{title:"param",innerJsx:Object(X.jsxs)(X.Fragment,{children:[Object(X.jsx)(ge.a.FormRecord,{titleLabel:"Name",jsx:Object(X.jsx)(ge.a.TextField,{width:200,isReadOnly:!b,checkable:m,setCheckable:g,validates:[{checker:function(e){return He.checkRequired(e)},errorType:"required"},{checker:function(e){return He.checkStringLength(e,1,16)},errorType:"length"},{checker:function(e){return wt.checkFieldName(e)},errorType:"value"},{checker:function(e){return!B.includes(e)},errorType:"relation"}]})}),Object(X.jsx)(ge.a.FormRecord,{titleLabel:"Min",jsx:Object(X.jsx)(ge.a.TextField,{width:100,isReadOnly:!b,checkable:O,setCheckable:k,isNumber:!0,dependency:[E],validates:[{checker:function(e){return He.checkRequired(e)},errorType:"required"},{checker:function(e){return Number(e)<Number(E.value)},errorType:"relation"}]})}),Object(X.jsx)(ge.a.FormRecord,{titleLabel:"Max",jsx:Object(X.jsx)(ge.a.TextField,{width:100,isReadOnly:!b,checkable:E,setCheckable:T,isNumber:!0,dependency:[O],validates:[{checker:function(e){return He.checkRequired(e)},errorType:"required"},{checker:function(e){return Number(e)>Number(O.value)},errorType:"relation"}]})}),Object(X.jsx)(ge.a.FormRecord,{titleLabel:"Step",jsx:Object(X.jsx)(ge.a.TextField,{width:100,isReadOnly:!b,checkable:R,setCheckable:F,isNumber:!0,validates:[{checker:function(e){return He.checkRequired(e)},errorType:"required"}]})}),Object(X.jsx)(ge.a.FormRecord,{titleLabel:"Default",jsx:Object(X.jsx)(ge.a.TextField,{width:100,isReadOnly:!b,checkable:P,setCheckable:N,isNumber:!0})})]})}),Object(X.jsx)(ge.a.BorderPanel,{title:"operation",isEnable:!b,innerJsx:Object(X.jsxs)(X.Fragment,{children:[Object(X.jsx)(ge.a.ButtonRecord,{align:"center",buttons:[{label:"Delete",isEnable:!b,callback:function(){var e=p.data,n=ht(M,e.name);if(0===n.length){var t=Vt.getCurrentIndex(s);if(-1===t)throw new Error("[curIndex] is -1.");xt(M,t),d()}else a.system.dialog=Object(X.jsx)(Je.a.Component,{message:"[".concat(e.name,"] is referenced in the formula.\n").concat(n)}),r(Object(c.a)({},a))}}]}),Vt.getSwapButtonsCallback(s,f,(function(e,n){var t=_.data.data,a=n?-1:1;t.samples.forEach((function(n){var t=n.data.values,r=t[e];t[e]=t[e+a],t[e+a]=r}))}))]})})]})},mt=function(e,n,t){var a=Vt.getInnerWrapFixed(e.data,"interface-mng","seedsend-mng");a.data.params.forEach((function(e){e.data.values.forEach((function(e){"argument"===e.type&&e.value===n&&(e.value=t)}))}))},gt=function(e,n){Vt.getInnerNodeFixed(e,"sample-mng").data.data.samples.forEach((function(e){var t;e.data.values.push(null!==(t=n.defval)&&void 0!==t?t:n.min)}))},xt=function(e,n){Vt.getInnerNodeFixed(e,"sample-mng").data.data.samples.forEach((function(e){e.data.values.splice(n,1)}))},vt=function(){var e=Object(l.useContext)(pl),n=(e.store,e.setStore,Object(l.useContext)(ja)),t=(n.rootData,n.node);n.setFocusNode,n.invalidate,t.data;return Object(X.jsx)(X.Fragment,{})},Ot=function(){var e=Object(l.useContext)(pl),n=(e.store,e.setStore,Object(l.useContext)(ja)),t=n.node,a=n.removeSelf,r=n.setModify,i=n.isModify,s=n.invalidate,d=t.data,u=Object(l.useState)({value:"",errors:[]}),b=Object(o.a)(u,2),f=b[0],p=b[1],h=Object(l.useState)({value:"",errors:[]}),j=Object(o.a)(h,2),m=j[0],g=j[1],x=Object(l.useState)([]),v=Object(o.a)(x,2),O=v[0],k=v[1],y=function(){var e=d.data;p(Object(c.a)(Object(c.a)({},f),{},{value:e.name})),g(Object(c.a)(Object(c.a)({},m),{},{value:e.method})),k(e.args.map((function(e){return{value:e,errors:[]}})))},w=Object(l.useMemo)((function(){return Vt.getExistNameList(t)}),[t]),E=Object(l.useMemo)((function(){var e,n;return Vt.getInnerWrapFixed(null===(e=t.parent)||void 0===e||null===(n=e.parent)||void 0===n?void 0:n.data,"seedarg-mng").data.args.map((function(e){return e.data.name}))}),[t]);return Object(l.useEffect)((function(){null==d.data?r(!0):y()}),[t]),Object(X.jsxs)(X.Fragment,{children:[Object(X.jsx)($e.Component,{mappingForm:y,checkableFields:[f,m].concat(O),firstRegist:function(){var e={name:f.value,method:m.value,args:O.map((function(e){return e.value}))};d.data=e},modifyRegist:function(){var e=d.data;e.name=f.value,e.method=m.value,e.args=O.map((function(e){return e.value})),d.data=e}}),Object(X.jsx)(ge.a.BorderPanel,{title:"param",innerJsx:Object(X.jsxs)(X.Fragment,{children:[Object(X.jsx)(ge.a.FormRecord,{titleLabel:"Name",jsx:Object(X.jsx)(ge.a.TextField,{width:200,isReadOnly:!i,checkable:f,setCheckable:p,validates:[{checker:function(e){return He.checkRequired(e)},errorType:"required"},{checker:function(e){return He.checkStringLength(e,1,16)},errorType:"length"},{checker:function(e){return wt.checkFieldName(e)},errorType:"value"},{checker:function(e){return!w.includes(e)},errorType:"relation"}]})}),Object(X.jsx)(ge.a.FormRecord,{titleLabel:"Method",jsx:Object(X.jsx)(ge.a.Combobox,{checkable:m,setCheckable:function(e){var n=e.value;k("color"===n?new Array(3).fill({value:"",errors:[]}):[]),g(Object(c.a)({},e))},list:wt.FromGrpMedhods.map((function(e){return{value:e,labelText:e,isDisabled:"list"===e}})),headBlank:!0,width:200,isReadOnly:!i,validates:[{checker:function(e){return He.checkRequired(e)},errorType:"required"}]})}),O.map((function(e,n){var t="Target_";if("color"===m.value)switch(n){case 0:t+="R";break;case 1:t+="G";break;case 2:t+="B"}else t+="_".concat(n);return Object(X.jsx)(ge.a.FormRecord,{titleLabel:t,jsx:Object(X.jsx)(ge.a.Combobox,{checkable:e,setCheckable:function(e){O[n]=e,k(O.slice())},list:E.map((function(e){return{value:e,labelText:e}})),headBlank:!0,width:250,isReadOnly:!i,validates:[{checker:function(e){return He.checkRequired(e)},errorType:"required"},{checker:function(e){return void 0==O.find((function(t,a){return n!==a&&t.value===e}))},errorType:"relation"}],dependency:O})},n)}))]})}),Object(X.jsx)(ge.a.BorderPanel,{title:"operation",isEnable:!i,innerJsx:Object(X.jsxs)(X.Fragment,{children:[Object(X.jsx)(ge.a.ButtonRecord,{align:"center",buttons:[{label:"Delete",isEnable:!i,callback:a}]}),Vt.getSwapButtons(t,s)]})})]})},kt=function(){var e=Object(l.useContext)(ja),n=e.node,t=e.setFocusNode,a=n.data;return Object(X.jsx)(X.Fragment,{children:Object(X.jsx)(ge.a.BorderPanel,{title:"operation",innerJsx:Object(X.jsx)(ge.a.ButtonRecord,{align:"center",buttons:[{label:"Add Group",callback:function(){var e={type:"formgrp-item",data:null};a.data.defines.push(e);var r=ve.createNode(e,n);n.children.push(r),t(r)}}]})})})};!function(e){e.checkFieldName=function(e){return!["0","1","2","3","4","5","6","7","8","9"].includes(e.substring(0,1))&&He.checkIncludesChars(e,"0123456789abcdefghijklmnopqrstuvwxyz_")},e.ArgTypes=["number","color"],e.ParamInputTypes=["direct","constant","argument","self","field"],e.ConnectTypes=["create","depend"],e.PermitTypes=["develop","private","release"],e.FromGrpMedhods=["color","list"];var n="#cca67b",t="#37a2bd",a="#b85f5f",r="#ae628c",i="#cec256",c=(e.getNodeDisplayJsx=function(e,c){var o=e.data;switch(o.type){case"root":return Object(X.jsx)(Et,{backgroundColor:"#a1a1a1",children:"Library"});case"seed-mng":return Object(X.jsx)(Et,{backgroundColor:n,children:"Seed Manager"});case"logic-mng":return Object(X.jsx)(Et,{backgroundColor:n,children:"Logic Manager"});case"visual-mng":return Object(X.jsx)(Et,{backgroundColor:t,children:"Visual"});case"extend-mng":return Object(X.jsx)(Et,{backgroundColor:t,children:"Extend"});case"seed-item":var l="...";if(null!=o.data)l=o.data.name;return Object(X.jsxs)(X.Fragment,{children:[Object(X.jsx)(Et,{backgroundColor:r,children:"Seed"}),Object(X.jsx)(St,{children:l})]});case"logic-item":var s="...";if(null!=o.data)s=o.data.name;return Object(X.jsxs)(X.Fragment,{children:[Object(X.jsx)(Et,{backgroundColor:r,children:"Logic"}),Object(X.jsx)(St,{children:s})]});case"inherit-logic":return Object(X.jsx)(Et,{backgroundColor:t,children:"Logic"});case"argument-mng":return Object(X.jsx)(Et,{backgroundColor:a,children:"Argument Manager"});case"inhfld-mng":case"field-mng":return Object(X.jsx)(Et,{backgroundColor:a,children:"Field Manager"});case"behavior-mng":return Object(X.jsx)(Et,{backgroundColor:t,children:"Behavior"});case"inherit-mng":return Object(X.jsx)(Et,{backgroundColor:a,children:"Inherit Manager"});case"connector":var d=Object(X.jsx)("span",{children:"..."}),u=r,b=!1;if(null!=o.data){var f,p=o.data;d=Object(X.jsxs)("span",{children:[p.id,"\xa0",Object(X.jsx)(Ct,{color:"#ffe89ba6",children:p.method})]}),"depend"===p.method&&(d=Object(X.jsxs)("span",{children:[p.id,"\xa0",Object(X.jsxs)(Ct,{color:"#ffe89ba6",children:[p.method,":\xa0"]}),Object(X.jsx)(It,{children:p.depend})]})),null!==(f=p.disable)&&void 0!==f&&f&&(u="#685b79",b=!0)}return Object(X.jsxs)(X.Fragment,{children:[Object(X.jsx)(Et,{backgroundColor:u,isDisable:b,children:"Inherit"}),void 0==d?Object(X.jsx)(X.Fragment,{}):Object(X.jsx)(St,{children:d})]});case"param-item":case"seedsend-item":case"send-item":var h=o.data,j=[],m=0;return h.formulaItems.forEach((function(e,n){var t=Object(X.jsx)(Ft,{children:e},n);if("var"===e){var a=h.values[m];t="direct"!==a.type?Object(X.jsx)(It,{children:"${".concat(a.value,"}")},n):Object(X.jsx)("span",{children:a.value},n),m++}j.push(t)})),Object(X.jsxs)(X.Fragment,{children:[Object(X.jsxs)(Et,{backgroundColor:"#8dae62",children:["Param",Object(X.jsxs)(Tt,{children:["\xa0[",h.name,"]"]})]}),Object(X.jsx)(St,{children:j})]});case"condition-item":var g=o.data,x=[],v=0;return g.formulaItems.forEach((function(e,n){var t=Object(X.jsx)(Ft,{children:e},n);if("var"===e){var a=g.values[v];t="direct"!==a.type?Object(X.jsx)(It,{children:"${".concat(a.value,"}")},n):Object(X.jsx)("span",{children:a.value},n),v++}x.push(t)})),Object(X.jsxs)(X.Fragment,{children:[Object(X.jsxs)(Et,{backgroundColor:"#56ce7e",children:["Condition",Object(X.jsxs)(Tt,{children:["\xa0[",g.name,"]"]})]}),Object(X.jsx)(St,{children:x})]});case"field-item":var O=Object(X.jsx)("span",{children:"..."}),k=Object(X.jsx)("span",{children:"..."});if(null!=o.data){var y=o.data;O=Object(X.jsxs)(Tt,{children:["\xa0[",y.name,"]"]});var w=[],E=0;y.formulaItems.forEach((function(e,n){var t=Object(X.jsx)(Ft,{children:e},n);if("var"===e){var a=y.values[E];t="direct"!==a.type?Object(X.jsx)(It,{children:"${".concat(a.value,"}")},n):Object(X.jsx)("span",{children:a.value},n),E++}w.push(t)})),k=Object(X.jsx)(X.Fragment,{children:w})}return Object(X.jsxs)(X.Fragment,{children:[Object(X.jsxs)(Et,{backgroundColor:i,children:["Field",O]}),Object(X.jsx)(St,{children:k})]});case"argument-item":var T=Object(X.jsx)("span",{children:"..."});if(null!=o.data){var S=o.data;T=Object(X.jsxs)("span",{children:[S.name,Object(X.jsxs)(Rt,{children:["\xa0(",S.valueType,")"]})]})}return Object(X.jsxs)(X.Fragment,{children:[Object(X.jsxs)(Et,{backgroundColor:i,children:["Argument",Object(X.jsx)(Tt,{})]}),Object(X.jsx)(St,{children:T})]});case"send-mng":return Object(X.jsx)(Et,{backgroundColor:t,children:"Send"});case"thumbnail-mng":return Object(X.jsx)(Et,{backgroundColor:a,children:"Thumnail Manager"});case"thumbnail-item":var C=Object(X.jsx)("span",{children:"..."});if(null!=o.data){var R=o.data;C=Object(X.jsxs)("span",{children:[R.name,Object(X.jsxs)(Rt,{children:["\xa0(",R.frame,")"]})]})}return Object(X.jsxs)(X.Fragment,{children:[Object(X.jsx)(Et,{backgroundColor:"#8283be",children:"Thumbnail"}),Object(X.jsx)(St,{children:C})]});case"sample-mng":return Object(X.jsx)(Et,{backgroundColor:a,children:"Preset Manager"});case"sample-item":var F="...";if(null!=o.data)F=o.data.name;return Object(X.jsxs)(X.Fragment,{children:[Object(X.jsx)(Et,{backgroundColor:r,children:"Preset"}),Object(X.jsx)(St,{children:F})]});case"interface-mng":return Object(X.jsx)(Et,{backgroundColor:t,children:"Interface"});case"seedarg-mng":return Object(X.jsx)(Et,{backgroundColor:a,children:"Argument Manager"});case"seedarg-item":var I=Object(X.jsx)("span",{children:"..."});if(null!=o.data){var L=o.data;I=Object(X.jsxs)("span",{children:[L.name,Object(X.jsxs)(Rt,{children:["\xa0(",L.min,"\uff5e",L.max,")"]})]})}return Object(X.jsxs)(X.Fragment,{children:[Object(X.jsxs)(Et,{backgroundColor:i,children:["Argument",Object(X.jsx)(Tt,{})]}),Object(X.jsx)(St,{children:I})]});case"seedsend-mng":return Object(X.jsx)(Et,{backgroundColor:t,children:"Send"});case"formgrp-mng":return Object(X.jsx)(Et,{backgroundColor:a,children:"Group Manager"});case"formgrp-item":var P=Object(X.jsx)("span",{children:"..."});if(null!=o.data){var N=o.data;P=Object(X.jsxs)("span",{children:[N.name,Object(X.jsxs)(Rt,{children:["\xa0(",N.method,")"]})]})}return Object(X.jsxs)(X.Fragment,{children:[Object(X.jsxs)(Et,{backgroundColor:r,children:["Group",Object(X.jsx)(Tt,{})]}),Object(X.jsx)(St,{children:P})]})}return Object(X.jsx)(Et,{backgroundColor:"#ffffff",children:"XXXXX"})},e.getTypeName=function(e){if(null==e)return"";switch(e.data.type){case"root":return"Root";case"seed-mng":return"Seed Manager";case"logic-mng":return"Logic Manager";case"seed-item":return"Seed Item";case"logic-item":return"Logic Item";case"argument-mng":return"Argument Manager";case"inhfld-mng":case"field-mng":return"Field Manager";case"field-item":return"Field Item";case"visual-mng":return"Visual Manager";case"seedarg-item":case"argument-item":return"Argument Item";case"extend-mng":return"Extend Manager";case"behavior-mng":return"Behavior Manager";case"inherit-mng":return"Inherit Manager";case"connector":return"Inherit Connector";case"inherit-logic":return"Inherit Logic";case"send-mng":return"Send Manager";case"send-item":return"Send Item";case"param-item":return"Param Item";case"condition-item":return"Condition Item";case"interface-mng":return"Interface Manager";case"thumbnail-mng":return"Thumbnail Manager";case"thumbnail-item":return"Thumbnail Item";case"sample-mng":return"Preset Manager";case"sample-item":return"Preset Item";case"seedarg-mng":return"Argument Manager";case"seedsend-mng":return"Send";case"formgrp-mng":return"Group Manager";case"formgrp-item":return"Group Item"}},e.getDetailComponent=function(e){if(null==e)return Object(X.jsx)(X.Fragment,{});switch(e.data.type){case"root":return Object(X.jsx)(X.Fragment,{});case"seed-mng":return Object(X.jsx)(on,{});case"logic-mng":return Object(X.jsx)(ln,{});case"seed-item":return Object(X.jsx)(Un,{});case"logic-item":return Object(X.jsx)(sn,{});case"argument-mng":return Object(X.jsx)(Ye,{});case"argument-item":return Object(X.jsx)(en,{});case"inhfld-mng":case"field-mng":return Object(X.jsx)(qn,{});case"visual-mng":return Object(X.jsx)(yn,{});case"extend-mng":return Object(X.jsx)(zn,{});case"behavior-mng":return Object(X.jsx)(kn,{});case"inherit-mng":return Object(X.jsx)(wn,{});case"connector":return Object(X.jsx)(En,{});case"inherit-logic":return Object(X.jsx)(sn,{});case"send-mng":return Object(X.jsx)(Dn,{});case"field-item":case"param-item":case"condition-item":case"seedsend-item":case"send-item":return Object(X.jsx)(jn,{});case"interface-mng":return Object(X.jsx)(ft,{});case"sample-mng":return Object(X.jsx)(bt,{});case"sample-item":return Object(X.jsx)(ut,{});case"thumbnail-mng":return Object(X.jsx)(Vn,{});case"thumbnail-item":return Object(X.jsx)(Hn,{});case"seedarg-mng":return Object(X.jsx)(pt,{});case"seedarg-item":return Object(X.jsx)(jt,{});case"seedsend-mng":return Object(X.jsx)(vt,{});case"formgrp-item":return Object(X.jsx)(Ot,{});case"formgrp-mng":return Object(X.jsx)(kt,{})}},e.getChildrenElementNode=function(e){var n=e.data,t=function(t){return n.data[t].map((function(n){var t=ve.createNode(n,e);return t.children=c(t),t}))};switch(n.type){case"seed-mng":case"logic-mng":return t("defs");case"seed-item":case"connector":case"inherit-logic":case"interface-mng":case"logic-item":return t("mngs");case"send-mng":case"behavior-mng":case"visual-mng":case"extend-mng":case"seedsend-mng":case"visual-mng":return t("params");case"inherit-mng":return t("inherits");case"seedarg-mng":case"argument-mng":return t("args");case"sample-mng":return t("samples");case"inhfld-mng":case"field-mng":return t("fields");case"thumbnail-mng":return t("items");case"formgrp-mng":return t("defines")}return[]}),o=e.getChildrenDataNode=function(e){var n=function(n){return e.data[n].map((function(e){return{data:e,children:o(e)}}))};switch(e.type){case"root":var t=e.data;return[{data:t.seedMng,children:o(t.seedMng)},{data:t.logicMng,children:o(t.logicMng)}];case"seed-mng":case"logic-mng":return n("defs");case"seed-item":case"connector":case"inherit-logic":case"interface-mng":case"logic-item":return n("mngs");case"send-mng":case"behavior-mng":case"visual-mng":case"extend-mng":case"seedsend-mng":case"visual-mng":return n("params");case"inherit-mng":return n("inherits");case"seedarg-mng":case"argument-mng":return n("args");case"sample-mng":return n("samples");case"inhfld-mng":case"field-mng":return n("fields");case"thumbnail-mng":return n("items");case"formgrp-mng":return n("defines")}return[]}}(rt||(rt={}));var yt,wt=rt,Et=s.b.div(Kn||(Kn=Object(i.a)(["\n    ","\n    display: inline-block;\n    position: relative;\n    background-color: ",";\n    /* width: 100%; */\n    ","\n    border-radius: 4px 0 0 4px;\n    margin: 5px 0 0 0;\n    padding: 0 10px;\n    border: solid 1px #000000d2;\n"])),Q.a.CSS_LABEL_MIDIUM,(function(e){return e.backgroundColor}),(function(e){var n;return null!==(n=e.isDisable)&&void 0!==n&&n?Object(s.a)(Qn||(Qn=Object(i.a)(["\n        text-decoration: line-through;\n        color: #00054dac;\n    "]))):""})),Tt=s.b.span(Zn||(Zn=Object(i.a)(["\n    color: #000b69bd;\n"]))),St=s.b.div($n||($n=Object(i.a)(["\n    ","\n    display: inline-block;\n    position: relative;\n    background-color: #0c0c0c;\n    color: #ebebeb;\n    border-radius: 0 4px 4px 0;\n    /* width: 100%; */\n    margin: 5px 0 0 0;\n    padding: 0 10px;\n"])),Q.a.CSS_LABEL_MIDIUM),Ct=s.b.span(et||(et=Object(i.a)(["\n    color: ",";\n"])),(function(e){return e.color})),Rt=s.b.span(nt||(nt=Object(i.a)(["\n    color: #fff9d6b9;\n"]))),Ft=s.b.span(tt||(tt=Object(i.a)(["\n    color: #ffffff78;\n"]))),It=s.b.span(at||(at=Object(i.a)(["\n    color: #ff2d2d;\n"])));!function(e){var n=e.getInnerNode=function(e){for(var n=e,t=arguments.length,a=new Array(t>1?t-1:0),r=1;r<t;r++)a[r-1]=arguments[r];return a.some((function(e){if(null==n)return 1;var t=n.children.find((function(n){return n.data.type===e}));n=void 0==t?null:t})),n},t=(e.getInnerNodeFixed=function(e){for(var t=arguments.length,a=new Array(t>1?t-1:0),r=1;r<t;r++)a[r-1]=arguments[r];var i=n.apply(void 0,[e].concat(a));if(null==i)throw new Error("[innerNode] is null.");return i},e.getInnerWrap=function(e){for(var n=e,t=arguments.length,a=new Array(t>1?t-1:0),r=1;r<t;r++)a[r-1]=arguments[r];return a.some((function(e){if(null==n)return 1;var t=l(n.type);if(null==t)n=null;else{var a=n.data["".concat(t)].find((function(n){return n.type===e}));n=void 0==a?null:a}})),n}),a=(e.getInnerWrapFixed=function(e){for(var n=arguments.length,a=new Array(n>1?n-1:0),r=1;r<n;r++)a[r-1]=arguments[r];var i=t.apply(void 0,[e].concat(a));if(null==i)throw new Error("[innerWrap] is null.");return i},e.addChild=function(e,n){return a(e,n,n.children.length)},e.insertChild=function(e,n,t){var a=n.data,r=l(a.type);a.data["".concat(r)].splice(t,0,e);var i=ve.createNode(e,n);return n.children.splice(t,0,i),i}),r=(e.removeChild=function(e,n,t){var a=e.data,r=l(a.type);a.data["".concat(r)].splice(n,t),e.children.splice(n,t)},e.removeChildAll=function(e){var n=e.data,t=l(n.type);n.data["".concat(t)].length=0,e.children.length=0},e.isHead=function(e){return null!=e.parent&&e.parent.children[0]==e},e.isTail=function(e){if(null==e.parent)return!1;var n=e.parent.children;return n[n.length-1]==e},e.getCurrentIndex=function(e){var n,t=null===(n=e.parent)||void 0===n?void 0:n.data,a=l(t.type);return null==a||null==t.data?-1:t.data[a].findIndex((function(n){return n==e.data}))}),i=function(e,n){if(null!=e.parent){var t=e.parent.children,a=e.parent.data,i=l(a.type),c=a.data["".concat(i)],o=r(e);if(-1!==o){var s=t[o];t[o]=t[o+n],t[o+n]=s;var d=c[o];c[o]=c[o+n],c[o+n]=d}}},o=(e.getSwapButtons=function(e,n){for(var t=arguments.length,a=new Array(t>2?t-2:0),r=2;r<t;r++)a[r-2]=arguments[r];return o(e,n,(function(e,n){a.length>0&&a.forEach((function(t){i(t.children[e],n?-1:1)}))}))},e.getSwapButtonsCallback=function(e,n,t){var a=r(e);return Object(X.jsxs)(X.Fragment,{children:[Object(X.jsx)(ge.a.ButtonRecord,{align:"center",buttons:[{label:"Swap \u2191",isEnable:!yt.isHead(e),callback:function(){i(e,-1),t(a,!0),n()}}]}),Object(X.jsx)(ge.a.ButtonRecord,{align:"center",buttons:[{label:"Swap \u2193",isEnable:!yt.isTail(e),callback:function(){i(e,1),t(a,!1),n()}}]})]})}),l=(e.replicateSameLevel=function(e,n){if(null!=e.parent){var t=e.data,a=t.data,r=JSON.parse(JSON.stringify(a)),i={type:t.type,data:r},c=d(t.type);i.data[c]=n;var o=yt.addChild(i,e.parent);o.children=wt.getChildrenElementNode(o)}},e.getReplicateButton=function(e,n,t,a,r,i){var o=e.data;return Object(X.jsx)(ge.a.ButtonRecord,{align:"center",buttons:[{label:"Replicate",isEnable:n,callback:function(){a.system.dialog=Object(X.jsx)(Je.a.Component,{message:"Replicate this ".concat(t,"."),buttons:[{label:"Cancel",callback:function(){a.system.dialog=null,r(Object(c.a)({},a))}},{label:"Enter",callback:function(){var n=yt.getNamableProps(o.type),t=o.data[n],l=yt.getNumberingOnPrefixName("".concat(t,"_"),e.parent);yt.replicateSameLevel(e,l),a.system.dialog=null,r(Object(c.a)({},a)),i()}}]}),r(Object(c.a)({},a))}}]})},e.getListParamName=function(e){switch(e){case"seed-mng":case"logic-mng":return"defs";case"seed-item":case"connector":case"inherit-logic":case"interface-mng":case"logic-item":return"mngs";case"send-mng":case"behavior-mng":case"visual-mng":case"extend-mng":case"seedsend-mng":case"visual-mng":return"params";case"inherit-mng":return"inherits";case"seedarg-mng":case"argument-mng":return"args";case"sample-mng":return"samples";case"inhfld-mng":case"field-mng":return"fields";case"thumbnail-mng":return"items";case"formgrp-mng":return"defines"}return null}),s=e.getIdentifyParamName=function(e){switch(e){case"argument-item":case"field-item":case"seed-item":case"thumbnail-item":case"seedarg-item":case"sample-item":case"formgrp-item":case"logic-item":return"name";case"connector":return"id"}return null},d=e.getNamableProps=function(e){switch(e){case"connector":return"id";case"seed-item":case"argument-item":case"seedarg-item":case"field-item":case"sample-item":case"thumbnail-item":case"logic-item":return"name"}throw new Error("Namable props not found.")},u=e.syncTreeElementFromWrap=function(e){var n=e.data,t=l(n.type);null!=t&&n.data[t].forEach((function(n){var t=ve.createNode(n,e);e.children.push(t),u(t)}))},b=(e.createParamWrap=function(e,n){return{type:e,data:n}},e.createParamWrapList=function(e,n){return n.map((function(n){return{type:e,data:n}}))}),f=e.createVisualParams=function(){var e=De.VisualParamType;return b("param-item",[{name:e.RADIUS,formulaItems:["var"],values:[{type:"direct",value:"20"}]},{name:e.COLOR_R,formulaItems:["var"],values:[{type:"direct",value:"255"}]},{name:e.COLOR_G,formulaItems:["var"],values:[{type:"direct",value:"255"}]},{name:e.COLOR_B,formulaItems:["var"],values:[{type:"direct",value:"255"}]},{name:e.COLOR_A,formulaItems:["var"],values:[{type:"direct",value:"255"}]}])},p=e.createBehaviorParams=function(){var e=[],n=De.BehaviorParamType;return e.push({name:n.LIMIT,formulaItems:["var"],values:[{type:"direct",value:"30"}]}),e.push({name:n.POS_X,formulaItems:["var"],values:[{type:"direct",value:"0"}]}),e.push({name:n.POS_Y,formulaItems:["var"],values:[{type:"direct",value:"0"}]}),e.push({name:n.VEC_X,formulaItems:["var"],values:[{type:"direct",value:"0"}]}),e.push({name:n.VEC_Y,formulaItems:["var"],values:[{type:"direct",value:"0"}]}),b("param-item",e)},h=(e.getDefaultLogicMngs=function(){return[{type:"visual-mng",data:{params:f()}},{type:"behavior-mng",data:{params:p()}}]},e.getInitialData=function(){return{type:"root",data:{seedMng:{type:"seed-mng",data:{defs:[]}},logicMng:{type:"logic-mng",data:{defs:[]}}}}},e.getExistNameList=function(e){var n,t=[],a=e.data,r=s(a.type),i=null===(n=e.parent)||void 0===n?void 0:n.data,c=l(i.type);if(null==c||null==r)throw Error("List param or identifiy param not found.");return i.data[c].forEach((function(e){null!=e.data&&a!=e&&t.push(e.data[r])})),t},e.getLogicNameList=function(e){var n=[];return e.defs.forEach((function(e){null!=e.data&&n.push(e.data.name)})),n},e.getParamNameList=function(e){var n=[];De.VisualParams.forEach((function(e){n.push(e)})),De.BehaviorParams.forEach((function(e){n.push(e)})),De.SelfParams.forEach((function(e){n.push(e)})),De.ExtendParams.forEach((function(e){n.push(e)})),De.EffectParams.forEach((function(e){n.push(e)})),De.ModulateParams.forEach((function(e){n.push(e)})),De.Constants.forEach((function(e){n.push(e)}));var t=e.mngs.find((function(e){return"argument-mng"===e.type}));void 0!=t&&t.data.args.forEach((function(e){null!=e.data&&n.push(e.data.name)}));var a=e.mngs.find((function(e){return"field-mng"===e.type}));void 0!=a&&a.data.fields.forEach((function(e){null!=e.data&&n.push(e.data.name)}));return n},e.getNumberingOnPrefixName=function(e,n){for(var t=0;;){if(void 0==n.children.find((function(n){var a=n.data;return null!=a.data&&(console.log(a),a.data[d(a.type)]==="".concat(e).concat(t))})))break;t++}return"".concat(e).concat(t)},e.searchVariableReferInFormula=function(e,n){var t,a,r=(null===(t=e.parent)||void 0===t?void 0:t.data).type,i=null===(a=function(){var n,t,a,i,c,o;switch(r){case"field-mng":case"argument-mng":return null===(n=e.parent)||void 0===n||null===(t=n.parent)||void 0===t?void 0:t.data;case"inhfld-mng":return null===(a=e.parent)||void 0===a||null===(i=a.parent)||void 0===i||null===(c=i.parent)||void 0===c||null===(o=c.parent)||void 0===o?void 0:o.data}}())||void 0===a?void 0:a.data;if("argument-mng"===r){var c=i.mngs.find((function(e){return"field-mng"===e.type}));void 0!=c&&n(c.data.fields)}if("inhfld-mng"!==r){var o=i.mngs.find((function(e){return"visual-mng"===e.type}));void 0!=o&&n(o.data.params);var l=i.mngs.find((function(e){return"behavior-mng"===e.type}));void 0!=l&&n(l.data.params)}var s=i.mngs.find((function(e){return"inherit-mng"===e.type}));void 0!=s&&s.data.inherits.forEach((function(e){var t,a;if("inhfld-mng"!==r){var i=yt.getInnerWrap(e,"inhfld-mng");null!=i&&n(i.data.fields)}n((null===(t=yt.getInnerWrap(e,"extend-mng"))||void 0===t?void 0:t.data).params),n((null===(a=yt.getInnerWrap(e,"send-mng"))||void 0===a?void 0:a.data).params)}))},e.findSeedWrap=function(e,n){var t=e.data.seedMng.data.defs.find((function(e){return e.data.name===n}));if(void 0==t)throw new Error;return t});e.doParticleJob=function(e,n,t){var a=h(e,n.seedId),r=a.data;t.push(new Pe.Instance(Ve.buildLogicProps(t,function(){var n;return null===(n=e.data.logicMng.data.defs.find((function(e){return e.data.name===r.entry})))||void 0===n?void 0:n.data}(),e,function(){var e=yt.getInnerWrapFixed(a,"interface-mng","seedarg-mng").data.args.map((function(e,t){return{name:e.data.name,value:n.values[t]}})),t=yt.getInnerWrapFixed(a,"interface-mng","seedsend-mng").data.params.map((function(e){return e.data}));return t.map((function(n){var a=Ve.convertParamsToValue(n.name,t,e);if(void 0==a)throw new Error("[".concat(n.name,"]\u304cSend\u306e\u30d1\u30e9\u30e1\u30fc\u30bf\u306b\u5b58\u5728\u3057\u306a\u3044\u3002"));return{name:n.name,value:a}}))}())))},e.getSeedProperties=function(e,n){var t=h(e,n),a=t.data,r=yt.getInnerWrapFixed(t,"interface-mng","seedarg-mng").data.args.map((function(e){return e.data})),i=yt.getInnerWrapFixed(t,"interface-mng","seedsend-mng").data.params.map((function(e){return e.data})),c=yt.getInnerWrapFixed(t,"thumbnail-mng").data.items.map((function(e){return e.data}));return{seed:a,logic:function(){var n;return null===(n=e.data.logicMng.data.defs.find((function(e){return e.data.name===a.entry})))||void 0===n?void 0:n.data}(),seedargList:r,seedsendList:i,thumbnailList:c}}}(yt||(yt={}));var Lt,Pt,Nt,Mt,_t,At,Bt,Dt,qt,zt,Ut,Vt=yt,Wt=function(e){var n=Object(l.useState)([]),t=Object(o.a)(n,2),a=t[0],r=t[1],i=Object(l.useMemo)((function(){var n=[],t=Vt.getInnerWrap(e.logicWrap,"argument-mng");return null!=t&&(n=t.data.args.map((function(e){return e.data.name}))),n}),[]);return Object(l.useEffect)((function(){r(i.map((function(e){return{value:e,errors:[]}})))}),[]),Object(l.useEffect)((function(){void 0==a.find((function(e){return e.errors.length>0}))?e.setSendingValueMap((function(){return a.map((function(e,n){return{name:i.map((function(e){return e}))[n],value:Number(e.value)}}))})):e.setSendingValueMap(null)}),[a]),Object(X.jsx)(X.Fragment,{children:a.map((function(e,n){var t=i[n];return Object(X.jsx)(ge.a.FormRecord,{titleLabel:t,labelWidth:250,jsx:Object(X.jsx)(ge.a.TextField,{width:312,isNumber:!0,checkable:e,setCheckable:function(){r(a.slice())},validates:[{checker:function(e){return He.checkRequired(e)},errorType:"required"}]})},n)}))})},Ht=function(e){var n=Object(l.useState)([]),t=Object(o.a)(n,2),a=t[0],r=t[1],i=Object(l.useState)({value:"",errors:[]}),c=Object(o.a)(i,2),s=c[0],d=c[1],u=Object(l.useMemo)((function(){var n=Vt.getInnerWrap(e.seedWrap,"interface-mng","formgrp-mng"),t=[];return null!=n&&(t=n.data.defines.map((function(e){return e.data}))),[t,Vt.getInnerWrapFixed(e.seedWrap,"interface-mng","seedarg-mng").data.args.map((function(e){return e.data})),Vt.getInnerWrapFixed(e.seedWrap,"sample-mng").data.samples.map((function(e){return e.data}))]}),[]),b=Object(o.a)(u,3),f=b[0],p=b[1],h=b[2];return Object(l.useEffect)((function(){r(p.map((function(e){var n="";return void 0!=e.defval&&(n=e.defval.toString()),{value:n,errors:[]}})))}),[]),Object(l.useEffect)((function(){void 0==a.find((function(e){return e.errors.length>0}))?e.setSendingValueMap((function(){var n=a.map((function(e,n){return{name:p.map((function(e){return e.name}))[n],value:Number(e.value)}})),t=Vt.getInnerWrapFixed(e.seedWrap,"interface-mng","seedsend-mng").data.params.map((function(e){return e.data}));return t.map((function(e){var a=Ve.convertParamsToValue(e.name,t,n);if(void 0==a)throw new Error("[".concat(e.name,"]\u304cSend\u306e\u30d1\u30e9\u30e1\u30fc\u30bf\u306b\u5b58\u5728\u3057\u306a\u3044\u3002"));return{name:e.name,value:a}}))})):e.setSendingValueMap(null)}),[a]),Object(X.jsxs)(X.Fragment,{children:[Object(X.jsx)(ge.a.BorderPanel,{title:"Preset",innerJsx:Object(X.jsx)(ge.a.Record,{jsx:Object(X.jsxs)(X.Fragment,{children:[Object(X.jsx)(ge.a.Combobox,{width:402,checkable:s,setCheckable:d,headBlank:!0,list:h.map((function(e,n){return{labelText:e.name,value:n.toString()}}))}),Object(X.jsx)(ge.a.ButtonItem,{button:{label:"Apply",isEnable:""!==s.value,callback:function(){var e=Number(s.value);h[e].values.forEach((function(e,n){a[n].value=e.toString()})),r(a.slice())}}})]})})}),it.buildForms(!1,p,f,a,r)]})};(Ut||(Ut={})).Component=function(e){var n=Object(l.useContext)(pl),t=n.store,a=n.setStore,r=Object(l.useRef)({}),i=Object(l.useState)([]),s=Object(o.a)(i,2),d=s[0],u=s[1],b=Object(l.useState)(-1),f=Object(o.a)(b,2),p=f[0],h=f[1],j=Object(l.useState)(0),m=Object(o.a)(j,2),g=m[0],x=m[1],v=Object(l.useState)(0),O=Object(o.a)(v,2),k=O[0],y=O[1],w=Object(l.useState)(!1),E=Object(o.a)(w,2),T=E[0],S=E[1],C=Object(l.useState)(!1),R=Object(o.a)(C,2),F=R[0],I=R[1],L=Object(l.useState)(null),P=Object(o.a)(L,2),N=P[0],M=P[1],_="seed-item"===e.master.type;Object(l.useEffect)((function(){F&&(k<p?setTimeout((function(){y(k+1)}),1e3/30):(I(!1),y(0)))}),[F,k]);var A=function(){if(null!=N){S(!0),y(0);var n=[];Ve.runParticleLogic({limitFrame:500,limitParticle:3e3,doIterate:function(t,a){0===t&&a.push(new Pe.Instance(Ve.buildLogicProps(a,function(){if(_){var n,t=e.master.data;return null===(n=e.rootData.data.logicMng.data.defs.find((function(e){return e.data.name===t.entry})))||void 0===n?void 0:n.data}return e.master.data}(),e.rootData,N))),n.push(Fe.createURL(550,550,(function(e){a.forEach((function(n){n.draw(e)})),e.globalAlpha=1,e.font="16pt Arial",e.fillStyle="#ffffff",e.fillText("".concat(t),6,24),e.fillStyle="#ffec5c",e.fillText("".concat(a.length),6,44),e.save()})))},doEnd:function(e){h(e),u(n),S(!1),x(1)}})}},B=null!=N,D=Object(X.jsxs)(ua,{children:[Object(X.jsx)(sa,{isSeed:"seed-item"===e.master.type,children:_?Object(X.jsx)(Ht,{seedWrap:e.master,setSendingValueMap:M}):Object(X.jsx)(Wt,{logicWrap:e.master,setSendingValueMap:M})}),Object(X.jsx)(ge.a.ButtonRecord,{align:"center",buttons:[{label:"Build",isEnable:B&&!T,callback:function(){A()}}]})]}),q=Object(X.jsxs)(ua,{children:[Object(X.jsx)(da,{children:0===d.length?Object(X.jsx)(X.Fragment,{}):Object(X.jsx)(pa,{src:d[k]})}),Object(X.jsx)(ba,{ref:r,onClick:function(e){if(!F){var n=e.pageX,t=r.current.getBoundingClientRect(),a=(n-(t.left+window.pageXOffset))/t.width;y(Math.floor(p*a))}},children:Object(X.jsx)(fa,{rate:100*k/p})}),Object(X.jsx)(ge.a.ButtonRecord,{align:"center",buttons:[{label:"\u2190",width:50,isEnable:!F&&k>0,callback:function(){y(k-1)}},{label:"\u2192",width:50,isEnable:!F&&k<d.length-1,callback:function(){y(k+1)}},{label:F?"Stop":"start",callback:function(){I(!F)}},{label:"reset",isEnable:!F,callback:function(){y(0)}}]})]});return Object(X.jsxs)(oa,{width:600,height:660,tabIndex:0,onKeyDown:function(e){if(0===g)B&&" "===e.key&&A();else switch(e.key){case"ArrowLeft":!F&&!F&&k>0&&y(k-1);break;case"ArrowRight":!F&&k<d.length-1&&y(k+1);break;case" ":I(!F)}F||"Escape"!==e.key||(t.system.dialog=null,a(Object(c.a)({},t)))},children:[Object(X.jsx)(la,{children:Object(X.jsx)(ue,{tabElements:[{name:"Build",enable:!0,cont:D},{name:"Play",enable:-1!==p,cont:q}],activeNo:g,selectTabIndex:function(e){return x(e)}})}),Object(X.jsx)(ha,{isEnable:!F,onClick:function(){t.system.dialog=null,a(Object(c.a)({},t))},children:"\xd7"})]})};var Jt,Yt,Xt,Gt,Kt,Qt,Zt,$t,ea,na,ta,aa,ra,ia,ca=Ut,oa=s.b.div(Lt||(Lt=Object(i.a)(["\n    display: inline-block;\n    position: absolute;\n    z-index: 11;\n    top: calc(50% - ","px);\n    left: calc(50% - ","px);\n    width: ","px;\n    height: ","px;\n    background-color: #e7e7e7e2;\n    border: 1px solid #8f8f8f;\n    border-radius: 4px;\n    box-shadow: 10px 15px 15px #0000004b;\n"])),(function(e){return e.height/2}),(function(e){return e.width/2}),(function(e){return e.width}),(function(e){return e.height})),la=s.b.div(Pt||(Pt=Object(i.a)(["\n    display: inline-block;\n    width: 100%;\n    height: 100%;\n    background-color: #4d5056df;\n"]))),sa=s.b.div(Nt||(Nt=Object(i.a)(["\n    display: inline-block;\n    width: 100%;\n    height: 580px;\n    background-color: #c5cfd6df;\n    ","\n    overflow-y: auto;\n"])),(function(e){return e.isSeed?Object(s.a)(Mt||(Mt=Object(i.a)(["\n        background-color: #c6d6c5df;\n    "]))):""})),da=s.b.div(_t||(_t=Object(i.a)(["\n    display: inline-block;\n    width: ","px;\n    height: ","px;\n    margin: 5px 0 0 20px;\n    background-color: #020202df;\n    border: solid 1px #fff;\n    box-sizing: border-box;\n"])),Ve.SCREEN_WIDTH,Ve.SCREEN_HEIGHT),ua=s.b.div(At||(At=Object(i.a)(["\n    display: inline-block;\n    width: 100%;\n    height: 100%;\n    background-color: #c5c5c5df;\n"]))),ba=s.b.div(Bt||(Bt=Object(i.a)(["\n    display: inline-block;\n    width: calc(100% - 8px);\n    height: 20px;\n    margin: 5px 0 0 4px;\n    background-color: #000000;\n    border: solid 1px #fff;\n    box-sizing: border-box;\n"]))),fa=s.b.div(Dt||(Dt=Object(i.a)(["\n    display: inline-block;\n    position: relative;\n    width: ","%;\n    height: 100%;\n    /* background-color: #2fccf3; */\n    background: linear-gradient(to bottom, #37819492, #2fccf3, #37819492);\n"])),(function(e){return e.rate})),pa=s.b.img(qt||(qt=Object(i.a)(["\n    display: inline-block;\n    position: relative;\n    width: 100%;\n    height: 100%;\n"]))),ha=s.b.div(zt||(zt=Object(i.a)(["\n    display: inline-block;\n    position: absolute;\n    top: 2px;\n    right: 4px;\n    width: 30px;\n    height: 30px;\n    z-index: 12;\n    background-color: #d5d5d5;\n    border: 1px solid #3d3d3d;\n    border-radius: 4px;\n    font-size: 18px;\n    padding-left: 8px;\n    font-weight: 600;\n    color: #3d3d3d;\n    box-sizing: border-box;\n    ","\n    &:hover {\n        background-color: #ce9595;\n    }\n"])),(function(e){return e.isEnable?"":Q.a.CSS_BUTTON_DISABLE})),ja=Object(l.createContext)({}),ma=function(){var e=Object(l.useContext)(pl),n=e.store,t=e.setStore,a=Object(l.useState)(null),r=Object(o.a)(a,2),i=r[0],s=r[1],d=Object(l.useState)(!1),u=Object(o.a)(d,2),b=u[0],f=u[1],p=Object(l.useState)(null),h=Object(o.a)(p,2),j=h[0],m=h[1],g=n.logicData,x=Object(l.useMemo)((function(){return{data:g,children:wt.getChildrenDataNode(g)}}),[g]),v=Object(l.useMemo)((function(){for(var e=i;null!=e;){var n=e.data.type;if(["logic-item","seed-item"].includes(n))return e;e=e.parent}return null}),[i]),O=function(){null!=v&&(n.system.dialog=Object(X.jsx)(ca.Component,{master:v.data,rootData:g}),t(Object(c.a)({},n)))};return Object(X.jsxs)(ga,{tabIndex:0,onKeyDown:function(e){if(!b&&null!=i)switch(e.key){case"ArrowRight":i.children.length>0&&(i.isOpen?s(i.children[0]):i.isOpen=!0,m({}));break;case"ArrowLeft":i.isOpen?i.isOpen=!1:null!=i.parent&&s(i.parent),m({});break;case"ArrowUp":if(null!=i.parent){var n=i.parent.children;n.forEach((function(e,t){if(i==e)return 0===t?(s(i.parent),m({})):(s(n[t-1]),m({})),1}))}break;case"ArrowDown":if(null!=i.parent){var t=i.parent.children;t.forEach((function(e,n){if(i==e&&n<t.length-1)return s(t[n+1]),m({}),1}))}break;case" ":null!=v&&O()}},children:[Object(X.jsxs)(xa,{children:[Object(X.jsx)(va,{children:Object(X.jsx)(ge.a.ButtonRecord,{align:"left",buttons:[{label:"Preview",isEnable:null!=v,callback:O}]})}),Object(X.jsx)(Oa,{children:Object(X.jsx)(ve.Frame,{rootDataNode:x,clickEvent:function(e){s(e)},getLabelJsx:function(e){return wt.getNodeDisplayJsx(e,(null===i||void 0===i?void 0:i.data)==e.data)},invalidate:j,focusNode:i,isDisable:b})})]}),Object(X.jsx)(ka,{children:Object(X.jsxs)(ya,{children:[Object(X.jsx)(wa,{children:Object(X.jsx)(Ea,{children:wt.getTypeName(i)})}),Object(X.jsx)(ja.Provider,{value:{rootData:g,node:i,setFocusNode:s,invalidate:function(){m({})},isModify:b,setModify:f,setRootData:function(e){n.logicData=e,t(Object(c.a)({},n))},removeSelf:function(){var e,n,t,a=i,r=-1;null===(e=a.parent)||void 0===e||e.children.forEach((function(e,n){e==a&&(r=n)})),null===(n=a.parent)||void 0===n||n.children.splice(r,1);var c=null===(t=a.parent)||void 0===t?void 0:t.data,o=Vt.getListParamName(c.type);null!=o&&(c.data[o].splice(r,1),s(a.parent),m({}))}},children:Object(X.jsx)(Ta,{children:wt.getDetailComponent(i)})})]})})]})},ga=s.b.div(Jt||(Jt=Object(i.a)(["\n    display: inline-block;\n    position: relative;\n    background-color: #6c8186;\n    width: 100%;\n    height: 100%;\n"]))),xa=s.b.div(Yt||(Yt=Object(i.a)(["\n    display: inline-block;\n    position: relative;\n    background-color: #d5d4d87b;\n    width: calc(100% - ","px);\n    height: 100%;\n    vertical-align: top;\n"])),460),va=s.b.div(Xt||(Xt=Object(i.a)(["\n    display: inline-block;\n    position: relative;\n    /* background-color: #d5d4d8; */\n    width: 100%;\n    height: 40px;\n"]))),Oa=(s.b.div(Gt||(Gt=Object(i.a)(["\n    display: inline-block;\n    width: 50%;\n"]))),s.b.div(Kt||(Kt=Object(i.a)(["\n    display: inline-block;\n    position: relative;\n    width: 100%;\n    background-color: #7fbdb47a;\n    height: calc(100% - 40px);\n"])))),ka=s.b.div(Qt||(Qt=Object(i.a)(["\n    display: inline-block;\n    /* position: relative; */\n    background-color: #9fa9b6;\n    width: ","px;\n    height: 100%;\n    vertical-align: top;\n    box-sizing: border-box;\n"])),460),ya=s.b.div(Zt||(Zt=Object(i.a)(["\n    display: inline-block;\n    /* position: relative; */\n    background-color: #c0c9c4;\n    width: calc(100% - 4px);\n    height: calc(100% - 4px);\n    margin: 2px 0 0 2px;\n"]))),wa=s.b.div($t||($t=Object(i.a)(["\n    display: inline-block;\n    /* position: relative; */\n    /* background-color: #b4b29e; */\n    width: 100%;\n    height: 40px;\n"]))),Ea=s.b.div(ea||(ea=Object(i.a)(["\n    ","\n    color: #a10000;\n    /* background-color: #bbd0d3; */\n    border: solid 1px #a10000;\n    box-sizing: border-box;\n    width: calc(100% - 20px);\n    margin: 5px 0 0 10px;\n    border-radius: 4px;\n"])),Q.a.CSS_LABEL_MIDIUM),Ta=s.b.div(na||(na=Object(i.a)(["\n    width: calc(100% - 8px);\n    height: calc(100% - 44px);\n    margin: 0 0 0 4px;\n    background-color: #cfd3cc;\n    border: solid 1px #0026a1;\n    box-sizing: border-box;\n    border-radius: 4px;\n    overflow-y: auto;\n"]))),Sa=(s.b.div(ta||(ta=Object(i.a)(["\n    display: inline-block;\n    ","\n    position: absolute;\n    left: 0;\n    top: 0;\n    z-index: 10;\n    background-color: #0012616c;\n    width: 100%;\n    height: 100%;\n"])),(function(e){return e.isVisible?"":Object(s.a)(aa||(aa=Object(i.a)(["\n        display: none;\n    "])))})),t(8)),Ca=t.n(Sa),Ra=t(12),Fa=t(10);(ia||(ia={})).Component=function(e){var n,t=Object(l.useContext)(pl),a=t.store,r=t.setStore,i=Object(l.useState)({value:"",errors:[]}),s=Object(o.a)(i,2),d=s[0],u=s[1],b=-1===e.targetSeq,f=null===(n=a.cloud)||void 0===n?void 0:n.projects;Object(l.useEffect)((function(){d.value=-1===e.targetSeq?"":f.find((function(n){return n.seq===e.targetSeq})).name,u(Object(c.a)({},d))}),[]);var p=Object(l.useMemo)((function(){return[f.map((function(e){return e.name}))]}),[]),h=Object(o.a)(p,1)[0],j=[{label:"Cancel",callback:function(){a.system.dialog=null,r(Object(c.a)({},a))}},{label:b?"Create":"Update",isEnable:0===d.errors.length,callback:function(){b?pr().then((function(e){var n,t={seq:e+1,name:d.value,source:"",lastmod:""};f.push(t),hr(null===(n=a.system.user)||void 0===n?void 0:n.seq,t).then((function(){a.system.dialog=null,r(Object(c.a)({},a))}))})):function(){var n=f.find((function(n){return n.seq===e.targetSeq}));void 0!=n&&jr(e.targetSeq,d.value).then((function(){n.name=d.value,a.system.dialog=null,r(Object(c.a)({},a))}))}()}}];return Object(X.jsxs)(mr,{width:500,height:150,children:[Object(X.jsx)(ge.a.Message,{message:"Please, input new name!",isCenter:!0,marginTop:10,marginBottom:10}),Object(X.jsx)(ge.a.FormRecord,{titleLabel:"Name",jsx:Object(X.jsx)(ge.a.TextField,{width:250,checkable:d,setCheckable:u,validates:[{checker:function(e){return He.checkRequired(e)},errorType:"required"},{checker:function(e){return He.checkStringLength(e,1,16)},errorType:"length"},{checker:function(e){return!h.includes(e)},errorType:"relation"}]})}),Object(X.jsx)(ge.a.ButtonRecord,{align:"center",buttons:j})]})};var Ia,La,Pa,Na,Ma,_a,Aa,Ba,Da,qa,za,Ua,Va,Wa,Ha,Ja,Ya,Xa,Ga,Ka,Qa,Za,$a,er,nr,tr,ar,rr,ir,cr,or,lr,sr,dr,ur,br,fr=ia,pr=function(){var e=Object(Ra.a)(Ca.a.mark((function e(){var n,t;return Ca.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Fa.a.sendQueryRequestToAPI("select","SELECT max(seq) m FROM prjcttbl");case 2:return n=e.sent,e.next=5,n.json();case 5:return t=e.sent,e.abrupt("return",t[0].m);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),hr=function(){var e=Object(Ra.a)(Ca.a.mark((function e(n,t){return Ca.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Fa.a.sendQueryRequestToAPI("update","INSERT INTO prjcttbl(seq, owner, name, source, lastmod) VALUES(".concat(t.seq,", ").concat(n,", '").concat(t.name,"', '").concat(t.source,"', datetime ('now'))"));case 2:case"end":return e.stop()}}),e)})));return function(n,t){return e.apply(this,arguments)}}(),jr=function(){var e=Object(Ra.a)(Ca.a.mark((function e(n,t){return Ca.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Fa.a.sendQueryRequestToAPI("update","update prjcttbl set name = '".concat(t,"' where seq = ").concat(n));case 2:case"end":return e.stop()}}),e)})));return function(n,t){return e.apply(this,arguments)}}(),mr=s.b.div(ra||(ra=Object(i.a)(["\n    display: inline-block;\n    position: absolute;\n    z-index: 11;\n    top: calc(50% - ","px);\n    left: calc(50% - ","px);\n    width: ","px;\n    height: ","px;\n    background-color: #e7e7e7e2;\n    border: 1px solid #8f8f8f;\n    border-radius: 4px;\n    box-shadow: 10px 15px 15px #0000004b;\n"])),(function(e){return e.height/2}),(function(e){return e.width/2}),(function(e){return e.width}),(function(e){return e.height})),gr=function(){var e,n=Object(l.useContext)(pl),t=n.store,a=n.setStore,r=Object(l.useState)(-1),i=Object(o.a)(r,2),s=i[0],d=i[1],u=null==t.cloud?[]:t.cloud.projects.map((function(e,n){var t=""!==e.source;return Object(X.jsxs)(Tr,{isFocus:n===s,onClick:function(){d(n)},children:[Object(X.jsxs)(Cr,{isExist:t,children:["[",t?"Logic":"Blank","] "]}),Object(X.jsx)(Sr,{children:e.name})]},n)})),b=null!=t.logicData,f=null===(e=t.cloud)||void 0===e?void 0:e.projects;Object(l.useEffect)((function(){null==t.cloud&&d(-1)}),[t.cloud]);var p=Object(l.useMemo)((function(){if(null==t.logicData)return[0,0,0,0,0];var e=0,n=function n(t){e++;var a=Vt.getListParamName(t.type);null!=a&&t.data[a].forEach((function(e){return n(e)}))},a=t.logicData.data;n(a.logicMng),n(a.seedMng);var r=0,i=0,c=0;a.seedMng.data.defs.forEach((function(e){switch(e.data.permit){case"develop":r++;break;case"private":i++;break;case"release":c++}}));var o=a.logicMng.data;return[e,r,i,c,o.defs.length]}),[t.logicData]),h=Object(o.a)(p,5),j=h[0],m=h[1],g=h[2],x=h[3],v=h[4];return Object(X.jsxs)(Or,{children:[Object(X.jsx)(kr,{children:Object(X.jsx)(ge.a.ButtonRecord,{align:"left",buttons:[{label:"New Project",isEnable:!b,callback:function(){t.logicData=Vt.getInitialData(),a(Object(c.a)({},t))}}]})}),Object(X.jsxs)(yr,{children:[Object(X.jsxs)(wr,{isEnable:null!=t.cloud,children:[Object(X.jsx)(ge.a.ButtonRecord,{align:"center",buttons:[{label:"Create",width:110,isEnable:!0,callback:function(){t.system.dialog=Object(X.jsx)(fr.Component,{targetSeq:-1}),a(Object(c.a)({},t))}},{label:"Upload",width:110,isEnable:-1!=s&&b,callback:function(){var e=Fa.a.gZip(JSON.stringify(t.logicData));xr(f[s].seq,e).then((function(){f[s].source=e,t.system.dialog=Object(X.jsx)(Je.a.Component,{message:"Update project succesful!"}),a(Object(c.a)({},t))}))}},{label:"Delete",width:110,isEnable:-1!=s,callback:function(){vr(f[s].seq).then((function(){t.system.dialog=Object(X.jsx)(Je.a.Component,{message:"Delete project succesful!"}),f.splice(s,1),d(s-1),a(Object(c.a)({},t))}))}},{label:"Rename",width:110,isEnable:-1!=s,callback:function(){t.system.dialog=Object(X.jsx)(fr.Component,{targetSeq:f[s].seq}),a(Object(c.a)({},t))}}]}),Object(X.jsx)(Er,{children:u}),Object(X.jsx)(ge.a.ButtonRecord,{align:"center",buttons:[{label:"Clone",isEnable:!b&&-1!==s&&""!==f[s].source,callback:function(){var e=Fa.a.unZip(f[s].source);t.logicData=JSON.parse(e),t.system.dialog=Object(X.jsx)(Je.a.Component,{message:"Clone project succesful!"}),a(Object(c.a)({},t))}}]})]}),Object(X.jsxs)(Rr,{children:[Object(X.jsx)(ge.a.ButtonRecord,{align:"center",buttons:[{label:"Load",width:100,isEnable:!b,callback:function(){Fa.a.loadFile(t,a)}},{label:null==t.fileHandle?"Save":"Overwrite",width:140,isEnable:b,callback:function(){Fa.a.saveFile(t,a)}},{label:"Disconnect",width:160,isEnable:null!=t.fileHandle,callback:function(){t.fileHandle=null,a(Object(c.a)({},t))}},{label:"Clear",width:100,isEnable:b,callback:function(){t.logicData=null,a(Object(c.a)({},t))}}]}),Object(X.jsx)(ge.a.BorderPanel,{title:"Project",isEnable:b,innerJsx:Object(X.jsxs)(X.Fragment,{children:[Object(X.jsx)(ge.a.FormRecord,{titleLabel:"Develop",jsx:Object(X.jsx)(ge.a.FixedText,{value:b?m.toString():"-"})}),Object(X.jsx)(ge.a.FormRecord,{titleLabel:"Private",jsx:Object(X.jsx)(ge.a.FixedText,{value:b?g.toString():"-"})}),Object(X.jsx)(ge.a.FormRecord,{titleLabel:"Release",jsx:Object(X.jsx)(ge.a.FixedText,{value:b?x.toString():"-"})}),Object(X.jsx)(ge.a.FormRecord,{titleLabel:"Logic",jsx:Object(X.jsx)(ge.a.FixedText,{value:b?v.toString():"-"})}),Object(X.jsx)(ge.a.FormRecord,{titleLabel:"Launcher",jsx:Object(X.jsx)(ge.a.FixedText,{value:b?v.toString():"-"})}),Object(X.jsx)(ge.a.FormRecord,{titleLabel:"Size",jsx:Object(X.jsx)(ge.a.FixedText,{value:b?j.toString():"-"})}),Object(X.jsx)(ge.a.FormRecord,{titleLabel:"Hash",jsx:Object(X.jsx)(ge.a.FixedText,{width:340,value:b?Fa.a.getSHA256Hash(JSON.stringify(t.logicData)):"-"})})]})})]})]})]})},xr=function(){var e=Object(Ra.a)(Ca.a.mark((function e(n,t){return Ca.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Fa.a.sendQueryRequestToAPI("update","update prjcttbl set source = '".concat(t,"', lastmod = datetime ('now') where seq = ").concat(n,";"));case 2:case"end":return e.stop()}}),e)})));return function(n,t){return e.apply(this,arguments)}}(),vr=function(){var e=Object(Ra.a)(Ca.a.mark((function e(n){return Ca.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Fa.a.sendQueryRequestToAPI("update","delete from prjcttbl where seq = ".concat(n,";"));case 2:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),Or=s.b.div(Ia||(Ia=Object(i.a)(["\n    display: inline-block;\n    position: relative;\n    margin: 3px 0 0 3px;\n    width: calc(100% - 6px);\n    height: calc(100% - 6px);\n    background-color: #ebebeb30;\n"]))),kr=s.b.div(La||(La=Object(i.a)(["\n    display: inline-block;\n    width: 100%;\n    height: ","px;\n    background-color: #d1f5f32f;\n"])),40),yr=s.b.div(Pa||(Pa=Object(i.a)(["\n    display: inline-block;\n    position: relative;\n    width: 100%;\n    height: calc(100% - ","px);\n    background-color: #221a212c;\n"])),40),wr=s.b.div(Na||(Na=Object(i.a)(["\n    display: inline-block;\n    width: 50%;\n    height: 100%;\n    background-color: #ffe3fb53;\n    vertical-align: top;\n    ","\n"])),(function(e){return e.isEnable?"":Q.a.CSS_BUTTON_DISABLE})),Er=s.b.div(Ma||(Ma=Object(i.a)(["\n    display: inline-block;\n    position: relative;\n    margin: 3px 0 0 3px;\n    width: calc(100% - 6px);\n    height: calc(100% - 86px);\n    box-sizing: border-box;\n    background-color: #f0ecd43d;\n    border: 1px solid #002c8a;\n    border-radius: 4px;\n"]))),Tr=s.b.div(_a||(_a=Object(i.a)(["\n    display: inline-block;\n    position: relative;\n    width: 100%;\n    height: 40px;\n    box-sizing: border-box;\n    background: linear-gradient(to Bottom, #001e4b01, #001e4b1a);\n    ","\n    border-bottom: 1px solid #002c8a;\n    box-sizing: border-box;\n    font-size: 28px;\n    font-weight: 600;\n    padding-left: 4px;\n    &:hover {\n        background: linear-gradient(to Bottom, #001e4b01, #ffffff26);\n        ","\n    }\n"])),(function(e){return e.isFocus?Object(s.a)(Aa||(Aa=Object(i.a)(["\n        background: linear-gradient(to Bottom, #001e4b01, #ffda379d);\n    "]))):""}),(function(e){return e.isFocus?Object(s.a)(Ba||(Ba=Object(i.a)(["\n            background: linear-gradient(to Bottom, #001e4b01, #fcea999d);\n        "]))):""})),Sr=s.b.span(Da||(Da=Object(i.a)(["\n    color: #005e08;\n"]))),Cr=s.b.span(qa||(qa=Object(i.a)(["\n    ","\n"])),(function(e){return e.isExist?"color: #b90000be;":Object(s.a)(za||(za=Object(i.a)(["color: #0000006d;"])))})),Rr=(s.b.span(Ua||(Ua=Object(i.a)(["\n    color: #0067977f;\n"]))),s.b.div(Va||(Va=Object(i.a)(["\n    display: inline-block;\n    width: 50%;\n    height: 100%;\n    background-color: #cbf7cd2d;\n    vertical-align: top;\n"])))),Fr=function(){var e=Object(l.useContext)(pl),n=e.store,t=(e.setStore,Object(l.useState)({value:"20",errors:[]})),a=Object(o.a)(t,2),r=a[0],i=a[1],s=Object(l.useState)({value:"0",errors:[]}),d=Object(o.a)(s,2),u=d[0],b=d[1],f=Object(l.useState)({value:"0",errors:[]}),p=Object(o.a)(f,2),h=p[0],j=p[1],m=Object(l.useState)([]),g=Object(o.a)(m,2),x=g[0],v=g[1],O=n.launchData.limitFrame,k=n.launchData.limitParticle,y=n.launchData.defList,w=n.logicData,E=Object(l.useMemo)((function(){var e=1/Number(r.value)/1;return x.map((function(n,t){var a=n/k;return Object(X.jsx)(Pr,{rate:100*a,height:100*e},t)}))}),[x]);return Object(X.jsxs)(Ir,{children:[Object(X.jsx)(ge.a.BorderPanel,{title:"Property",innerJsx:Object(X.jsxs)(X.Fragment,{children:[Object(X.jsx)(ge.a.FormRecord,{titleLabel:"Divide",jsx:Object(X.jsx)(ge.a.TextField,{width:100,isNumber:!0,checkable:r,setCheckable:i,validates:[{checker:function(e){return He.checkRequired(e)},errorType:"required"},{checker:function(e){return He.checkNumberRange(e,5,200)},errorType:"value"}]})}),Object(X.jsx)(ge.a.ButtonRecord,{align:"center",buttons:[{label:"Analysis",isEnable:0===r.errors.length&&y.length>0,callback:function(){var e=y[0].frame,n=1/Number(r.value),t=[],a=0;Ve.runParticleLogic({limitFrame:O,limitParticle:k,guaranteeFrame:e,doIterate:function(e,r){var i=y.find((function(n){return n.frame===e}));if(void 0!=i){var c=Vt.findSeedWrap(w,i.seedId),o=c.data;r.push(new Pe.Instance(Ve.buildLogicProps(r,function(){var e;return null===(e=w.data.logicMng.data.defs.find((function(e){return e.data.name===o.entry})))||void 0===e?void 0:e.data}(),w,function(){var e=Vt.getInnerWrapFixed(c,"interface-mng","seedarg-mng").data.args.map((function(e,n){return{name:e.data.name,value:i.values[n]}})),n=Vt.getInnerWrapFixed(c,"interface-mng","seedsend-mng").data.params.map((function(e){return e.data}));return n.map((function(t){var a=Ve.convertParamsToValue(t.name,n,e);if(void 0==a)throw new Error("[".concat(t.name,"]\u304cSend\u306e\u30d1\u30e9\u30e1\u30fc\u30bf\u306b\u5b58\u5728\u3057\u306a\u3044\u3002"));return{name:t.name,value:a}}))}())))}var l=e/O,s=t.length+1;l/n>=s&&t.push(r.length),r.length>a&&(a=r.length)},doEnd:function(e){j(Object(c.a)(Object(c.a)({},h),{},{value:e.toString()}))}}),b(Object(c.a)(Object(c.a)({},h),{},{value:a.toString()})),v(t)}}]})]})}),Object(X.jsx)(ge.a.BorderPanel,{title:"Result",innerJsx:Object(X.jsxs)(X.Fragment,{children:[Object(X.jsx)(ge.a.FormRecord,{titleLabel:"Peak",jsx:Object(X.jsx)(ge.a.TextField,{width:150,isNumber:!0,checkable:u,isReadOnly:!0,setCheckable:b})}),Object(X.jsx)(ge.a.FormRecord,{titleLabel:"End frame",jsx:Object(X.jsx)(ge.a.TextField,{width:150,isNumber:!0,checkable:h,isReadOnly:!0,setCheckable:j})}),Object(X.jsx)(Lr,{children:E})]})})]})},Ir=s.b.div(Wa||(Wa=Object(i.a)(["\n    display: inline-block;\n    position: relative;\n    background-color: #d1d1d1;\n    width: 100%;\n    height: 100%;\n"]))),Lr=s.b.div(Ha||(Ha=Object(i.a)(["\n    display: inline-block;\n    position: relative;\n    background-color: #000000d3;\n    width: calc(100% - 16px);\n    height: 500px;\n    margin: 4px 0 0 8px;\n"]))),Pr=s.b.div(Ja||(Ja=Object(i.a)(["\n    display: block;\n    position: relative;\n    /* background-color: #ededed77; */\n    background: linear-gradient(to bottom, #d1ceda, #b3aec2, #d1ceda);\n    width: ","%;\n    height: calc(","% - 1px);\n    margin: 1px 0 0 0;\n    /* height: 20px; */\n"])),(function(e){return e.rate}),(function(e){return e.height})),Nr=function(e){var n=Object(l.useContext)(pl),t=n.store,a=(n.setStore,Object(l.useState)({value:"",errors:[]})),r=Object(o.a)(a,2),i=r[0],s=r[1],d=Object(l.useState)({value:"",errors:[]}),u=Object(o.a)(d,2),b=u[0],f=u[1],p=Object(l.useState)([]),h=Object(o.a)(p,2),j=h[0],m=h[1],g=e.newFrame,x=e.setNewFrame,v=0===i.errors.length&&0===g.errors.length&&void 0==j.find((function(e){return e.errors.length>0})),O=function(){x(Object(c.a)(Object(c.a)({},g),{},{value:e.defBean.frame.toString()})),s(Object(c.a)(Object(c.a)({},i),{},{value:e.defBean.seedId.toString()})),m(e.defBean.values.map((function(e){return{value:e.toString(),errors:[]}})))};Object(l.useEffect)((function(){void 0!=e.defBean&&(""===e.defBean.seedId?(x(Object(c.a)(Object(c.a)({},g),{},{value:""})),s(Object(c.a)(Object(c.a)({},i),{},{value:""})),m([])):O())}),[e.defBean]);var k=Object(l.useMemo)((function(){if(""===i.value)return Object(X.jsx)(X.Fragment,{});var n=[],t=[],a=[],r=e.seedList.find((function(e){return e.name===i.value}));return void 0!=r&&(n=r.args,t=r.formgrps,a=r.presets),Object(X.jsxs)(X.Fragment,{children:[Object(X.jsx)(ge.a.BorderPanel,{title:"Preset",innerJsx:Object(X.jsx)(ge.a.Record,{jsx:Object(X.jsxs)(X.Fragment,{children:[Object(X.jsx)(ge.a.Combobox,{width:250,checkable:b,setCheckable:f,headBlank:!0,list:a.map((function(e,n){return{labelText:e.name,value:n.toString()}})),isReadOnly:!e.isModify}),Object(X.jsx)(ge.a.ButtonItem,{button:{label:"Apply",isEnable:""!==b.value,callback:function(){var e=Number(b.value);a[e].values.forEach((function(e,n){j[n].value=e.toString()})),m(j.slice())}}})]})})}),Object(X.jsx)(ge.a.BorderPanel,{title:"Properties",innerJsx:Object(X.jsx)(X.Fragment,{children:it.buildForms(!e.isModify,n,t,j,m)})})]})}),[b,j,e.isModify]);return Object(X.jsxs)(Mr,{children:[Object(X.jsx)(ge.a.ButtonRecord,{align:"center",buttons:[{label:"Cancel",isEnable:e.isModify,callback:function(){e.cancelAction(),f(Object(c.a)(Object(c.a)({},b),{},{value:""})),O()}},{label:e.isModify?"Regist":"Modify",isEnable:!e.isModify||v,callback:function(){e.modifyAction(Number(g.value),i.value,j.map((function(e){return Number(e.value)}))),f(Object(c.a)(Object(c.a)({},b),{},{value:""}))}}]}),Object(X.jsx)(ge.a.BorderPanel,{title:"Base",innerJsx:Object(X.jsxs)(X.Fragment,{children:[Object(X.jsx)(ge.a.FormRecord,{titleLabel:"Frame",jsx:Object(X.jsx)(ge.a.TextField,{width:100,isReadOnly:!e.isModify,isNumber:!0,checkable:g,setCheckable:x,validates:[{checker:function(e){return He.checkRequired(e)},errorType:"required"},{checker:function(e){return He.checkNumberRange(e,0,t.launchData.limitFrame)},errorType:"value"}]})}),Object(X.jsx)(ge.a.FormRecord,{titleLabel:"Seed",jsx:Object(X.jsx)(ge.a.Combobox,{checkable:i,setCheckable:function(n){!function(n){var t=[],a=e.seedList.find((function(e){return e.name===n}));void 0!=a&&(t=a.args),m(t.map((function(e){var n="";return void 0!=e.defval&&(n=e.defval.toString()),{value:n,errors:[]}})))}(n.value),s(Object(c.a)({},n))},list:e.seedList.map((function(e){return{value:e.name,labelText:e.name}})),headBlank:!0,width:200,isReadOnly:!e.isModify,validates:[{checker:function(e){return He.checkRequired(e)},errorType:"required"}]})})]})}),k]})},Mr=s.b.div(Ya||(Ya=Object(i.a)(["\n    display: inline-block;\n    position: relative;\n    background-color: #d1d1d1;\n    width: 100%;\n    height: 100%;\n    overflow-y: auto;\n"]))),_r=(s.b.div(Xa||(Xa=Object(i.a)(["\n    display: inline-block;\n    position: relative;\n    background-color: #dbebd6;\n    width: 100%;\n    height: 40px;\n"]))),function(e){var n=Object(l.useContext)(pl),t=n.store,a=n.setStore,r=Object(l.useState)({value:"",errors:[]}),i=Object(o.a)(r,2),s=i[0],d=i[1],u=Object(l.useState)({value:"",errors:[]}),b=Object(o.a)(u,2),f=b[0],p=b[1],h=t.launchData,j=function(){d(Object(c.a)(Object(c.a)({},s),{},{value:h.limitFrame.toString()})),p(Object(c.a)(Object(c.a)({},f),{},{value:h.limitParticle.toString()}))};Object(l.useEffect)((function(){j()}),[]);var m=0===f.errors.length&&0===s.errors.length,g=h.defList.map((function(e){return e.frame})).reduce((function(e,n){return e>n?e:n}),0);return Object(X.jsxs)(Ar,{children:[Object(X.jsx)(ge.a.ButtonRecord,{align:"center",buttons:[{label:"Cancel",isEnable:e.isModify,callback:function(){j(),e.cancelAction()}},{label:e.isModify?"Regist":"Modify",isEnable:!e.isModify||m,callback:function(){h.limitFrame=Number(s.value),h.limitParticle=Number(f.value),a(Object(c.a)({},t)),e.modifyAction()}}]}),Object(X.jsx)(ge.a.BorderPanel,{title:"Limit",innerJsx:Object(X.jsxs)(X.Fragment,{children:[Object(X.jsx)(ge.a.FormRecord,{titleLabel:"Frame",jsx:Object(X.jsx)(ge.a.TextField,{width:100,isReadOnly:!e.isModify,isNumber:!0,checkable:s,setCheckable:d,validates:[{checker:function(e){return He.checkRequired(e)},errorType:"required"},{checker:function(e){return He.checkNumberRange(e,g,1e3)},errorType:"value"}]})}),Object(X.jsx)(ge.a.FormRecord,{titleLabel:"Particle",jsx:Object(X.jsx)(ge.a.TextField,{width:100,isReadOnly:!e.isModify,isNumber:!0,checkable:f,setCheckable:p,validates:[{checker:function(e){return He.checkRequired(e)},errorType:"required"},{checker:function(e){return He.checkNumberRange(e,100,5e3)},errorType:"value"}]})})]})})]})}),Ar=s.b.div(Ga||(Ga=Object(i.a)(["\n    display: inline-block;\n    position: relative;\n    background-color: #d1d1d1;\n    width: 100%;\n    height: 100%;\n"]))),Br=10,Dr=function(e){var n=Object(l.useContext)(pl),t=n.store,a=(n.setStore,t.launchData.defList),r=t.launchData.limitFrame,i=Object(l.useRef)(null),c=Object(l.useMemo)((function(){var n=e.newFrameValue/r;return a.map((function(a,i){var c=100*(e.isModify&&e.focus===i?n:a.frame/r),o=5+13*i,l=t.launchCacheList.find((function(e){return e.seq===a.seq})).useFrame/r*100;return Object(X.jsxs)("div",{children:[e.isModify&&e.focus===i?Object(X.jsx)(Hr,{x:c}):Object(X.jsx)(X.Fragment,{}),Object(X.jsx)(Vr,{x:c,y:o,isFocus:i===e.focus}),Object(X.jsx)(Wr,{x:c,y:o,sus:l})]},i)}))}),[r,e.focus,a,e.isModify,e.newFrameValue]),o=Object(l.useMemo)((function(){for(var e=[],n=0;n<6;n++){var t=n/5,a=Math.floor(r*t);e.push(Object(X.jsx)(zr,{x:100*t,children:a},n))}return e}),[r]);return Object(X.jsxs)(X.Fragment,{children:[Object(X.jsx)(qr,{children:o}),Object(X.jsx)(Ur,{ref:i,isModify:e.isModify,onClick:function(n){if(e.isModify&&null!=i){var t=i.current.getBoundingClientRect(),a=(n.clientX-t.x)/t.width,c=Math.floor(r*a);e.setNewFrameValue(c)}},children:c})]})},qr=s.b.div(Ka||(Ka=Object(i.a)(["\n    display: inline-block;\n    position: relative;\n    background-color: #f2d9341a;\n    /* border-bottom: 3px solid #fff; */\n    box-sizing: border-box;\n    width: calc(100% - 36px);\n    height: ","px;\n    margin: 2px 0 0 18px;\n"])),40),zr=s.b.div(Qa||(Qa=Object(i.a)(["\n    display: inline-block;\n    position: absolute;\n    /* background-color: #ffffff31; */\n    width: 30px;\n    height: 20px;\n    left: calc(","% - 18px);\n    bottom: 0;\n    font-size: 16px;\n    font-weight: 600;\n    color: white;\n    text-align: center;\n"])),(function(e){return e.x})),Ur=s.b.div(Za||(Za=Object(i.a)(["\n    display: inline-block;\n    position: relative;\n    background-color: #b3d0b937;\n    /* border: 1px solid #ffffff4c; */\n    ","\n    border-radius: 2px;\n    box-sizing: border-box;\n    width: calc(100% - 36px);\n    height: calc(100% - ","px);\n    margin: 2px 0 0 18px;\n"])),(function(e){return e.isModify?Object(s.a)($a||($a=Object(i.a)(["\n        background-color: #ff000049;\n    "]))):""}),48),Vr=s.b.div(er||(er=Object(i.a)(["\n    display: inline-block;\n    position: absolute;\n    background-color: #ffffff8d;\n    ","\n    /* border: solid 1px #000000; */\n    border-radius: ","px;\n    width: ","px;\n    height: ","px;\n    left: calc(","% - ","px);\n    top: ","px;\n"])),(function(e){return e.isFocus?Object(s.a)(nr||(nr=Object(i.a)(["\n        background-color: #ffb222;\n    "]))):""}),Br,Br,Br,(function(e){return e.x}),5,(function(e){return e.y})),Wr=s.b.div(tr||(tr=Object(i.a)(["\n    display: inline-block;\n    position: absolute;\n    background-color: #bfffb324;\n    /* border: solid 1px #000000; */\n    /* border-radius: ","px; */\n    width: ","%;\n    height: ","px;\n    left: calc(","%);\n    top: calc(","px + ","px);\n"])),Br,(function(e){return e.sus}),5,(function(e){return e.x}),(function(e){return e.y}),2.5),Hr=s.b.div(ar||(ar=Object(i.a)(["\n    display: inline-block;\n    position: absolute;\n    background-color: #ff0000f0;\n    left: ","%;\n    top: 0;\n    width: 1px;\n    height: 100%;\n"])),(function(e){return e.x}));(br||(br={})).Component=function(e){var n=Object(l.useContext)(pl),t=n.store,a=n.setStore,r=Object(l.useRef)({}),i=Object(l.useState)(0),s=Object(o.a)(i,2),d=s[0],u=s[1],b=Object(l.useState)(0),f=Object(o.a)(b,2),p=f[0],h=f[1],j=Object(l.useState)(!1),m=Object(o.a)(j,2),g=m[0],x=m[1],v=e.sceens,O=e.frameCnt;Object(l.useEffect)((function(){g&&(p<O?setTimeout((function(){h(p+1)}),1e3/30):(x(!1),h(0)))}),[g,p]);var k=Object(X.jsxs)(Cc,{children:[Object(X.jsx)(Sc,{children:0===v.length?Object(X.jsx)(X.Fragment,{}):Object(X.jsx)(Ic,{src:v[p]})}),Object(X.jsx)(Rc,{ref:r,onClick:function(e){var n=e.pageX,t=r.current.getBoundingClientRect(),a=(n-(t.left+window.pageXOffset))/t.width;h(Math.floor(O*a))},children:Object(X.jsx)(Fc,{rate:100*p/O})}),Object(X.jsx)(ge.a.ButtonRecord,{align:"center",buttons:[{label:"\u2190",width:50,isEnable:!g&&p>0,callback:function(){h(p-1)}},{label:"\u2192",width:50,isEnable:!g&&p<v.length-1,callback:function(){h(p+1)}},{label:g?"Stop":"start",callback:function(){x(!g)}},{label:"reset",isEnable:!g,callback:function(){h(0)}}]})]});return Object(X.jsxs)(Ec,{width:600,height:660,tabIndex:0,onKeyDown:function(e){switch(e.key){case"ArrowLeft":!g&&!g&&p>0&&h(p-1);break;case"ArrowRight":!g&&p<v.length-1&&h(p+1);break;case" ":x(!g)}"Escape"===e.key&&(t.system.dialog=null,a(Object(c.a)({},t)))},children:[Object(X.jsx)(Tc,{children:Object(X.jsx)(ue,{tabElements:[{name:"Play",enable:!0,cont:k}],activeNo:d,selectTabIndex:function(e){return u(e)}})}),Object(X.jsx)(Lc,{isEnable:!g,onClick:function(){t.system.dialog=null,a(Object(c.a)({},t))},children:"\xd7"})]})};var Jr,Yr,Xr,Gr,Kr,Qr,Zr,$r,ei,ni,ti,ai,ri,ii,ci,oi,li,si,di,ui,bi,fi,pi,hi,ji,mi,gi,xi,vi,Oi,ki,yi,wi,Ei,Ti,Si,Ci,Ri,Fi,Ii,Li,Pi,Ni,Mi,_i,Ai,Bi,Di,qi,zi,Ui,Vi,Wi,Hi,Ji,Yi,Xi,Gi,Ki,Qi,Zi,$i,ec,nc,tc,ac,rc,ic,cc,oc,lc,sc,dc,uc,bc,fc,pc,hc,jc,mc,gc,xc,vc,Oc,kc,yc,wc=br,Ec=s.b.div(rr||(rr=Object(i.a)(["\n    display: inline-block;\n    position: absolute;\n    z-index: 11;\n    top: calc(50% - ","px);\n    left: calc(50% - ","px);\n    width: ","px;\n    height: ","px;\n    background-color: #e7e7e7e2;\n    border: 1px solid #8f8f8f;\n    border-radius: 4px;\n    box-shadow: 10px 15px 15px #0000004b;\n"])),(function(e){return e.height/2}),(function(e){return e.width/2}),(function(e){return e.width}),(function(e){return e.height})),Tc=s.b.div(ir||(ir=Object(i.a)(["\n    display: inline-block;\n    width: 100%;\n    height: 100%;\n    background-color: #4d5056df;\n"]))),Sc=s.b.div(cr||(cr=Object(i.a)(["\n    display: inline-block;\n    width: ","px;\n    height: ","px;\n    margin: 5px 0 0 20px;\n    background-color: #020202df;\n    border: solid 1px #fff;\n    box-sizing: border-box;\n"])),Ve.SCREEN_WIDTH,Ve.SCREEN_HEIGHT),Cc=s.b.div(or||(or=Object(i.a)(["\n    display: inline-block;\n    width: 100%;\n    height: 100%;\n    background-color: #aed5d8e0;\n"]))),Rc=s.b.div(lr||(lr=Object(i.a)(["\n    display: inline-block;\n    width: calc(100% - 8px);\n    height: 20px;\n    margin: 5px 0 0 4px;\n    background-color: #000000;\n    border: solid 1px #fff;\n    box-sizing: border-box;\n"]))),Fc=s.b.div(sr||(sr=Object(i.a)(["\n    display: inline-block;\n    position: relative;\n    width: ","%;\n    height: 100%;\n    /* background-color: #2fccf3; */\n    background: linear-gradient(to bottom, #37819492, #2fccf3, #37819492);\n"])),(function(e){return e.rate})),Ic=s.b.img(dr||(dr=Object(i.a)(["\n    display: inline-block;\n    position: relative;\n    width: 100%;\n    height: 100%;\n"]))),Lc=s.b.div(ur||(ur=Object(i.a)(["\n    display: inline-block;\n    position: absolute;\n    top: 2px;\n    right: 4px;\n    width: 30px;\n    height: 30px;\n    z-index: 12;\n    background-color: #d5d5d5;\n    border: 1px solid #3d3d3d;\n    border-radius: 4px;\n    font-size: 18px;\n    padding-left: 8px;\n    font-weight: 600;\n    color: #3d3d3d;\n    box-sizing: border-box;\n    ","\n    &:hover {\n        background-color: #ce9595;\n    }\n"])),(function(e){return e.isEnable?"":Q.a.CSS_BUTTON_DISABLE})),Pc=function(){var e=Object(l.useContext)(pl),n=e.store,t=e.setStore,a=n.launchData.limitFrame,r=n.launchData.limitParticle,i=Object(l.useState)({value:"",errors:[]}),s=Object(o.a)(i,2),d=s[0],u=s[1],b=Object(l.useState)(!1),f=Object(o.a)(b,2),p=f[0],h=f[1],j=Object(l.useState)(!1),m=Object(o.a)(j,2),g=m[0],x=m[1],v=Object(l.useState)(0),O=Object(o.a)(v,2),k=O[0],y=O[1],w=Object(l.useState)(-1),E=Object(o.a)(w,2),T=E[0],S=E[1],C=n.launchData.defList,R=function(e){n.launchData.defList=e,t(Object(c.a)({},n))},F=Object(l.useMemo)((function(){return null==n.logicData?[]:n.logicData.data.seedMng.data.defs.map((function(e){var n,t=e.data,a=Vt.getInnerWrapFixed(e,"interface-mng","seedarg-mng").data.args.map((function(e){return e.data})),r=Vt.getInnerWrap(e,"interface-mng","formgrp-mng"),i=[];null!=r&&(i=r.data.defines.map((function(e){return e.data})));var c=(null===(n=Vt.getInnerWrap(e,"sample-mng"))||void 0===n?void 0:n.data).samples.map((function(e){return e.data}));return{name:t.name,args:a,formgrps:i,presets:c}}))}),[n.logicData]);Object(l.useEffect)((function(){}),[C]);var I=function(){return C.map((function(e){return e.seq})).reduce((function(e,n){return e<n?n:e}),-1)+1},L=Object(l.useMemo)((function(){return C.map((function(e,t){var a=n.launchCacheList.find((function(n){return n.seq===e.seq})),r=[];return void 0!=a&&(r=a.thumbList.slice(0,3).map((function(e,n){var t=void 0==e?Object(X.jsx)(X.Fragment,{}):Object(X.jsx)(Zc,{src:e.url});return Object(X.jsxs)(Gc,{children:["-",Object(X.jsx)(Kc,{children:e.name}),Object(X.jsx)(Qc,{children:t})]},n)}))),Object(X.jsx)(Uc,{isEnable:!p||T===t,children:Object(X.jsx)(Vc,{isFocus:t===T,onClick:function(){S(t)},children:""===e.seedId?Object(X.jsx)(Wc,{children:"Creating..."}):Object(X.jsxs)(X.Fragment,{children:[Object(X.jsx)(Jc,{children:e.frame}),Object(X.jsx)(Yc,{children:e.seedId}),Object(X.jsx)(Xc,{children:r}),e.values.map((function(n,t){var a=F.find((function(n){return n.name===e.seedId})).args[t].name;return Object(X.jsxs)(Wc,{children:[Object(X.jsxs)(Hc,{children:[a,": "]}),n]},t)}))]})})},t)}))}),[C,T,p]),P=function(e,i){var o=n.logicData;i.thumbList=[],i.useFrame=0;var l=Vt.getSeedProperties(o,e.seedId);Ve.runParticleLogic({limitFrame:a,limitParticle:r,doIterate:function(n,t){0===n&&Vt.doParticleJob(o,e,t);var a=l.thumbnailList.find((function(e){return e.frame===n}));if(void 0!=a){var r=Fe.createURL(550,550,(function(e){t.forEach((function(n){n.draw(e)})),e.save()}));i.thumbList.push({name:a.name,url:r})}},doEnd:function(e){i.useFrame=e}}),t(Object(c.a)({},n))},N=0!==C.length&&""===C[C.length-1].seedId;return Object(X.jsxs)(Nc,{tabIndex:0,children:[Object(X.jsxs)(Mc,{children:[Object(X.jsx)(_c,{children:Object(X.jsx)(ge.a.ButtonRecord,{align:"left",buttons:[{label:"Preview All",isEnable:!p,callback:function(){var e=C[0].frame,i=n.logicData,o=[],l=0;console.log(a),Ve.runParticleLogic({limitFrame:a,limitParticle:r,guaranteeFrame:e,doIterate:function(e,n){C.some((function(t){if(t.frame===e)Vt.doParticleJob(i,t,n);else if(t.frame>e)return 1})),o.push(Fe.createURL(550,550,(function(e){n.forEach((function(n){n.draw(e)})),e.save()})))},doEnd:function(e){l=e}}),n.system.dialog=Object(X.jsx)(wc.Component,{sceens:o,frameCnt:l}),t(Object(c.a)({},n))}}]})}),Object(X.jsx)(_c,{children:Object(X.jsx)(ge.a.ButtonRecord,{align:"left",buttons:[{label:"Add",isEnable:!p,callback:function(){var e=I();C.push({seq:e,frame:0,seedId:"",values:[]}),R(C.slice()),S(C.length-1),n.launchCacheList.push({seq:e,thumbList:[],useFrame:0}),y(2),h(!0)}},{label:"Delete",isEnable:!p&&-1!=T,callback:function(){C.splice(T,1),R(C.slice()),T>0?S(T-1):0===T&&0===C.length&&(S(-1),y(0))}},{label:"Replicate",isEnable:!p&&-1!=T,callback:function(){var e=JSON.parse(JSON.stringify(C[T])),a=I();e.seq=a,C.splice(T,0,e),R(C.slice()),S(T+1);var r={seq:a,thumbList:[],useFrame:0};P(e,r),n.launchCacheList.push(r),t(Object(c.a)({},n))}},{label:"Preview Solo",isEnable:!p&&-1!=T,callback:function(){var e=n.logicData,i=[],o=0;Ve.runParticleLogic({limitFrame:a,limitParticle:r,doIterate:function(n,t){var a=C[T];0===n&&Vt.doParticleJob(e,a,t),i.push(Fe.createURL(550,550,(function(e){t.forEach((function(n){n.draw(e)})),e.save()})))},doEnd:function(e){o=e}}),n.system.dialog=Object(X.jsx)(wc.Component,{sceens:i,frameCnt:o}),t(Object(c.a)({},n))}}]})}),Object(X.jsxs)(Ac,{children:[Object(X.jsx)(Bc,{children:Object(X.jsx)(Dr,{newFrameValue:Number(d.value),setNewFrameValue:function(e){u(Object(c.a)(Object(c.a)({},d),{},{value:e.toString()}))},isModify:p,focus:T,seedList:F})}),Object(X.jsx)(Dc,{children:L})]})]}),Object(X.jsx)(qc,{children:Object(X.jsx)(zc,{children:Object(X.jsx)(ue,{tabElements:[{name:"Environment",enable:!p,cont:Object(X.jsx)(_r,{isModify:g,cancelAction:function(){x(!1)},modifyAction:function(){x(!g)}})},{name:"Analysis",enable:!p&&!g,cont:Object(X.jsx)(Fr,{})},{name:"Property",enable:!g&&-1!=T,cont:Object(X.jsx)(Nr,{newFrame:d,setNewFrame:u,defBean:C[T],seedList:F,isModify:p,cancelAction:function(){h(!1),N&&(C.splice(C.length-1,1),R(C.slice()),S(T-1),0===C.length&&y(0))},modifyAction:function(e,t,a){if(p){var r=C[T];r.frame=e,r.seedId=t,r.values=a;var i=r.seq,c=n.launchCacheList.find((function(e){return e.seq===i}));P(r,c),C.sort((function(e,n){return e.frame-n.frame})),R(C.slice()),S(C.findIndex((function(e){return e.seq===i}))),h(!1)}else h(!0)}})}],selectTabIndex:y,activeNo:k})})})]})},Nc=s.b.div(Jr||(Jr=Object(i.a)(["\n    display: inline-block;\n    position: relative;\n    background-color: #1e1c22;\n    width: 100%;\n    height: 100%;\n"]))),Mc=s.b.div(Yr||(Yr=Object(i.a)(["\n    display: inline-block;\n    position: relative;\n    /* background-color: #653fd6; */\n    width: calc(100% - ","px);\n    height: 100%;\n    vertical-align: top;\n"])),460),_c=s.b.div(Xr||(Xr=Object(i.a)(["\n    display: inline-block;\n    position: relative;\n    background-color: #d5d4d8;\n    width: 100%;\n    height: ","px;\n"])),40),Ac=s.b.div(Gr||(Gr=Object(i.a)(["\n    display: inline-block;\n    position: relative;\n    vertical-align: top;\n    width: 100%;\n    height: calc(100% - ","px);\n"])),80),Bc=s.b.div(Kr||(Kr=Object(i.a)(["\n    display: inline-block;\n    position: relative;\n    background-color: #00071b;\n    vertical-align: top;\n    width: 100%;\n    height: ","px;\n"])),240),Dc=s.b.div(Qr||(Qr=Object(i.a)(["\n    display: inline-block;\n    position: relative;\n    /* background-color: #c551b6; */\n    vertical-align: top;\n    width: 100%;\n    height: calc(100% - ","px);\n    overflow-x: auto;\n    white-space: nowrap;\n"])),240),qc=s.b.div(Zr||(Zr=Object(i.a)(["\n    display: inline-block;\n    /* position: relative; */\n    background-color: #c1c0c4;\n    width: ","px;\n    height: 100%;\n    vertical-align: top;\n    box-sizing: border-box;\n"])),460),zc=s.b.div($r||($r=Object(i.a)(["\n    display: inline-block;\n    position: relative;\n    width: calc(100% - 8px);\n    height: calc(100% - 8px);\n    margin: 4px 0 0 4px;\n"]))),Uc=(s.b.div(ei||(ei=Object(i.a)(["\n    display: inline-block;\n    /* position: relative; */\n    background-color: #c0c9c4;\n    width: calc(100% - 4px);\n    height: calc(100% - 4px);\n    margin: 2px 0 0 2px;\n"]))),s.b.div(ni||(ni=Object(i.a)(["\n    display: inline-block;\n    ","\n    position: absolute;\n    left: 0;\n    top: 0;\n    z-index: 10;\n    background-color: #0012616c;\n    width: 100%;\n    height: 100%;\n"])),(function(e){return e.isVisible?"":Object(s.a)(ti||(ti=Object(i.a)(["\n        display: none;\n    "])))})),s.b.div(ai||(ai=Object(i.a)(["\n    display: inline-block;\n    width: 630px;\n    /* height: 400px; */\n    background-color: #a3a3a3;\n    /* opacity: 0.9; */\n    overflow: hidden;\n"]))),s.b.div(ri||(ri=Object(i.a)(["\n    display: inline-block;\n    position: relative;\n    /* background-color: #bcb7ca; */\n    background: linear-gradient(to right, #3a383d, #8d8999, #3a383d);\n    vertical-align: top;\n    width: 220px;\n    height: 100%;\n    /* margin-left: 1px; */\n    ","\n    &:hover {\n    background: linear-gradient(to right, #66626b, #b7b2c7, #66626b);\n    }\n"])),(function(e){return e.isEnable?"":Q.a.CSS_BUTTON_DISABLE}))),Vc=s.b.div(ii||(ii=Object(i.a)(["\n    display: inline-block;\n    position: relative;\n    background-color: #8997bd29;\n    ","\n    border: 1px solid #2c3577;\n    border-radius: 2px;\n    width: calc(100% - 4px);\n    height: calc(100% - 4px);\n    margin: 2px 0 0 2px;\n    box-sizing: border-box;\n    overflow-y: hidden;\n"])),(function(e){return e.isFocus?Object(s.a)(ci||(ci=Object(i.a)(["\n        background-color: #d7eb7d83;\n    "]))):""})),Wc=s.b.div(oi||(oi=Object(i.a)(["\n    display: block;\n    position: relative;\n    /* background-color: #bcb7ca; */\n    width: 100%;\n    /* margin-top: 1px; */\n    height: 24px;\n    /* background: linear-gradient(to bottom, #aaaaaa89, #e1e1e18a, #aaaaaa89); */\n    /* font-size: 20px; */\n    font-size: 16px;\n    font-weight: 600;\n    color: #555555;\n    font-style: italic;\n    line-height: 22px;\n    padding: 0 0 0 4px;\n    box-sizing: border-box;\n"]))),Hc=s.b.span(li||(li=Object(i.a)(["\n    color: #f00;\n"]))),Jc=s.b.div(si||(si=Object(i.a)(["\n    display: block;\n    position: relative;\n    /* background-color: #bcb7ca; */\n    width: 100%;\n    height: 35px;\n    font-size: 26px;\n    font-weight: 600;\n    color: #132693;\n    font-style: italic;\n    line-height: 34px;\n    /* padding: 0 0 0 4px; */\n    box-sizing: border-box;\n    text-align: center;\n"]))),Yc=s.b.div(di||(di=Object(i.a)(["\n    display: block;\n    position: relative;\n    /* background-color: #bcb7ca; */\n    width: 100%;\n    height: 35px;\n    font-size: 26px;\n    font-style: italic;\n    font-weight: 600;\n    color: #ffffff;\n    line-height: 34px;\n    /* padding: 0 0 0 4px; */\n    box-sizing: border-box;\n    text-align: center;\n"]))),Xc=s.b.div(ui||(ui=Object(i.a)(["\n    display: inline-block;\n    /* background-color: #4b09ff; */\n    width: 100%;\n"]))),Gc=s.b.div(bi||(bi=Object(i.a)(["\n    display: inline-block;\n    /* width: ","px;\n    height: ","px; */\n    margin: 0 0 0 5px;\n"])),65,65),Kc=s.b.div(fi||(fi=Object(i.a)(["\n    display: block;\n    color: #09056c;\n    font-size: 14px;\n    font-weight: 600;\n    font-style: italic;\n    background-color: #ffffff5e;\n"]))),Qc=s.b.div(pi||(pi=Object(i.a)(["\n    display: inline-block;\n    position: relative;\n    width: ","px;\n    height: ","px;\n    background-color: #020202df;\n    border: solid 2px #ca0000;\n    box-sizing: border-box;\n"])),65,65),Zc=s.b.img(hi||(hi=Object(i.a)(["\n    display: inline-block;\n    position: relative;\n    width: 100%;\n    height: 100%;\n"]))),$c=function(){var e=Object(l.useContext)(pl),n=e.store,t=(e.setStore,null!=n.logicData);return Object(X.jsx)(eo,{children:Object(X.jsx)(ue,{tabElements:[{name:"Manage",enable:!0,cont:Object(X.jsx)(gr,{})},{name:"Launcher",enable:t,cont:Object(X.jsx)(Pc,{})},{name:"Library",enable:t,cont:Object(X.jsx)(ma,{})}],activeNo:0})})},eo=s.b.div(ji||(ji=Object(i.a)(["\n    display: inline-block;\n    position: relative;\n    margin: ","px 0 0 ","px;\n    width: calc(100% - ","px);\n    height: calc(100% - ","px);\n    background-color: transparent;\n    /* background-color: #c3d8dd6f; */\n    /* border: solid 1px black;\n    border-radius: 5px; */\n    /* box-shadow: 0 2px 14px 4px #000b3a48; */\n"])),8,8,16,16),no=function(e){var n=Object(l.useContext)(pl);n.store,n.setStore,Fa.a.getDecryptionedScoreSeq(e.hashKey);return Object(l.useEffect)((function(){}),[]),Object(X.jsx)(de.a,{to:"/"})},to=function(e){var n=Object(l.useContext)(pl);n.store,n.setStore;return Object(l.useEffect)((function(){var n=Fa.a.getDecryptionedUserSeq(e.hashKey);console.log(n),Fa.a.findUserInfoFromSeq(n).then((function(e){if(console.log(e),e.length>0)e[0]}))}),[]),Object(X.jsx)(de.a,{to:"/"})},ao=function(e){var n=Object(l.useContext)(pl),t=n.store,a=n.setStore,r=Object(l.useState)([]),i=Object(o.a)(r,2),s=i[0],d=i[1];Object(l.useEffect)((function(){ro().then((function(n){var t=[];n.forEach((function(e){var n=e.name,a=e.owner,r=e.lastmod,i=JSON.parse(Fa.a.unZip(e.source)),c=i.data.seedMng.data.defs.filter((function(e){return"release"===e.data.permit})).map((function(e){var n=e.data,t=Vt.getInnerWrapFixed(e,"interface-mng","seedarg-mng").data.args.length;return{name:n.name,argCount:t,master:e}}));t.push({name:n,ownerId:a,lastmod:r,rootData:i,seedList:c,isOpen:!1})})),d(t),e.setLibCnt(t.length)}))}),[]);var u=s.filter((function(e){return e.seedList.length>0})).map((function(e,n){var r=e.isOpen?e.seedList.length:0;return Object(X.jsxs)(co,{count:r,children:[Object(X.jsxs)(oo,{onClick:function(){},children:[Object(X.jsx)(uo,{children:"".concat(e.ownerId)}),Object(X.jsx)(bo,{children:"".concat(e.name)}),Object(X.jsx)(fo,{children:e.lastmod})]}),Object(X.jsx)(lo,{count:r,children:e.seedList.map((function(n,r){return Object(X.jsx)(ho,{onClick:function(){t.system.dialog=Object(X.jsx)(ca.Component,{master:n.master,rootData:e.rootData}),a(Object(c.a)({},t))},children:Object(X.jsxs)(jo,{children:[Object(X.jsx)(mo,{children:n.name}),Object(X.jsx)(go,{children:" [".concat(n.argCount," arguments]")})]})},r)}))}),Object(X.jsx)(so,{onClick:function(){s[n].isOpen=!s[n].isOpen,d(s.slice())},children:Object(X.jsx)(po,{children:" ".concat(e.seedList.length," seeds \u25bc")})})]},n)}));return Object(X.jsx)(io,{children:u})},ro=function(){var e=Object(Ra.a)(Ca.a.mark((function e(){var n,t;return Ca.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Fa.a.sendQueryRequestToAPI("select","\n        SELECT name, seq, (select id from user_tbl where seq = prj.owner) as owner, source, lastmod\n        FROM prjcttbl prj\n        WHERE source <> ''\n        ORDER BY lastmod desc\n    ");case 2:return n=e.sent,e.next=5,n.json();case 5:return t=e.sent,e.abrupt("return",t);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),io=s.b.div(mi||(mi=Object(i.a)(["\n    display: inline-block;\n    position: relative;\n    width: calc(100% - 8px);\n    height: calc(100% - 48px);\n    margin: 4px 0 0 4px;\n    background-color: #929292;\n    border: 1px solid #e60000;\n    border-radius: 4px;\n    box-sizing: border-box;\n    overflow-y: auto;\n"]))),co=s.b.div(gi||(gi=Object(i.a)(["\n    display: inline-block;\n    position: relative;\n    width: 100%;\n    height: ","px;\n    /* border-bottom: 1px solid #262626; */\n    /* background-color: #2e2e2e; */\n    /* background: linear-gradient(to bottom, transparent, #4f4f4f); */\n    margin: 2px 0 0 0;\n    /* padding: 0 0 0 4px; */\n    box-sizing: border-box;\n    /* padding-left: 4px; */\n    /* &:hover {\n        background: linear-gradient(to bottom, transparent, #ffffff5c);\n    } */\n    transition: height 200ms;\n"])),(function(e){return 89+(e.count>0?8:0)+40*e.count})),oo=s.b.div(xi||(xi=Object(i.a)(["\n    display: inline-block;\n    position: relative;\n    width: calc(100%);\n    height: 60px;\n    /* background-color: #c9e3df; */\n    background: linear-gradient(to bottom, #c2d5d2, #d9ebe9, #c2d5d2);\n    /* margin: 4px 0 0 4px; */\n    padding: 0 0 0 4px;\n    box-sizing: border-box;\n    /* padding-left: 4px; */\n    /* &:hover {\n        background: linear-gradient(to bottom, transparent, #ffffff);\n    } */\n"]))),lo=s.b.div(vi||(vi=Object(i.a)(["\n    display: inline-block;\n    position: relative;\n    width: calc(100% - 40px);\n    height: ","px;\n    background-color: #9cc0b1;\n    border-radius: 0 0 2px 2px;\n    margin: 0 0 0 20px;\n    /* padding: 0 0 0 4px; */\n    box-sizing: border-box;\n    text-align: center;\n    transition: height 200ms;\n    overflow-y: hidden;\n"])),(function(e){return(e.count>0?8:0)+40*e.count})),so=s.b.div(Oi||(Oi=Object(i.a)(["\n    display: inline-block;\n    position: relative;\n    width: calc(100% - 240px);\n    height: 25px;\n    margin: 0 0 0 120px;\n    background-color: #9cc0b1;\n    border-radius: 0 0 2px 2px;\n    /* padding: 0 0 0 4px; */\n    box-sizing: border-box;\n    text-align: center;\n    \n    &:hover {\n        background-color: #c6d1a1;\n    }\n"]))),uo=s.b.div(ki||(ki=Object(i.a)(["\n    display: inline-block;\n    width: 100%;\n    height: 20px;\n    line-height: 21px;\n    font-size: 18px;\n    font-weight: 600;\n    color: #c9494f;\n    overflow: hidden;\n    white-space: nowrap;\n"]))),bo=s.b.div(yi||(yi=Object(i.a)(["\n    display: inline-block;\n    width: calc(100% - 250px);\n    height: 35px;\n    font-size: 24px;\n    line-height: 36px;\n    font-weight: 600;\n    color: #47417c;\n    /* background-color: #f8f8e8; */\n    overflow: hidden;\n    white-space: nowrap;\n"]))),fo=s.b.div(wi||(wi=Object(i.a)(["\n    display: inline-block;\n    width: 250px;\n    height: 35px;\n    font-size: 24px;\n    line-height: 36px;\n    font-weight: 600;\n    color: #417c49;\n    /* background-color: #f8f8e8; */\n    overflow: hidden;\n    white-space: nowrap;\n"]))),po=s.b.div(Ei||(Ei=Object(i.a)(["\n    display: inline-block;\n    height: 25px;\n    font-size: 22px;\n    line-height: 22px;\n    font-weight: 600;\n    color: #fffffad6;\n    /* background-color: #f8f8e8; */\n    overflow: hidden;\n    white-space: nowrap;\n"]))),ho=s.b.div(Ti||(Ti=Object(i.a)(["\n    display: inline-block;\n    position: relative;\n    width: 100%;\n    height: ","px;\n    /* background-color: #a3b9c0; */\n    margin: 2px 0 0 0;\n    /* padding-left: 4px; */\n    text-align: left;\n"])),40),jo=s.b.div(Si||(Si=Object(i.a)(["\n    display: inline-block;\n    position: relative;\n    width: calc(100% - 4px);\n    height: calc(100% - 2px);\n    margin: 1px 0 0 2px;\n    border: 1px solid #0000002e;\n    box-sizing: border-box;\n    font-size: 28px;\n    line-height: 29px;\n    font-weight: 600;\n    padding: 0 0 0 5px;\n    &:hover {\n        background-color: #bbd4dc;\n    }\n"]))),mo=s.b.span(Ci||(Ci=Object(i.a)(["\n    color: #000f74;\n"]))),go=s.b.span(Ri||(Ri=Object(i.a)(["\n    color: #c7020265;\n"]))),xo=function(){Object(l.useContext)(pl).store;var e=Object(l.useState)([]),n=Object(o.a)(e,2),t=n[0],a=n[1];return Object(l.useEffect)((function(){fetch("assets/release_note.json").then((function(e){return e.json()})).then((function(e){a(e.map((function(e,n){var t=e.note.split("\n").map((function(e,n){return Object(X.jsxs)("span",{children:[e,Object(X.jsx)("br",{})]},n)}));return Object(X.jsxs)(Oo,{children:[Object(X.jsxs)(ko,{children:["v",e.version," (",e.date,")"]}),Object(X.jsx)(yo,{children:t})]},n)})))}))}),[]),Object(X.jsx)(vo,{children:t})},vo=s.b.div(Fi||(Fi=Object(i.a)(["\n    display: inline-block;\n    width: calc(100% - 8px);\n    /* height: calc(100% - ","px); */\n    height: calc(100% - 48px);\n    margin: 4px 0 0 4px;\n    background-color: #d3d3c5;\n    border: 1px solid #e60000;\n    border-radius: 4px;\n    box-sizing: border-box;\n    overflow-y: auto;\n"])),490),Oo=s.b.div(Ii||(Ii=Object(i.a)(["\n    display: inline-block;\n    width: calc(100% - 8px);\n    margin: 4px 0 0 4px;\n    background-color: #bfcace;\n    border: 1px solid #9b9b9b;\n    border-radius: 6px;\n"]))),ko=s.b.div(Li||(Li=Object(i.a)(["\n    display: inline-block;\n    width: calc(100% - 8px);\n    height: 20px;\n    font-size: ","px;\n    margin: 2px 0 0 4px;\n    font-weight: 600;\n    /* background-color: #8bdbf8; */\n    color: #494975;\n"])),Q.a.FONT_SMALL),yo=s.b.div(Pi||(Pi=Object(i.a)(["\n    display: inline-block;\n    width: calc(100% - 8px);\n    font-size: ","px;\n    margin: 2px 0 0 4px;\n    /* background-color: #dafce4; */\n    color: #754949;\n"])),Q.a.FONT_SMALL),wo=function(){var e=Object(l.useContext)(pl),n=(e.store,e.setStore,Object(l.useState)(0)),t=Object(o.a)(n,2),a=t[0],r=t[1],i=Object(l.useState)(0),c=Object(o.a)(i,2),s=c[0],d=c[1];return Object(l.useEffect)((function(){Eo().then((function(e){r(e)}))}),[]),Object(X.jsxs)(To,{children:[Object(X.jsxs)(So,{children:[Object(X.jsxs)(Co,{children:[a," users have created accounts."]}),Object(X.jsx)(xo,{})]}),Object(X.jsxs)(Ro,{children:[Object(X.jsxs)(Co,{children:[s," projects have been published."]}),Object(X.jsx)(ao,{setLibCnt:d})]})]})},Eo=function(){var e=Object(Ra.a)(Ca.a.mark((function e(){var n,t;return Ca.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Fa.a.sendQueryRequestToAPI("select","SELECT count(*) cnt FROM user_tbl");case 2:return n=e.sent,e.next=5,n.json();case 5:return t=e.sent,e.abrupt("return",t[0].cnt);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),To=s.b.div(Ni||(Ni=Object(i.a)(["\n    display: inline-block;\n    width: calc(100% - 8px);\n    height: calc(100% - 8px);\n    margin: 4px 0 0 4px;\n    background-color: #ccc;\n"]))),So=s.b.div(Mi||(Mi=Object(i.a)(["\n    display: inline-block;\n    width: 50%;\n    height: 100%;\n    background-color: #bbcac7;\n"]))),Co=s.b.div(_i||(_i=Object(i.a)(["\n    display: inline-block;\n    width: 100%;\n    height: 40px;\n    font-size: 22px;\n    font-weight: 600;\n    color: #cd0202;\n    background-color: #ffffff3d;\n    padding: 0 0 0 10px;\n    box-sizing: border-box;\n"]))),Ro=s.b.div(Ai||(Ai=Object(i.a)(["\n    display: inline-block;\n    width: 50%;\n    height: 100%;\n    background-color: #bbbfca;\n    vertical-align: top;\n"]))),Fo=function(){var e=Object(l.useContext)(pl);e.store,e.setStore;return Object(X.jsx)(se.a,{basename:"/pa_app/v1.4.1",children:Object(X.jsx)(Io,{})})},Io=function(){var e=Object(l.useContext)(pl),n=(e.store,e.setStore,new URLSearchParams(Object(de.g)().search).get("v"));return Object(X.jsxs)(de.d,{children:[Object(X.jsx)(de.b,{path:"/",exact:!0,children:Object(X.jsx)(Lo,{children:Object(X.jsx)(Z,{tabElements:[{name:"Home",icon:Object(X.jsx)(oe.a,{}),isEnable:!0,cont:Object(X.jsx)(wo,{})},{name:"Create",icon:Object(X.jsx)(le.a,{}),isEnable:!0,cont:Object(X.jsx)($c,{})}],activeNo:0})})}),Object(X.jsx)(de.b,{path:"/test",exact:!0,children:Object(X.jsx)(Lo,{})}),Object(X.jsx)(de.b,{path:"/preview",exact:!0,children:Object(X.jsx)(no,{hashKey:n})}),Object(X.jsx)(de.b,{path:"/user",exact:!0,children:Object(X.jsx)(to,{hashKey:n})})]})},Lo=s.b.div(Bi||(Bi=Object(i.a)(["\n    display: inline-block;\n    position: relative;\n    margin: ","px 0 0 ","px;\n    width: calc(100% - ","px);\n    height: calc(100% - ","px);\n    background-color: transparent;\n    /* background-color: #c3d8dd6f; */\n    /* border: solid 1px black;\n    border-radius: 5px; */\n    /* box-shadow: 0 2px 14px 4px #000b3a48; */\n"])),15,15,30,30),Po=function(e){var n=Object(l.useState)(!1),t=Object(o.a)(n,2),a=t[0],r=t[1],i=Object(l.useState)(),c=Object(o.a)(i,2),s=c[0],d=c[1];return Object(l.useEffect)((function(){d(setTimeout((function(){r(!0)}),3e3))}),[]),Object(l.useEffect)((function(){a&&setTimeout((function(){e.remove()}),500)}),[a]),Object(X.jsx)(No,{isSwitch:a,onClick:function(e){clearTimeout(s),r(!0)},children:Object(X.jsxs)(Mo,{children:[Object(X.jsxs)(Ao,{children:[Object(X.jsx)("span",{children:"L"}),"iCreSia"]}),Object(X.jsx)(Bo,{children:"Now Loading..."}),Object(X.jsx)(Do,{children:"Copyright \xa9 2022 Licresia All Rights Reserved."})]})})},No=s.b.div(Di||(Di=Object(i.a)(["\n    display: inline-block;\n    position: absolute;\n    left: 0;\n    top: 0;\n    z-index: 10;\n    width: 100%;\n    height: 100%;\n    background-color: #000f3a86;\n    opacity: ",";\n    transition: opacity 500ms;\n"])),(function(e){return e.isSwitch?"0":"1"})),Mo=s.b.div(qi||(qi=Object(i.a)(["\n    display: inline-block;\n    position: relative;\n    left: calc(50% - 450px);\n    top: calc(50% - 300px);\n    z-index: 11;\n    width: 900px;\n    height: 600px;\n    background: radial-gradient(#868686, #ffffff);\n    border-radius: 8px;\n    border: solid 2px #cfcfcf;\n    box-sizing: border-box;\n    transition: opacity 500ms;\n"]))),_o=Object(s.c)(zi||(zi=Object(i.a)(["\n  0%, 100% {\n    opacity: 0.4;\n  }\n  50% {\n    opacity: 1;\n  }\n"]))),Ao=s.b.div(Ui||(Ui=Object(i.a)(["\n    display: inline-block;\n    position: relative;\n    margin-top: 10%;\n    width: 100%;\n    /* height: 400px; */\n    /* background-color: #0003b69e; */\n    background: linear-gradient(to bottom, #99999913, #ffffff13,#ffffff13,#ffffff13, #99999913);\n    color: white;\n    font-size: 130px;\n    font-weight: 600;\n    text-align: center;\n    text-shadow: 1px 2px 22px #0000003d;\n    /* line-height: 350px; */\n    animation: "," 3s linear infinite;\n    /* -webkit-box-reflect:below 1px; */\n    -webkit-box-reflect: below 1px -webkit-gradient(\n      linear,left top,left bottom,\n      from(transparent),\n      color-stop(0.6, transparent),\n      to(#f80000));\n    & span {\n        color: red;\n        font-size: 160px;\n    }\n"])),_o),Bo=s.b.div(Vi||(Vi=Object(i.a)(["\n    display: inline-block;\n    position: absolute;\n    bottom: 80px;\n    width: 100%;\n    left: 20px;\n    color: #ffffff;\n    font-size: 42px;\n    font-weight: 600;\n    text-align: center;\n"]))),Do=s.b.div(Wi||(Wi=Object(i.a)(["\n    display: inline-block;\n    position: absolute;\n    bottom: 5px;\n    left: 20px;\n    color: #636363;\n    font-size: 22px;\n    font-weight: 600;\n    text-align: left;\n"]))),qo=t(44),zo=t(65),Uo=function(){var e=Object(l.useContext)(pl),n=e.store,t=e.setStore,a=Object(l.useState)(0),r=Object(o.a)(a,2),i=r[0],s=r[1],d=Object(l.useState)({value:"",errors:[]}),u=Object(o.a)(d,2),b=u[0],f=u[1],p=Object(l.useState)({value:"",errors:[]}),h=Object(o.a)(p,2),j=h[0],m=h[1],g=Object(l.useState)({value:"",errors:[]}),x=Object(o.a)(g,2),v=x[0],O=x[1],k=Object(l.useState)({value:"",errors:[]}),y=Object(o.a)(k,2),w=y[0],E=y[1],T=Object(l.useState)({value:"",errors:[]}),S=Object(o.a)(T,2),C=S[0],R=S[1],F=Object(l.useState)([]),I=Object(o.a)(F,2),L=I[0],P=I[1],N=Object(l.useState)([]),M=Object(o.a)(N,2),_=M[0],A=M[1],B=Object(l.useState)(!1),D=Object(o.a)(B,2),q=D[0],z=D[1],U=n.system.user,V=function(){f(Object(c.a)(Object(c.a)({},b),{},{value:U.id})),O(Object(c.a)(Object(c.a)({},v),{},{value:""})),E(Object(c.a)(Object(c.a)({},w),{},{value:""})),R(Object(c.a)(Object(c.a)({},C),{},{value:U.email})),m(Object(c.a)(Object(c.a)({},j),{},{value:U.password}))};Object(l.useEffect)((function(){Fa.a.findUserInfoList().then((function(e){var n=[],t=[];e.forEach((function(e){e.id!==U.id&&n.push(e.id),""!==e.email&&t.push(e.email)})),P(n),A(t)}));var e=Fa.a.getHashedFromUserSeq(U.seq);return window.history.replaceState("","","/#/user?v=".concat(e)),V(),function(){window.history.replaceState("","","/#/")}}),[]);var W=Object(X.jsxs)(Yo,{children:[Object(X.jsx)(ge.a.InputTextFormBak,{titleLabel:"user id",checkable:b,setCheckable:f,validates:[{checker:function(e){return He.checkStringLength(e,4,20)},errorType:"length"},{checker:function(e){return He.checkAsciiChars(e)},errorType:"value"},{checker:function(e){return!L.includes(e)},errorType:"relation"}],width:300,marginTop:5,isReadOnly:!q}),Object(X.jsx)(ge.a.InputTextFormBak,{titleLabel:"new pass",isPassword:!0,checkable:v,setCheckable:O,validates:[{checker:function(e){return He.checkStringLength(e,4,20)},errorType:"length"},{checker:function(e){return e===w.value},errorType:"relation"}],dependency:[w],width:300,marginTop:5,isReadOnly:!q}),Object(X.jsx)(ge.a.InputTextFormBak,{titleLabel:"new pass*",isPassword:!0,checkable:w,setCheckable:E,validates:[{checker:function(e){return He.checkStringLength(e,4,20)},errorType:"length"},{checker:function(e){return e===v.value},errorType:"relation"}],dependency:[v],width:300,marginTop:5,isReadOnly:!q}),Object(X.jsx)(ge.a.InputTextFormBak,{titleLabel:"email",checkable:C,setCheckable:R,validates:[{checker:function(e){return He.checkStringLength(e,4,40)},errorType:"length"},{checker:function(e){return 0===e.length||2===e.split("@").length},errorType:"value"},{checker:function(e){return!_.includes(e)},errorType:"relation"}],marginTop:5,isReadOnly:!q}),Object(X.jsx)(ge.a.InputTextFormBak,{titleLabel:"old pass",isPassword:!0,checkable:j,setCheckable:m,validates:[{checker:function(e){return e===U.password},errorType:"relation"}],width:300,marginTop:55,isReadOnly:!q})]}),H=0===b.errors.length&&0===v.errors.length&&0===w.errors.length&&0===C.errors.length&&0===j.errors.length;return Object(X.jsxs)(Vo,{width:750,height:600,children:[Object(X.jsx)(Wo,{children:Object(X.jsx)(ge.a.Message,{message:"If you bookmark this page, you can easily login by URL."})}),Object(X.jsx)(Ho,{children:Object(X.jsx)(ue,{tabElements:[{name:"User",enable:!0,cont:W},{name:"Security",enable:!1,cont:Object(X.jsx)(X.Fragment,{})}],activeNo:i,selectTabIndex:function(e){return s(e)}})}),Object(X.jsx)(Jo,{children:Object(X.jsx)(ge.a.ButtonRecord,{buttons:[{label:"Close",callback:function(){}},{label:"Cancel",isEnable:q,callback:function(){z(!1),V()}},{label:q?"Regist":"Modify",isEnable:!q||H,callback:function(){q?function(){var e=0===v.value.length?"":",password = '".concat(v.value,"'");Fa.a.sendQueryRequestToAPI("update","UPDATE user_tbl SET id = '".concat(b.value,"', email = '").concat(C.value,"'").concat(e,"\n            WHERE seq = ").concat(null===U||void 0===U?void 0:U.seq)).then((function(){U.id=b.value,v.value.length>0&&(U.password=v.value),U.email=C.value,n.system.dialog=Object(X.jsx)(Je.a.Component,{message:"Modify successful!"}),t(Object(c.a)({},n))}))}():(z(!0),m(Object(c.a)(Object(c.a)({},j),{},{value:""})))}}]})})]})},Vo=s.b.div(Hi||(Hi=Object(i.a)(["\n    display: inline-block;\n    position: absolute;\n    z-index: 11;\n    top: calc(50% - ","px);\n    left: calc(50% - ","px);\n    width: ","px;\n    height: ","px;\n    background-color: #e7e7e7eb;\n    border: 1px solid #9e9e9e;\n    border-radius: 4px;\n"])),(function(e){return e.height/2}),(function(e){return e.width/2}),(function(e){return e.width}),(function(e){return e.height})),Wo=(s.b.div(Ji||(Ji=Object(i.a)(["\n    display: inline-block;\n    width: 100%;\n    height: 80px;\n    background-color: #eeeaea;\n    text-align: center;\n"]))),s.b.div(Yi||(Yi=Object(i.a)(["\n    display: inline-block;\n    width: 100%;\n    height: 50px;\n    /* background-color: #d1d1d1; */\n    /* text-align: center; */\n"])))),Ho=s.b.div(Xi||(Xi=Object(i.a)(["\n    display: inline-block;\n    width: 100%;\n    height: calc(100% - 100px);\n    padding: 4px;\n    box-sizing: border-box;\n    /* background-color: #d1d1d1; */\n    text-align: center;\n"]))),Jo=s.b.div(Gi||(Gi=Object(i.a)(["\n    display: inline-block;\n    position: absolute;\n    left: 0;\n    bottom: 0;\n    padding: 6px 4px 0 0;\n    box-sizing: border-box;\n    width: 100%;\n    height: 50px;\n    background-color: #d1d1d1;\n    text-align: right;\n"]))),Yo=s.b.div(Ki||(Ki=Object(i.a)(["\n    display: inline-block;\n    width: 100%;\n    height: 100%;\n    background-color: #cecece;\n"]))),Xo=function(){var e=Object(l.useContext)(pl),n=e.store,t=e.setStore,a=Object(l.useState)(!1),r=Object(o.a)(a,2),i=r[0],s=r[1],d=Object(l.useState)({value:"",errors:[]}),u=Object(o.a)(d,2),b=u[0],f=u[1],p=Object(l.useState)({value:"",errors:[]}),h=Object(o.a)(p,2),j=h[0],m=h[1],g=Object(l.useState)({value:"",errors:[]}),x=Object(o.a)(g,2),v=x[0],O=x[1],k=Object(l.useState)([]),y=Object(o.a)(k,2),w=y[0],E=y[1],T=Object(l.useState)([]),S=Object(o.a)(T,2),C=S[0],R=S[1],F=function(){for(var e="0123456789",n="",t=0;t<6;t++)n+=e.charAt(Math.random()*e.length);return n};Object(l.useEffect)((function(){Fa.a.findUserIdList().then((function(e){R(e)}))}),[]);var I=Object(l.useState)(F()),L=Object(o.a)(I,2),P=L[0],N=L[1],M=Object(l.useState)({value:"",errors:[]}),_=Object(o.a)(M,2),A=_[0],B=_[1],D=Object(l.useMemo)((function(){return Fe.getAuthTextURL(P)}),[P]);Object(l.useEffect)((function(){var e=[];if(b.errors.length>0)switch(b.errors[0]){case"required":e.push("[user id] is required.");break;case"length":e.push("[user id] set a value between 4 and 20.");break;case"value":e.push("[user id] accepts only half-width alphanumeric characters.");break;case"relation":e.push("[user id] already in use.")}if(j.errors.length>0)switch(j.errors[0]){case"required":e.push("[password] is required.");break;case"length":e.push("[password] set a value between 4 and 20.");break;case"relation":e.push("[password] does not match confirm.")}if(v.errors.length>0)switch(v.errors[0]){case"length":e.push("[password *] set a value between 4 and 20.")}E(e)}),[b,j]);return Object(X.jsxs)(X.Fragment,{children:[Object(X.jsx)(Go,{isVisible:!i,children:Object(X.jsx)(ge.a.BorderPanel,{title:"Login information",innerJsx:Object(X.jsxs)(X.Fragment,{children:[Object(X.jsx)(ge.a.Message,{message:"Please, enter User ID/Pass (Confirm)."}),Object(X.jsx)(ge.a.InputTextFormBak,{placeholder:"user id",checkable:b,setCheckable:f,validates:[{checker:function(e){return He.checkRequired(e)},errorType:"required"},{checker:function(e){return He.checkStringLength(e,4,20)},errorType:"length"},{checker:function(e){return He.checkAsciiChars(e)},errorType:"value"},{checker:function(e){return!C.includes(e)},errorType:"relation"}],width:300,isCenter:!0}),Object(X.jsx)(ge.a.InputTextFormBak,{placeholder:"password",isPassword:!0,checkable:j,setCheckable:m,validates:[{checker:function(e){return He.checkRequired(e)},errorType:"required"},{checker:function(e){return He.checkStringLength(e,4,20)},errorType:"length"},{checker:function(e){return e===v.value},errorType:"relation"}],dependency:[v],width:300,isCenter:!0}),Object(X.jsx)(ge.a.InputTextFormBak,{placeholder:"password*",isPassword:!0,checkable:v,setCheckable:O,validates:[{checker:function(e){return He.checkRequired(e)},errorType:"required"},{checker:function(e){return He.checkStringLength(e,4,20)},errorType:"length"},{checker:function(e){return e===j.value},errorType:"relation"}],dependency:[j],width:300,isCenter:!0}),Object(X.jsx)(ge.a.InfoFrame,{textRecords:w}),Object(X.jsx)(ge.a.ButtonRecord,{buttons:[{label:"Enter",isEnable:0===b.errors.length&&0===j.errors.length&&0===v.errors.length,callback:function(){s(!0)}}]})]})})}),Object(X.jsxs)(Go,{isVisible:i,children:[Object(X.jsx)(ge.a.BorderPanel,{title:"Proof not a robot",innerJsx:Object(X.jsxs)(X.Fragment,{children:[Object(X.jsx)(ge.a.Message,{message:"Please, input the same 6 number as the picture."}),Object(X.jsx)(Ko,{src:D}),Object(X.jsx)(ge.a.ButtonRecord,{buttons:[{label:"Change",callback:function(){N(F()),B({value:"",errors:[]})}}]}),Object(X.jsx)(ge.a.InputTextFormBak,{placeholder:"6 numbers",checkable:A,setCheckable:B,width:300,isCenter:!0}),Object(X.jsx)(ge.a.ButtonRecord,{buttons:[{label:"Regist",isEnable:0===A.errors.length&&P===A.value,callback:function(){Object(Ra.a)(Ca.a.mark((function e(){var a,r,i;return Ca.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Fa.a.sendQueryRequestToAPI("select","SELECT count(*) as cnt FROM user_tbl where id = '".concat(b,"'"));case 2:return a=e.sent,e.next=5,a.json();case 5:if(r=e.sent,console.log(JSON.stringify(r[0].cnt)),!(r[0].cnt>0)){e.next=12;break}E(["That user id has already been recorded."]),e.next=22;break;case 12:return e.next=14,Fa.a.getNextUserSeq();case 14:return i=e.sent,console.log(i),e.next=18,Fa.a.sendQueryRequestToAPI("update","INSERT INTO user_tbl(seq, id, password) VALUES(".concat(i,", '").concat(b.value,"', '").concat(j.value,"')"));case 18:n.system.user={seq:i,id:b.value,password:j.value,email:""},n.cloud={projects:[]},n.system.dialog=Object(X.jsx)(Je.a.Component,{message:"You have successfully created an account!",buttons:[{label:"OK",callback:function(){n.system.dialog=Object(X.jsx)(Uo,{}),t(Object(c.a)({},n))}}]}),t(Object(c.a)({},n));case 22:case"end":return e.stop()}}),e)})))()}}]})]})}),Object(X.jsx)(ge.a.MessageLink,{message:"Return to login information.",clickAction:function(){s(!1)}})]})]})},Go=s.b.div(Qi||(Qi=Object(i.a)(["\n    display: ",";\n"])),(function(e){return e.isVisible?"block":"none"})),Ko=s.b.img(Zi||(Zi=Object(i.a)(["\n    display: block;\n    text-align: center;\n    margin: 4px auto;\n    background-color: #f7f0f0;\n    border: 1px solid #888888;\n    box-sizing: border-box;\n"]))),Qo=function(){var e=Object(l.useContext)(pl),n=e.store,t=e.setStore,a=Object(l.useState)(!1),r=Object(o.a)(a,2),i=r[0],s=r[1],d=Object(l.useState)({value:"",errors:[]}),u=Object(o.a)(d,2),b=u[0],f=u[1],p=Object(l.useState)({value:"",errors:[]}),h=Object(o.a)(p,2),j=h[0],m=h[1],g=Object(l.useState)({value:"",errors:[]}),x=Object(o.a)(g,2),v=x[0],O=x[1],k=Object(l.useState)([]),y=Object(o.a)(k,2),w=y[0],E=y[1];Object(l.useEffect)((function(){var e=[];if(b.errors.length>0)switch(b.errors[0]){case"required":e.push("[user id] is required.");break;case"length":e.push("[user id] set a value between 4 and 20.");break;case"value":e.push("[user id] accepts only half-width alphanumeric characters.");break;case"relation":e.push("[user id] already in use.")}if(j.errors.length>0)switch(j.errors[0]){case"required":e.push("[password] is required.");break;case"length":e.push("[password] set a value between 4 and 20.")}E(e)}),[b,j]);return Object(X.jsxs)(X.Fragment,{children:[Object(X.jsxs)($o,{isVisible:!i,children:[Object(X.jsx)(ge.a.BorderPanel,{title:"Login information",innerJsx:Object(X.jsxs)(X.Fragment,{children:[Object(X.jsx)(ge.a.Message,{message:"Please, enter User ID/Pass."}),Object(X.jsx)(ge.a.InputTextFormBak,{placeholder:"user id",checkable:b,setCheckable:f,validates:[{checker:function(e){return He.checkRequired(e)},errorType:"required"},{checker:function(e){return He.checkStringLength(e,4,20)},errorType:"length"},{checker:function(e){return He.checkAsciiChars(e)},errorType:"value"}],width:300,isCenter:!0}),Object(X.jsx)(ge.a.InputTextFormBak,{placeholder:"password",isPassword:!0,checkable:j,setCheckable:m,validates:[{checker:function(e){return He.checkRequired(e)},errorType:"required"},{checker:function(e){return He.checkStringLength(e,4,20)},errorType:"length"}],width:300,isCenter:!0}),Object(X.jsx)(ge.a.InfoFrame,{textRecords:w}),Object(X.jsx)(ge.a.ButtonRecord,{buttons:[{label:"Enter",isEnable:0===b.errors.length&&0===j.errors.length,callback:function(){Object(Ra.a)(Ca.a.mark((function e(){var a,r;return Ca.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Fa.a.findUserInfoLogin(b.value,j.value);case 2:if(a=e.sent,console.log(JSON.stringify(a)),!(a.length>0)){e.next=15;break}return n.system.user={seq:a[0].seq,id:a[0].id,password:a[0].password,email:a[0].email},e.next=8,Zo(a[0].seq);case 8:r=e.sent,console.log(JSON.stringify(r)),n.cloud={projects:r.map((function(e){return{source:e.source,name:e.name,seq:e.seq,lastmod:e.lastmod}}))},n.system.dialog=Object(X.jsx)(Je.a.Component,{message:"Login successful!"}),t(Object(c.a)({},n)),e.next=16;break;case 15:E(["Incorrect user id or password."]);case 16:case"end":return e.stop()}}),e)})))()}}]})]})}),Object(X.jsx)(ge.a.MessageLink,{message:"Forgot your login information?",clickAction:function(){s(!0)}})]}),Object(X.jsxs)($o,{isVisible:i,children:[Object(X.jsx)(ge.a.BorderPanel,{title:"Email",innerJsx:Object(X.jsxs)(X.Fragment,{children:[Object(X.jsx)(ge.a.Message,{message:"Submit login information to account address."}),Object(X.jsx)(ge.a.InputTextFormBak,{placeholder:"email",checkable:v,setCheckable:O,validates:[{checker:function(e){return He.checkRequired(e)},errorType:"required"},{checker:function(e){return He.checkStringLength(e,4,40)},errorType:"length"},{checker:function(e){return 0===e.length||2===e.split("@").length},errorType:"value"}],width:500,isCenter:!0}),Object(X.jsx)(ge.a.ButtonRecord,{buttons:[{label:"Send",isEnable:0===v.errors.length,callback:function(){Fa.a.findUserInfoFromEmail(v.value).then((function(e){if(e.length>0){var n=e[0],t=Fa.a.getHashedFromUserSeq(n.seq),a="https://demo-app.licresia.com/#/user?v=".concat(t);Fa.a.sendQueryRequestToMailAPI({from:"info@licresia.com",to:v.value,subject:"\u3010LiCreSia\u3011support",text:"Your login information is as follows.\n\nURL: ".concat(a,"\nUSR ID: ").concat(n.id)})}}))}}]})]})}),Object(X.jsx)(ge.a.MessageLink,{message:"Return to login information.",clickAction:function(){s(!1)}})]})]})},Zo=function(){var e=Object(Ra.a)(Ca.a.mark((function e(n){var t,a;return Ca.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Fa.a.sendQueryRequestToAPI("select","SELECT owner, seq, name, source, lastmod FROM prjcttbl WHERE owner = ".concat(n," order by seq"));case 2:return t=e.sent,e.next=5,t.json();case 5:return a=e.sent,e.abrupt("return",a);case 7:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),$o=s.b.div($i||($i=Object(i.a)(["\n    display: ",";\n"])),(function(e){return e.isVisible?"block":"none"})),el=function(){var e=Object(l.useContext)(pl),n=(e.store,e.setStore,Object(l.useState)(!1)),t=Object(o.a)(n,2),a=t[0],r=t[1],i=Object(l.useMemo)((function(){return Fe.getLogoURL()}),[]);return Object(X.jsxs)(nl,{width:600,height:500,children:[Object(X.jsx)(tl,{children:Object(X.jsx)("img",{src:i})}),Object(X.jsxs)(al,{children:[Object(X.jsx)(rl,{isActive:!a,onClick:function(){r(!1)},children:"Login"}),Object(X.jsx)(rl,{isActive:a,onClick:function(){r(!0)},children:"Create Account"})]}),a?Object(X.jsx)(Xo,{}):Object(X.jsx)(Qo,{})]})},nl=s.b.div(ec||(ec=Object(i.a)(["\n    display: inline-block;\n    position: absolute;\n    z-index: 11;\n    top: calc(50% - ","px);\n    left: calc(50% - ","px);\n    width: ","px;\n    height: ","px;\n    background-color: #e7e7e7e2;\n    border: 1px solid #9e9e9e;\n    border-radius: 4px;\n"])),(function(e){return e.height/2}),(function(e){return e.width/2}),(function(e){return e.width}),(function(e){return e.height})),tl=s.b.div(nc||(nc=Object(i.a)(["\n    display: inline-block;\n    width: 100%;\n    height: 80px;\n    background-color: #eeeaea;\n    text-align: center;\n"]))),al=s.b.div(tc||(tc=Object(i.a)(["\n    display: inline-block;\n    width: 100%;\n    height: 50px;\n    /* background-color: #d1d1d1; */\n    text-align: center;\n"]))),rl=s.b.div(ac||(ac=Object(i.a)(["\n    ",";\n    background-color: #bf808075;\n    ","\n    color: white;\n    width: 250px;\n    margin: 10px 10px;\n    text-align: center;\n    &:hover {\n    background-color: #bf8080a2;\n        ","\n    }\n"])),Q.a.CSS_LABEL_MIDIUM,(function(e){return e.isActive?Object(s.a)(rc||(rc=Object(i.a)(["\n        background-color: #c7a73e;\n    "]))):""}),(function(e){return e.isActive?Object(s.a)(ic||(ic=Object(i.a)(["\n            background-color: #c7a73e;\n        "]))):""})),il=(s.b.div(cc||(cc=Object(i.a)(["\n    display: inline-block;\n    margin: 2px 0 0 0;\n    width: 100%;\n    height: 50px;\n    /* background-color: #e6e3c1; */\n    text-align: left;\n"]))),s.b.div(oc||(oc=Object(i.a)(["\n    ",";\n    /* background-color: #80e45832; */\n    color: #bd2d2d;\n    width: 150px;\n    margin: 10px 0 0 5px;\n    text-align: center;\n"])),Q.a.CSS_LABEL_MIDIUM),s.b.input(lc||(lc=Object(i.a)(["\n    ",";\n    background-color: #f7f09787;\n    width: 300px;\n    margin: 10px 0 0 15px;\n    text-align: center;\n    border: solid 1px #5e5e5e;\n    text-align: left;\n    box-sizing: border-box;\n    border-radius: 4px;\n"])),Q.a.CSS_LABEL_MIDIUM),s.b.div(sc||(sc=Object(i.a)(["\n    display: inline-block;\n    position: absolute;\n    left: 0;\n    bottom: 0;\n    padding: 6px 4px 0 0;\n    box-sizing: border-box;\n    width: 100%;\n    height: 50px;\n    background-color: #d1d1d1;\n    text-align: right;\n"]))),s.b.div(dc||(dc=Object(i.a)(["\n    ",";\n    ",";\n    background-color: #5c9253;\n    width: 150px;\n    margin: 10px 5px 0 0;\n    text-align: center;\n    &:hover {\n        background-color: #7eaf75;\n    }\n"])),Q.a.CSS_LABEL_MIDIUM,(function(e){return e.isEnable?"":Q.a.CSS_BUTTON_DISABLE})),function(){var e=Object(l.useContext)(pl),n=e.store,t=e.setStore,a=n.system.user,r=Object(l.useState)(""),i=Object(o.a)(r,2),s=i[0],d=i[1],u=Object(l.useMemo)((function(){return Fe.getLogoURL()}),[]);Object(l.useEffect)((function(){null!=a&&d("@"+a.id)}),[a]);var b=null==a?Object(X.jsxs)(dl,{onClick:function(){n.system.dialog=Object(X.jsx)(el,{}),t(Object(c.a)({},n)),console.log(window.location.origin)},children:[Object(X.jsx)("div",{children:Object(X.jsx)(qo.a,{})}),"Login / Sign up"]}):Object(X.jsxs)(X.Fragment,{children:[Object(X.jsx)(ul,{isEntry:null!=a,onClick:function(){n.system.dialog=Object(X.jsx)(Uo,{}),t(Object(c.a)({},n))},children:s}),Object(X.jsxs)(dl,{onClick:function(){n.system.user=null,n.cloud=null,n.system.dialog=Object(X.jsx)(Je.a.Component,{message:"Logout.\nSee you next time!"}),t(Object(c.a)({},n))},children:[Object(X.jsx)("div",{children:Object(X.jsx)(qo.a,{})}),"Logout"]})]});return Object(X.jsxs)(cl,{children:[Object(X.jsx)(ol,{children:Object(X.jsx)(fl,{src:u})}),Object(X.jsxs)(ll,{children:[b,Object(X.jsx)(bl,{children:Object(X.jsx)("div",{children:Object(X.jsx)(zo.a,{})})})]})]})}),cl=s.b.div(uc||(uc=Object(i.a)(["\n    display: inline-block;\n    position: relative;\n    width: 100%;\n    height: ","px;\n    background: linear-gradient(to bottom, #192f7e, #000540, #192f7e);\n    /* background-color: #c2c2c2; */\n    box-shadow: 0 0 8px 0 #000b3a48;\n"])),44),ol=s.b.div(bc||(bc=Object(i.a)(["\n    display: inline-block;\n    margin: 2px 0 0 10px;\n    width: 200px;\n    height: calc(100% - 4px);\n    /* background-color: #00000013; */\n    font-size: 34px;\n    font-weight: 600;\n    line-height: 36px;\n    font-style: italic;\n    text-shadow: 1px 2px 3px #dbdbdb6a;\n"]))),ll=(s.b.span(fc||(fc=Object(i.a)(["\n    color: #9fc2d1;\n"]))),s.b.span(pc||(pc=Object(i.a)(["\n    font-size: 34px;\n    color: #ececec;\n"]))),s.b.div(hc||(hc=Object(i.a)(["\n    display: inline-block;\n    /* width: 300px; */\n    height: 100%;\n    position: absolute;\n    right: 30px;\n    /* background-color: #ff00002b; */\n"])))),sl=s.b.div(jc||(jc=Object(i.a)(["\n    background-color: #c9c7c7;\n    &:hover {\n        background-color: #cf9bae;\n    }\n    transition: background-color 800ms;\n"]))),dl=Object(s.b)(sl)(mc||(mc=Object(i.a)(["\n    display: inline-block;\n    /* width: 240px; */\n    padding: 0 30px;\n    margin: 5px 10px 0 0;\n    height: calc(100% - 10px);\n    border-radius: 20px;\n    /* background: linear-gradient(to bottom, #e9baba, #d39d9d, #e9baba); */\n    /* background-color: #adadad; */\n    /* border: 1px solid #7e7e7e; */\n    /* box-shadow: 0 0 8px 0 #000b3a48; */\n    /* text-shadow: 1px 2px 3px #808080ba; */\n    text-align: center;\n    font-size: 22px;\n    font-weight: 600;\n    line-height: 28px;\n    color: #ffffff;\n    vertical-align: top;\n\n    & div {\n        display: inline-block;\n        /* background-color: #0000007d; */\n        margin: 2px 5px 0 0;\n        vertical-align: top;\n    }\n"]))),ul=s.b.div(gc||(gc=Object(i.a)(["\n    display: inline-block;\n    /* width: 240px; */\n    margin: 5px 20px 0 0;\n    height: calc(100% - 10px);\n    text-align: center;\n    font-size: 22px;\n    font-weight: 600;\n    line-height: 28px;\n    color: #9afff292;\n    ","\n    vertical-align: top;\n"])),(function(e){return e.isEntry?"":Object(s.a)(xc||(xc=Object(i.a)(["\n        color: #ff393983;\n    "])))})),bl=Object(s.b)(sl)(vc||(vc=Object(i.a)(["\n    display: inline-block;\n    width: ","px;\n    height: ","px;\n    margin: 3px 0 0 0;\n    border-radius: 50%;\n    /* background: linear-gradient(to bottom, #e9baba, #d39d9d, #e9baba); */\n    /* background-color: #48aa9d; */\n    /* border: 1px solid #7e7e7e; */\n    /* box-shadow: 0 0 8px 0 #000b3a48; */\n    /* text-shadow: 1px 2px 3px #808080ba; */\n    /* text-align: center; */\n    font-size: 28px;\n    font-weight: 600;\n    color: #ffffff;\n    & div {\n        display: inline-block;\n        margin: 2px 0 0 5px;\n        /* background-color: #0000007d; */\n        vertical-align: top;\n    }\n"])),38,38),fl=s.b.img(Oc||(Oc=Object(i.a)(["\n    display: inline-block;\n    position: relative;\n    width: 260px;\n    height: 100%;\n    padding: 3px 0;\n    box-sizing: border-box;\n    /* background-color: #bc28289f; */\n"]))),pl=Object(l.createContext)({}),hl=(n.b=function(){var e=Object(l.useState)(d),n=Object(o.a)(e,2),t=n[0],a=n[1];return Object(X.jsx)(pl.Provider,{value:{store:t,setStore:a},children:Object(X.jsxs)(X.Fragment,{children:[t.system.isSplash?Object(X.jsx)(Po,{remove:function(){a(Object(c.a)(Object(c.a)({},t),{},{system:Object(c.a)(Object(c.a)({},t.system),{},{isSplash:!1})}))}}):Object(X.jsx)(X.Fragment,{}),Object(X.jsxs)(hl,{children:[Object(X.jsx)(G,{}),Object(X.jsx)(il,{}),Object(X.jsx)(jl,{children:Object(X.jsx)(Fo,{})})]})]})})},s.b.div(kc||(kc=Object(i.a)(["\n    display: inline-block;\n    position: relative;\n    width: 100%;\n    height: 100%;\n    background-color: #364887;\n"])))),jl=s.b.div(yc||(yc=Object(i.a)(["\n    display: inline-block;\n    width: 100%;\n    height: calc(100% - ","px);\n    /* background-color: #c2c2c2; */\n"])),44)},70:function(e,n,t){},77:function(e,n){},79:function(e,n){},9:function(e,n,t){"use strict";var a,r,i,c,o,l,s,d,u,b,f,p=t(4),h=t(5);!function(e){var n=e.FONT_SMALL=16,t=e.FONT_MIDIUM=22,a=(e.FONT_LARGE=32,e.CSS_LABEL=Object(h.a)(s||(s=Object(p.a)(["\n        display: inline-block;\n        font-weight: 600;\n        text-align: center;\n        color: black;\n        box-sizing: border-box;\n    "]))));e.CSS_LABEL_SMALL=Object(h.a)(d||(d=Object(p.a)(["\n        ","\n        height: 22px;\n        font-size: ","px;\n        line-height: 18px;\n    "])),a,n),e.CSS_LABEL_MIDIUM=Object(h.a)(u||(u=Object(p.a)(["\n        ","\n        height: 30px;\n        font-size: ","px;\n        line-height: 26px;\n    "])),a,t),e.CSS_BUTTON_DISABLE=Object(h.a)(b||(b=Object(p.a)(["\n        pointer-events: none;\n        opacity: 0.5;\n    "])))}(f||(f={})),n.a=f;h.b.div(a||(a=Object(p.a)(["\n    display: inline-block;\n    width: 100%;\n    height: 100%;\n"]))),h.b.div(r||(r=Object(p.a)(["\n    display: inline-block;\n"]))),h.b.div(i||(i=Object(p.a)(["\n    display: inline-block;\n    width: 100%;\n"]))),Object(h.a)(c||(c=Object(p.a)(["\n    display: inline-block;\n    height: 22px;\n    font-size: 18px;\n    font-weight: 600;\n    color: black;\n    line-height: 18px;\n"]))),Object(h.a)(o||(o=Object(p.a)(["\n    display: inline-block;\n    height: 30px;\n    font-size: ","px;\n    font-weight: 600;\n    text-align: center;\n    color: black;\n    line-height: 24px;\n    box-sizing: border-box;\n"])),f.FONT_MIDIUM),Object(h.a)(l||(l=Object(p.a)(["\n    opacity: 0.6;\n    pointer-events: none;\n"])))}},[[104,1,2]]]);
//# sourceMappingURL=main.8386ac65.chunk.js.map