{"version":3,"sources":["system/base/design/styles.tsx","system/utils/form/formUtiil.tsx","system/utils/systemUtil.tsx","system/utils/canvasUtil.tsx","system/contents/entry/setterFrame.tsx","system/contents/entry/playerFrame.tsx","system/contents/entry/systemEntry.tsx","App.tsx","reportWebVitals.ts","index.tsx"],"names":["Styles","_Styles","FONT_SMALL","FONT_MIDIUM","CSS_LABEL","FONT_LARGE","css","_templateObject7","_taggedTemplateLiteral","CSS_LABEL_SMALL","_templateObject8","CSS_LABEL_MIDIUM","_templateObject9","CSS_BUTTON_DISABLE","_templateObject10","styled","div","_templateObject","_templateObject2","_templateObject3","_templateObject4","_templateObject5","_templateObject6","FormUtil","_FormUtil","isCompleteCheck","checkables","result","forEach","checkable","errors","length","InputTextFormBak","props","_props$isPassword","_props$validates","_props$dependency","_props$isEnable","_props$isCenter","_props$marginTop","_props$isCenter2","type","isPassword","validaters","validates","dependency","map","dep","value","getErrors","validater","checker","push","errorType","useEffect","setCheckable","_jsxs","_Record","isEnable","isVisible","textAlign","isCenter","marginTop","children","undefined","titleLabel","_jsx","_Fragment","_ItemnLabel","_ItemnInputBak","hasTitle","width","placeholder","onChange","e","target","readOnly","isReadOnly","Record","_props$isEnable2","_props$textAlign","_props$marginTop2","jsx","FormRecord","_props$isEnable3","_props$isVisible","_props$textAlign2","_props$marginTop3","labelWidth","TextField","_props$isPassword2","_props$isNumber","_props$validates2","_props$dependency2","_props$width","isNumber","concat","_ItemnInput","Number","toString","marginLeft","Combobox","_props$validates3","_props$dependency3","_props$headBlank","_props$width2","headBlank","list","slice","unshift","labelText","_ItemCombobox","item","i","_item$isDisabled","_item$isDisabled2","_Option","disabled","isDisabled","ButtonRecord","_props$textAlign3","_props$marginTop4","buttons","button","_button$isEnable","_Button","onClick","callback","label","Message","_props$isCenter3","_props$marginTop5","_props$isCenter4","_Message","message","MessageLink","_props$isCenter5","_props$marginTop6","_props$isCenter6","isLink","clickAction","BorderPanel","_props$isEnable4","_BorderText","title","_BorderPanel","innerJsx","InfoFrame","_props$height","height","_InfoDiv","color","textRecords","text","Switch","_props$isRelation","_props$isEnable5","isRelation","isUse","_Switch","_props$labelWidth","input","_templateObject11","_props$marginLeft","_templateObject12","select","_templateObject13","_props$marginLeft2","_templateObject14","option","_templateObject15","_templateObject16","_templateObject17","_templateObject19","_templateObject18","_templateObject20","_templateObject21","_templateObject22","_templateObject23","_templateObject24","_templateObject26","_templateObject25","_templateObject27","_templateObject28","_templateObject29","_templateObject31","_templateObject30","_templateObject33","_templateObject32","_templateObject34","_templateObject35","_templateObject36","_SystemUtil","CONTENTS_WIDTH","CONTENTS_HEIGHT","USER_INFO","FIELD_MARGIN","MAX_CELL_WIDTH","isSmartPhone","navigator","userAgent","match","SystemUtil","CanvasUtil","createURL","draw","canvas","document","createElement","ctx","getContext","toDataURL","SetterFrame","Component","ls","setLs","useState","units","focusUnit","focusSeed","isDetail","thumbs","invalidate","getNextTime","time","u","reduce","prev","cur","drawPoint","clientRect","clientX","clientY","WIDTH","rate","subX","left","subY","top","seeds","pars","x","y","_Wrap","unit","seed","j","_Box","isFocus","onContextMenu","getThumbJsx","thumb","_Thumb","src","rising","spread","seedColor","barrColor","delay","splice","JSON","parse","stringify","start","_Blind","_ParamRecord","_ParamLabel","_InputRange","min","max","step","_InputColor","_WndWrap","_Wnd","rect","currentTarget","getClientRects","onMouseMove","onTouchMove","t","touches","_Center","par","_Par","beginPath","arc","Math","PI","strokeStyle","stroke","img","PlayerFrame","_PlayerFrame","getRgbFromColorCode","code","parseInt","substring","CANVAS_WIDTH","Vec","constructor","dirRad","len","v","rad","this","cos","sin","syncVecToRad","atan2","sqrt","abs","Color","r","g","b","a","getRGBA","Particle","pos","vec","radius","extend","prevPos","timer","isLive","histories","nextUnitIndex","req","Sketch","setup","p5","canvasParentRef","createCanvas","parent","background","frameRate","createTracer","ext","limit","floor","random","startColor","endColor","rangeRad","modulate","self","radRate","noStroke","fill","ellipse","createBarrage","sr","sg","sb","er","eg","eb","barrExt","radian","lenRate","rSub","gSub","bSub","limitRate","createEmbers","createDust","randNum","secondRate","shadeNum","interval","seedExt","textSize","back","SystemEntry","mode","screen","setScreen","adjLeft","adjTop","ref","useRef","update","current","getBoundingClientRect","clientWidth","clientHeight","cw","ch","isFitSide","window","addEventListener","setterFrame","_Frame","_Contents","assert","App","oncontextmenu","onkeydown","ctrlKey","includes","key","reportWebVitals","onPerfEntry","Function","then","_ref","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","React","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.0999f307.chunk.js","sourcesContent":["import styled, { css } from \"styled-components\";\n\nnamespace Styles {\n\n    export const FONT_SMALL = 16;\n    export const FONT_MIDIUM = 22;\n    export const FONT_LARGE = 32;\n\n    export const CSS_LABEL = css`\n        display: inline-block;\n        font-weight: 600;\n        text-align: center;\n        color: black;\n        box-sizing: border-box;\n    `;\n\n    export const CSS_LABEL_SMALL = css`\n        ${CSS_LABEL}\n        height: 22px;\n        font-size: ${FONT_SMALL}px;\n        line-height: 18px;\n    `;\n\n    export const CSS_LABEL_MIDIUM = css`\n        ${CSS_LABEL}\n        height: 30px;\n        font-size: ${FONT_MIDIUM}px;\n        line-height: 26px;\n    `;\n\n    export const CSS_BUTTON_DISABLE = css`\n        pointer-events: none;\n        opacity: 0.5;\n    `;\n}\nexport default Styles;\n\nexport const _WrapperFrame = styled.div`\n    display: inline-block;\n    width: 100%;\n    height: 100%;\n`;\n\nexport const _Object = styled.div`\n    display: inline-block;\n`;\n\nexport const _Record = styled.div`\n    display: inline-block;\n    width: 100%;\n`;\n\nexport const _CSS_LABEL_SMALL = css`\n    display: inline-block;\n    height: 22px;\n    font-size: 18px;\n    font-weight: 600;\n    color: black;\n    line-height: 18px;\n`;\n\n\nexport const _CSS_LABEL_MIDIUM = css`\n    display: inline-block;\n    height: 30px;\n    font-size: ${Styles.FONT_MIDIUM}px;\n    font-weight: 600;\n    text-align: center;\n    color: black;\n    line-height: 24px;\n    box-sizing: border-box;\n`;\n\nexport const _CSS_DISABLE = css`\n    opacity: 0.6;\n    pointer-events: none;\n`;\n\n","import styled, { css } from \"styled-components\";\nimport Styles, { _CSS_LABEL_MIDIUM } from \"../../base/design/styles\";\nimport ValidateUtil from \"./validateUtil\";\nimport { useEffect } from \"react\";\n\nnamespace FormUtil {\n\n    export type CheckableValue = {\n        value: string;\n        errors: ValidateUtil.ErrorType[];\n    }\n\n    export const isCompleteCheck = (checkables: CheckableValue[]) => {\n        let result = true;\n        checkables.forEach(checkable => {\n            if (checkable.errors.length > 0) {\n                result = false;\n                return 1;\n            }\n        });\n        return result;\n    }\n\n    export const InputTextFormBak = (props: {\n        titleLabel?: string;\n        checkable: CheckableValue;\n        setCheckable: (value: CheckableValue) => void;\n        isEnable?: boolean;\n        placeholder?: string;\n        isCenter?: boolean;\n        width?: number;\n        isPassword?: boolean;\n        validates?: ValidateUtil.Validate[];\n        dependency?: CheckableValue[];\n        marginTop?: number;\n        isReadOnly?: boolean;\n        marginBottom?: number;\n    }) => {\n        const type = props.isPassword ?? false ? 'password' : 'text';\n\n        const validaters = props.validates ?? [];\n        const errors = props.checkable.errors;\n        const dependency = (props.dependency ?? []).map(dep => dep.value);\n\n        const getErrors = (value: string) => {\n            const errors: ValidateUtil.ErrorType[] = [];\n            validaters.forEach(validater => {\n                if (!validater.checker(value)) {\n                    errors.push(validater.errorType);\n                }\n            });\n            return errors;\n        }\n        useEffect(() => {\n            props.checkable.errors = getErrors(props.checkable.value);\n            props.setCheckable({ ...props.checkable });\n        }, dependency);\n        return (\n            <_Record\n                isEnable={props.isEnable ?? true}\n                isVisible={true}\n                textAlign={(props.isCenter ?? false) ? 'center' : 'left'}\n                marginTop={props.marginTop ?? 0}\n            >\n                {props.titleLabel == undefined ? <></> : <_ItemnLabel>{props.titleLabel}</_ItemnLabel>}\n                <_ItemnInputBak\n                    type={type}\n                    value={props.checkable.value}\n                    hasTitle={props.titleLabel != undefined}\n                    width={props.width}\n                    isCenter={props.isCenter ?? false}\n                    placeholder={props.placeholder}\n                    onChange={(e) => {\n                        const value = e.target.value;\n                        props.checkable.value = value;\n                        props.checkable.errors = getErrors(value);\n                        props.setCheckable({ ...props.checkable });\n                    }}\n                    errorType={errors.length === 0 ? undefined : errors[0]}\n                    readOnly={props.isReadOnly}\n                />\n            </_Record>\n        );\n    }\n\n\n    export const Record = (props: {\n        isEnable?: boolean;\n        textAlign?: 'left' | 'center' | 'right';\n        marginTop?: number;\n        jsx: JSX.Element;\n    }) => {\n        return (\n            <_Record\n                isEnable={props.isEnable ?? true}\n                isVisible={true}\n                textAlign={props.textAlign ?? 'left'}\n                marginTop={props.marginTop ?? 0}\n            >\n                {props.jsx}\n            </_Record>\n        );\n    }\n\n    export const FormRecord = (props: {\n        titleLabel?: string;\n        labelWidth?: number;\n        isEnable?: boolean;\n        isVisible?: boolean;\n        textAlign?: 'left' | 'center' | 'right';\n        marginTop?: number;\n        jsx: JSX.Element;\n    }) => {\n        return (\n            <_Record\n                isEnable={props.isEnable ?? true}\n                isVisible={props.isVisible ?? true}\n                textAlign={props.textAlign ?? 'left'}\n                marginTop={props.marginTop ?? 0}\n            >\n                {props.titleLabel == undefined ? <></> : <_ItemnLabel labelWidth={props.labelWidth}>{props.titleLabel}</_ItemnLabel>}\n                {props.jsx}\n            </_Record>\n        );\n    }\n\n    export const TextField = (props: {\n        checkable: CheckableValue;\n        setCheckable: (value: CheckableValue) => void;\n        isEnable?: boolean;\n        placeholder?: string;\n        width?: number;\n        isPassword?: boolean;\n        validates?: ValidateUtil.Validate[];\n        dependency?: CheckableValue[];\n        isReadOnly?: boolean;\n        isNumber?: boolean;\n        marginLeft?: number;\n    }) => {\n        let type = props.isPassword ?? false ? 'password' : 'text';\n        if (props.isNumber ?? false) {\n            type = 'number';\n        }\n\n        const validaters = props.validates ?? [];\n        const errors = props.checkable.errors;\n        const dependency = (props.dependency ?? []).map(dep => dep.value);\n\n        const getErrors = (value: string) => {\n            const errors: ValidateUtil.ErrorType[] = [];\n            validaters.forEach(validater => {\n                if (!validater.checker(value)) {\n                    errors.push(validater.errorType);\n                }\n            });\n            return errors;\n        }\n        useEffect(() => {\n            props.checkable.errors = getErrors(props.checkable.value);\n            props.setCheckable({ ...props.checkable });\n        }, dependency.concat(props.checkable.value));\n\n        let value = props.checkable.value;\n        // if (type === 'number' && value === '') value = '0';\n        return (\n            <_ItemnInput\n                type={type}\n                value={value}\n                width={props.width ?? 100}\n                placeholder={props.placeholder}\n                onChange={(e) => {\n                    let value = e.target.value;\n                    // if (type === 'number' && value === '') value = '0';\n                    props.checkable.value = type !== 'number' ? value : Number(value).toString();\n                    // props.checkable.errors = getErrors(value);\n                    props.setCheckable({ ...props.checkable });\n                }}\n                errorType={errors.length === 0 ? undefined : errors[0]}\n                readOnly={props.isReadOnly}\n                marginLeft={props.marginLeft}\n            />\n        );\n    }\n\n    export type ComboboxItemProps = { value: string, labelText: string, isDisabled?: boolean };\n    export const Combobox = (props: {\n        list: ComboboxItemProps[];\n        headBlank?: boolean;\n        checkable: CheckableValue;\n        setCheckable: (value: CheckableValue) => void;\n        isEnabled?: boolean;\n        placeholder?: string;\n        width?: number;\n        validates?: ValidateUtil.Validate[];\n        dependency?: CheckableValue[];\n        isReadOnly?: boolean;\n        marginLeft?: number;\n    }) => {\n        const validaters = props.validates ?? [];\n        const errors = props.checkable.errors;\n        const dependency = (props.dependency ?? []).map(dep => dep.value);\n        const headBlank = props.headBlank ?? false;\n        const list = props.list.slice();\n        if (headBlank) list.unshift({ value: '', labelText: '' });\n\n        const getErrors = (value: string) => {\n            const errors: ValidateUtil.ErrorType[] = [];\n            validaters.forEach(validater => {\n                if (!validater.checker(value)) {\n                    errors.push(validater.errorType);\n                }\n            });\n            return errors;\n        }\n\n        useEffect(() => {\n            // console.log('value: ' + props.checkable.value);\n            props.checkable.errors = getErrors(props.checkable.value);\n            props.setCheckable({ ...props.checkable });\n        }, dependency.concat(props.checkable.value));\n\n        return (\n            <_ItemCombobox\n                value={props.checkable.value}\n                width={props.width ?? 100}\n                placeholder={props.placeholder}\n                onChange={(e) => {\n                    const value = e.target.value;\n                    props.checkable.value = value;\n                    // props.checkable.errors = getErrors(value);\n                    props.setCheckable({ ...props.checkable });\n\n                }}\n                errorType={errors.length === 0 ? undefined : errors[0]}\n                readOnly={props.isReadOnly}\n                marginLeft={props.marginLeft}\n            >{list.map((item, i) => {\n                return (\n                    <_Option key={i}\n                        value={item.value}\n                        disabled={item.isDisabled ?? false}\n                        isDisabled={item.isDisabled ?? false}\n                    >{item.labelText}</_Option>\n                );\n            })}</_ItemCombobox>\n        );\n    }\n\n    export type ButtonProps = {\n        label: string;\n        isEnable?: boolean;\n        width?: number;\n        callback: () => void;\n    }\n\n    export const ButtonRecord = (props: {\n        buttons: ButtonProps[],\n        textAlign?: 'left' | 'center' | 'right';\n        marginTop?: number;\n        marginBottom?: number;\n    }) => {\n        return (\n            <_Record\n                isEnable={true}\n                isVisible={true}\n                textAlign={props.textAlign ?? 'right'}\n                marginTop={props.marginTop ?? 0}\n            >\n                {props.buttons.map((button, i) => {\n                    return (\n                        <_Button\n                            key={i}\n                            isCenter={props.textAlign === 'center'}\n                            isEnable={button.isEnable ?? true}\n                            width={button.width}\n                            onClick={button.callback}\n                        >{button.label}</_Button>\n                    );\n                })}\n            </_Record>\n        );\n    }\n\n    export const Message = (props: {\n        message: string,\n        isCenter?: boolean;\n        marginTop?: number;\n        marginBottom?: number;\n    }) => {\n        return (\n            <_Record\n                isEnable={true}\n                isVisible={true}\n                textAlign={(props.isCenter ?? false) ? 'center' : 'left'}\n                marginTop={props.marginTop ?? 0}\n            >\n                <_Message\n                    isCenter={props.isCenter ?? false}\n                >{props.message}</_Message>\n            </_Record>\n        );\n    }\n\n    export const MessageLink = (props: {\n        message: string,\n        isCenter?: boolean;\n        clickAction: () => void;\n        marginTop?: number;\n        marginBottom?: number;\n    }) => {\n        return (\n            <_Record\n                isEnable={true}\n                isVisible={true}\n                textAlign={(props.isCenter ?? false) ? 'center' : 'left'}\n                marginTop={props.marginTop ?? 0}\n            >\n                <_Message\n                    isLink={true}\n                    onClick={props.clickAction}\n                    isCenter={props.isCenter ?? false}\n                >{props.message}</_Message>\n            </_Record>\n        );\n    }\n\n    export const BorderPanel = (props: {\n        title: string;\n        isEnable?: boolean;\n        innerJsx: JSX.Element;\n    }) => {\n        // const title = props.title ?? 'title pl';\n        return (<>\n            <_BorderText>{props.title}</_BorderText>\n            <_BorderPanel isEnable={props.isEnable ?? true}>{props.innerJsx}</_BorderPanel>\n        </>);\n    }\n\n    export const InfoFrame = (props: {\n        height?: number;\n        textRecords: string[];\n    }) => {\n        const height = props.height ?? 70;\n        const color = '#1a9900';\n        return (<>\n            <_InfoDiv height={height} color={color}>\n                {props.textRecords.map((text, i) => {\n                    return <span key={i}>{text}<br /></span>;\n                })}\n            </_InfoDiv>\n        </>);\n    };\n\n    export const Switch = (props: {\n        label: string;\n        isUse: boolean;\n        isEnable?: boolean;\n        width?: number;\n        isRelation?: boolean;\n        callback: () => void;\n    }) => {\n        const isRelation = props.isRelation ?? false;\n        const callback = isRelation && props.isUse ? () => { } : props.callback;\n        return (\n            <_Switch\n                isRelation={isRelation}\n                isUse={props.isUse}\n                isEnable={props.isEnable ?? true}\n                width={props.width}\n                onClick={callback}\n            >{props.label}</_Switch>\n        );\n    }\n}\n\nexport default FormUtil;\n\n\nconst _Record = styled.div<{\n    isEnable: boolean;\n    isVisible: boolean;\n    textAlign: 'left' | 'center' | 'right';\n    marginTop: number;\n}>`\n    display: inline-block;\n    ${props => props.isVisible ? '' : css`\n        display: none;\n    `}\n    width: 100%;\n    height: 40px;\n    margin-top: ${props => props.marginTop}px;\n    /* background-color: #b3b4c4; */\n    /* border: 1px solid #000; */\n    ${props => props.isEnable ? '' : Styles.CSS_BUTTON_DISABLE}\n    text-align: ${props => props.textAlign};\n`;\n\nconst _ItemnLabel = styled.div<{\n    labelWidth?: number;\n}>`\n    display: inline-block;\n    height: calc(100% - 4px);\n    width: ${props => props.labelWidth ?? 140}px;\n    ${Styles.CSS_LABEL_MIDIUM}\n    color: #585858;\n    border: solid 1px #7a7a7abf;\n    box-sizing: border-box;\n    /* background-color: #85a2c5; */\n    background: linear-gradient(to bottom, #c3c3c3fc, #d8d8d8, #c3c3c3fc);\n    border-radius: 4px;\n    text-align: center;\n    vertical-align: top;\n    margin: 5px 4px 0 4px;\n`;\n\nconst _ItemnInputBak = styled.input<{\n    readOnly?: boolean;\n    isCenter: boolean;\n    hasTitle: boolean;\n    width?: number;\n    errorType?: ValidateUtil.ErrorType;\n}>`\n    display: inline-block;\n    height: calc(100% - 4px);\n    ${props => !props.hasTitle ? css`\n    ` : css`\n        width: calc(100% - 152px);\n    `}\n    ${props => props.width == undefined ? '' : css`\n        width: ${props.width}px;\n    `}\n    margin-top: 2px;\n    font-size: 24px;\n    line-height: 32px;\n    /* font-weight: 600; */\n    color: #3d3d3d;\n    border: solid 1px #959595;\n    border-radius: 4px;\n    padding: 0 5px;\n    box-sizing: border-box;\n    background-color: ${props => {\n        if (props.errorType == undefined) return '#ececec';\n        else {\n            switch (props.errorType) {\n                case 'required': return '#dbd7b3';\n                case 'length': return '#dbb3b3';\n                case 'value': return '#b3b3db';\n                case 'relation': return '#b3dbb3';\n            }\n        }\n    }};\n    text-align: left;\n    vertical-align: top;\n    user-select: text;\n    /* ${props => !props.isCenter ? css`\n        margin-left: 4px;\n    ` : css``\n    } */\n    ${props => !props.readOnly ? '' : css`\n        color: #020075;\n        /* border: none; */\n        outline: none;\n        background-color: transparent;\n    `}\n    ::placeholder {\n        color: #00000050;\n        font-style: italic;\n    }\n`;\n\nconst _ItemnInput = styled.input<{\n    readOnly?: boolean;\n    width?: number;\n    errorType?: ValidateUtil.ErrorType;\n    marginLeft?: number;\n}>`\n    display: inline-block;\n    height: calc(100% - 4px);\n    width: ${props => props.width}px;\n    margin-top: 2px;\n    margin-left: ${props => props.marginLeft ?? 0}px;\n    font-size: 24px;\n    line-height: 32px;\n    /* font-weight: 600; */\n    color: #3d3d3d;\n    border: solid 1px #959595;\n    border-radius: 4px;\n    padding: 0 5px;\n    box-sizing: border-box;\n    background-color: ${props => {\n        if (props.errorType == undefined) return '#ececec';\n        else {\n            switch (props.errorType) {\n                case 'required': return '#dbd7b3';\n                case 'length': return '#dbb3b3';\n                case 'value': return '#b3b3db';\n                case 'relation': return '#b3dbb3';\n            }\n        }\n    }};\n    text-align: left;\n    vertical-align: top;\n    user-select: text;\n    ${props => !props.readOnly ? '' : css`\n        color: #020075;\n        /* border: none; */\n        outline: none;\n        background-color: transparent;\n    `}\n    ::placeholder {\n        color: #00000050;\n        font-style: italic;\n    }\n`;\n\nconst _ItemCombobox = styled.select<{\n    readOnly?: boolean;\n    width?: number;\n    errorType?: ValidateUtil.ErrorType;\n    marginLeft?: number;\n}>`\n    display: inline-block;\n    height: calc(100% - 4px);\n    width: ${props => props.width}px;\n    margin-top: 2px;\n    margin-left: ${props => props.marginLeft ?? 0}px;\n    font-size: 24px;\n    line-height: 32px;\n    /* font-weight: 600; */\n    color: #3d3d3d;\n    border: solid 1px #959595;\n    border-radius: 4px;\n    padding: 0 5px;\n    box-sizing: border-box;\n    background-color: ${props => {\n        if (props.errorType == undefined) return '#ececec';\n        else {\n            switch (props.errorType) {\n                case 'required': return '#dbd7b3';\n                case 'length': return '#dbb3b3';\n                case 'value': return '#b3b3db';\n                case 'relation': return '#b3dbb3';\n            }\n        }\n    }};\n    text-align: left;\n    vertical-align: top;\n    user-select: text;\n    ${props => !props.readOnly ? '' : css`\n        color: #020075;\n        /* border: none; */\n        outline: none;\n        background-color: transparent;\n        pointer-events: none;\n    `}\n    ::placeholder {\n        color: #00000050;\n        font-style: italic;\n    }\n`;\n\nconst _Option = styled.option<{\n    isDisabled: boolean;\n}>`\n    ${props => !props.isDisabled ? '' : css`\n        color: #0000004b;\n    `}\n`;\n\nconst _Message = styled.div<{\n    isLink?: boolean;\n    isCenter: boolean;\n}>`\n    display: inline-block;\n    height: calc(100% - 4px);\n    margin-top: 2px;\n    font-size: ${Styles.FONT_MIDIUM}px;\n    line-height: 32px;\n    /* font-weight: 600; */\n    color: #002c52;\n    border-radius: 4px;\n    padding: 0 5px;\n    box-sizing: border-box;\n    /* background-color: #d37878; */\n    text-align: left;\n    vertical-align: top;\n    user-select: text;\n    ${props => !props.isCenter ? css`\n        margin-left: 4px;\n    ` : css``\n    }\n    ${props => !props.isLink ? '' : css`\n        color: #0459a3;\n        user-select: none;\n        text-decoration: underline;\n        &:hover {\n            color: #68a4d8;\n        }\n    `}\n`;\n\nconst _ButtonsDiv = styled.div`\n    display: inline-block;\n    width: 100%;\n    height: 40px;\n    /* background-color: #888888; */\n    box-sizing: border-box;\n    text-align: left;\n    white-space: nowrap;\n`;\n\nconst _Button = styled.div<{\n    isEnable: boolean;\n    isCenter: boolean;\n    width?: number;\n}>`\n    ${Styles.CSS_LABEL_MIDIUM}\n    ${props => props.width == undefined ? css`\n        padding: 0 40px;\n    ` : css`\n        width: ${props.width}px;\n    `}\n    /* line-height: 25px; */\n    box-sizing: border-box;\n    /* background-color: #a8a8a8; */\n    background: linear-gradient(to bottom, #cdcdcd, #ebebeb, #cdcdcd);\n    border: 1px solid #747474;\n    color: #515151;\n    border-radius: 4px;\n    ${props => !props.isCenter ? css`\n        margin-left: 4px;\n    ` : css``\n    }\n    margin: 5px 0 0 4px;\n    ${props => props.isEnable ? '' : Styles.CSS_BUTTON_DISABLE}\n    &:hover {\n        /* background-color: #98bfc2; */\n        background: linear-gradient(to bottom, #989898, #b4b4b4, #989898);\n    }\n`;\n\nconst _Switch = styled.div<{\n    isUse: boolean;\n    isEnable: boolean;\n    width?: number;\n    isRelation: boolean;\n}>`\n    ${Styles.CSS_LABEL_MIDIUM}\n    ${props => props.width == undefined ? css`\n        padding: 0 40px;\n    ` : css`\n        width: ${props.width}px;\n    `}\n    /* line-height: 25px; */\n    box-sizing: border-box;\n    background-color: #a8a8a8;\n    color: #515151;\n    border: 1px solid #747474;\n    ${props => !props.isRelation ? css<{ isUse: boolean }>`\n        background-color: ${props => !props.isUse ? '#e7e7e779' : '#e4f67e'};\n    ` : css<{ isUse: boolean }>`\n        background-color: ${props => !props.isUse ? '#ddc1d979' : '#d898b3'};\n        color: ${props => !props.isUse ? '#515151' : '#9c2626'};\n    `}\n    border-radius: 4px;\n    margin: 5px 0 0 4px;\n    ${props => props.isEnable ? '' : Styles.CSS_BUTTON_DISABLE}\n    &:hover {\n        ${props => !props.isRelation ? css<{ isUse: boolean }>`\n            background-color: ${props => !props.isUse ? '#edefb286' : '#b5be7f'};\n        ` : css<{ isUse: boolean }>`\n            background-color: ${props => !props.isUse ? '#d3a1cb79' : '#d898b3'};\n            color: ${props => !props.isUse ? '#515151' : '#9c2626'};\n        `}\n    }\n`;\n\nconst _BorderText = styled.div<{\n}>`\n    ${Styles.CSS_LABEL_SMALL}\n    color: #990000;\n    /* background-color: #0a0a0a40; */\n    font-style: italic;\n    margin: 4px 0 0 8px;\n`;\nconst _BorderPanel = styled.div<{\n    isEnable: boolean;\n}>`\n    display: inline-block;\n    margin: 0 0 0 6px;\n    padding: 4px;\n    width: calc(100% - 12px);\n    background-color: #dcddce;\n    border: 1px solid #000;\n    box-sizing: border-box;\n    border-radius: 4px;\n    text-align: left;\n    ${props => props.isEnable ? '' : Styles.CSS_BUTTON_DISABLE}\n`;\n\nconst _InfoDiv = styled.div<{\n    height: number;\n    color: string;\n}>`\n    margin: 4px 0 0 0;\n    display: inline-block;\n    background-color: #e7e5e561;\n    border: solid 1px #949494;\n    width: 100%;\n    height: ${props => props.height}px;\n    padding: 2px;\n    box-sizing: border-box;\n    text-align: left;\n    font-size: ${Styles.FONT_SMALL}px;\n    color: ${props => props.color};\n    overflow-y: auto;\n`;","\r\n\r\n\r\nnamespace SystemUtil {\r\n\r\n  export const CONTENTS_WIDTH = 576;\r\n  export const CONTENTS_HEIGHT = 1024;\r\n  export const USER_INFO = 30;\r\n\r\n  export const FIELD_MARGIN = 10;\r\n  export const MAX_CELL_WIDTH = 100;\r\n\r\n  export function isSmartPhone() {\r\n    // UserAgent\r\n    if (navigator.userAgent.match(/iPhone|Android.+Mobile/)) {\r\n      return true;\r\n    } else {\r\n      return false;\r\n    }\r\n  }\r\n}\r\n\r\nexport default SystemUtil;","namespace CanvasUtil {\n\n    /**\n     * CanvasURL\n     * @param width \n     * @param height \n     * @param draw \n     * @returns URL\n     */\n    export const createURL = (width: number, height: number, draw: (ctx: CanvasRenderingContext2D) => void) => {\n        const canvas = document.createElement('canvas');\n        const ctx = canvas.getContext('2d') as CanvasRenderingContext2D;\n        canvas.width = width;\n        canvas.height = height;\n        draw(ctx);\n        return canvas.toDataURL();\n    }\n}\n\nexport default CanvasUtil;","import { useEffect, useRef, useState } from \"react\";\r\nimport styled, { css } from \"styled-components\";\r\nimport FormUtil from \"../../utils/form/formUtiil\";\r\nimport SystemUtil from \"../../utils/systemUtil\";\r\nimport CanvasUtil from \"../../utils/canvasUtil\";\r\n\r\n\r\nconst BOX_WIDTH = 112;\r\nnamespace SetterFrame {\r\n\r\n    type Unit = {\r\n        time: number;\r\n        delay: number;\r\n        seeds: Seed[];\r\n    }\r\n    type ParDef = {\r\n        x: number;\r\n        y: number;\r\n    }\r\n    export type Seed = {\r\n        rising: number;\r\n        spread: number;\r\n        seedColor: string;\r\n        barrColor: string[];\r\n        pars: ParDef[];\r\n    }\r\n    type LocalState = {\r\n        units: Unit[];\r\n        focusUnit: number;\r\n        focusSeed: number;\r\n        isDetail: boolean;\r\n        thumbs: string[][];\r\n    }\r\n\r\n    export type Request = {\r\n        units: Unit[];\r\n    }\r\n    export const Component = (props: {\r\n        isVisible: boolean;\r\n        start: (req: Request) => void;\r\n    }) => {\r\n\r\n        const [ls, setLs] = useState<LocalState>({\r\n            units: [],\r\n            focusUnit: -1,\r\n            focusSeed: -1,\r\n            isDetail: false,\r\n            thumbs: []\r\n        });\r\n        const invalidate = () => setLs({ ...ls });\r\n\r\n        const getNextTime = () => {\r\n            let time = 0;\r\n            if (ls.units.length !== 0) {\r\n                time = ls.units\r\n                    .map(u => u.time)\r\n                    .reduce((prev, cur) => prev < cur ? cur : prev, 0) + 110;\r\n            }\r\n            return time;\r\n        }\r\n\r\n        const drawPoint = (clientRect: DOMRect, clientX: number, clientY: number) => {\r\n\r\n            const WIDTH = SystemUtil.CONTENTS_WIDTH - 16;\r\n            const rate = WIDTH / clientRect.width;\r\n            // console.log(`RATE:${rate}`);\r\n            const x = (-clientRect.left + clientX) * rate;\r\n            const y = (-clientRect.top + clientY) * rate;\r\n            const subX = -WIDTH / 2 + x;\r\n            const subY = -WIDTH / 2 + y;\r\n            // console.log(`CXY:${rect.left},${rect.top}`);\r\n            // console.log(`XY:${x},${y}`);\r\n            const pars = ls.units[ls.focusUnit].seeds[ls.focusSeed].pars;\r\n            pars.push({ x: subX, y: subY });\r\n            invalidate();\r\n        }\r\n\r\n        if (!props.isVisible) return <></>;\r\n        return (\r\n            <_Wrap>\r\n                {ls.units.map((unit, i) => {\r\n\r\n                    return (\r\n                        <_Record key={i}>\r\n                            {unit.seeds.map((seed, j) => {\r\n\r\n                                const getThumbJsx = () => {\r\n                                    const thumb = ls.thumbs[i][j];\r\n                                    return thumb === '' ? <></> : <_Thumb src={thumb} />;\r\n                                }\r\n                                return (\r\n                                    <_Box key={j}\r\n                                        isFocus={ls.focusUnit === i && ls.focusSeed === j}\r\n                                        onClick={() => {\r\n                                            ls.focusUnit = i;\r\n                                            ls.focusSeed = j;\r\n                                            invalidate();\r\n                                        }}\r\n                                        onContextMenu={() => {\r\n                                            ls.isDetail = true;\r\n                                            invalidate();\r\n                                        }}\r\n                                    >\r\n                                        {getThumbJsx()}\r\n                                    </_Box>\r\n                                );\r\n                            })}\r\n                        </_Record>\r\n                    );\r\n                })}\r\n                <FormUtil.ButtonRecord textAlign=\"left\" buttons={[\r\n                    {\r\n                        label: '+Unit', width: 100, isEnable: ls.units.length < 7, callback: () => {\r\n                            ls.units.push({\r\n                                seeds: [\r\n                                    { rising: 5, spread: 0.08, seedColor: '#ffff99', barrColor: ['#ff0000', '#0000ff'], pars: [] }\r\n                                ],\r\n                                delay: 0,\r\n                                time: getNextTime()\r\n                            });\r\n                            ls.thumbs.push(['']);\r\n                            ls.focusUnit = ls.units.length - 1;\r\n                            ls.focusSeed = 0;\r\n                            invalidate();\r\n                        }\r\n                    },\r\n                    {\r\n                        label: '-Unit', width: 100, isEnable: ls.focusUnit !== -1, callback: () => {\r\n                            ls.units.splice(ls.focusUnit, 1);\r\n                            ls.thumbs.splice(ls.focusUnit, 1);\r\n                            ls.focusUnit = -1;\r\n                            ls.focusSeed = -1;\r\n                            invalidate();\r\n                        }\r\n                    },\r\n                    {\r\n                        label: '+Seed', width: 100, isEnable: ls.focusUnit !== -1 && ls.units[ls.focusUnit].seeds.length < 5,\r\n                        callback: () => {\r\n                            ls.units[ls.focusUnit].seeds.push(\r\n                                JSON.parse(JSON.stringify(ls.units[ls.focusUnit].seeds[ls.focusSeed]))\r\n                            );\r\n                            ls.thumbs[ls.focusUnit].push('');\r\n                            ls.focusSeed = ls.units[ls.focusUnit].seeds.length - 1;\r\n                            invalidate();\r\n                        }\r\n                    },\r\n                    {\r\n                        label: '-Seed', width: 100, isEnable: ls.focusUnit !== -1 && ls.units[ls.focusUnit].seeds.length > 1,\r\n                        callback: () => {\r\n                            const seeds = ls.units[ls.focusUnit].seeds;\r\n                            seeds.splice(ls.focusSeed, 1);\r\n                            ls.thumbs.splice(ls.focusSeed, 1);\r\n                            invalidate();\r\n                        }\r\n                    }\r\n                ]} />\r\n                <FormUtil.ButtonRecord textAlign=\"left\" buttons={[\r\n                    {\r\n                        label: 'Start', width: 130, isEnable: ls.units.length > 0, callback: () => {\r\n                            props.start({\r\n                                units: ls.units\r\n                            })\r\n                            invalidate();\r\n                        }\r\n                    }\r\n                ]} />\r\n\r\n                {!ls.isDetail ? <></> : (\r\n                    <_Blind>\r\n                        {/* <_ParamRecord>\r\n                            <_ParamLabel>Unit Interval</_ParamLabel>\r\n                            <_InputRange type=\"range\" min={0} max={20} />\r\n                        </_ParamRecord> */}\r\n                        {/* <_ParamRecord>\r\n                            <_ParamLabel>Seed Delay</_ParamLabel>\r\n                            <_InputRange type=\"range\" min={0} max={10} value={ls.units[ls.focusUnit].delay} onChange={(e) => {\r\n                                ls.units[ls.focusUnit].delay = Number(e.target.value);\r\n                                invalidate();\r\n                            }} />\r\n                        </_ParamRecord> */}\r\n                        <_ParamRecord>\r\n                            <_ParamLabel>Rising Speed</_ParamLabel>\r\n                            <_InputRange type=\"range\" min={3} max={8} step={0.1} value={ls.units[ls.focusUnit].seeds[ls.focusSeed].rising} onChange={(e) => {\r\n                                ls.units[ls.focusUnit].seeds[ls.focusSeed].rising = Number(e.target.value);\r\n                                invalidate();\r\n                            }} />\r\n                        </_ParamRecord>\r\n                        <_ParamRecord>\r\n                            <_ParamLabel>Seed Color</_ParamLabel>\r\n                            <_InputColor type=\"color\" value={ls.units[ls.focusUnit].seeds[ls.focusSeed].seedColor} onChange={(e) => {\r\n                                ls.units[ls.focusUnit].seeds[ls.focusSeed].seedColor = e.target.value;\r\n                                invalidate();\r\n                            }} />\r\n                        </_ParamRecord>\r\n                        <_ParamRecord>\r\n                            <_ParamLabel>Spread Speed</_ParamLabel>\r\n                            <_InputRange type=\"range\" min={0.04} max={0.2} step={0.01} value={ls.units[ls.focusUnit].seeds[ls.focusSeed].spread} onChange={(e) => {\r\n                                ls.units[ls.focusUnit].seeds[ls.focusSeed].spread = Number(e.target.value);\r\n                                invalidate();\r\n                            }} />\r\n                        </_ParamRecord>\r\n                        <_ParamRecord>\r\n                            <_ParamLabel>Barrage Color</_ParamLabel>\r\n                            <_InputColor type=\"color\" value={ls.units[ls.focusUnit].seeds[ls.focusSeed].barrColor[0]} onChange={(e) => {\r\n                                ls.units[ls.focusUnit].seeds[ls.focusSeed].barrColor[0] = e.target.value;\r\n                                invalidate();\r\n                            }} />\r\n                            <_InputColor type=\"color\" value={ls.units[ls.focusUnit].seeds[ls.focusSeed].barrColor[1]} onChange={(e) => {\r\n                                ls.units[ls.focusUnit].seeds[ls.focusSeed].barrColor[1] = e.target.value;\r\n                                invalidate();\r\n                            }} />\r\n                        </_ParamRecord>\r\n                        <_WndWrap>\r\n                            <_Wnd\r\n                                onClick={(e) => {\r\n                                    const rect = e.currentTarget.getClientRects()[0];\r\n                                    drawPoint(rect, e.clientX, e.clientY);\r\n                                }}\r\n                                onMouseMove={(e) => {\r\n                                    if (e.buttons) {\r\n                                        const rect = e.currentTarget.getClientRects()[0];\r\n                                        drawPoint(rect, e.clientX, e.clientY);\r\n                                    }\r\n                                }}\r\n                                onTouchMove={(e) => {\r\n                                    const rect = e.currentTarget.getClientRects()[0];\r\n                                    const t = e.touches[0];\r\n                                    drawPoint(rect, t.clientX, t.clientY);\r\n                                }}\r\n                            >\r\n                                <_Center />\r\n                                {ls.units[ls.focusUnit].seeds[ls.focusSeed].pars.map((par, i) => {\r\n                                    const WIDTH = SystemUtil.CONTENTS_WIDTH - 16;\r\n                                    const x = WIDTH / 2 + par.x;\r\n                                    const y = WIDTH / 2 + par.y;\r\n                                    return (<_Par key={i} x={x} y={y} color={ls.units[ls.focusUnit].seeds[ls.focusSeed].barrColor[0]} />);\r\n                                })}\r\n                            </_Wnd>\r\n                        </_WndWrap>\r\n                        <FormUtil.ButtonRecord textAlign=\"left\" buttons={[\r\n                            {\r\n                                label: 'Clear', width: 130, callback: () => {\r\n                                    ls.units[ls.focusUnit].seeds[ls.focusSeed].pars.length = 0;\r\n                                    invalidate();\r\n                                }\r\n                            },\r\n                            {\r\n                                label: 'Enter', width: 130, callback: () => {\r\n                                    ls.isDetail = false;\r\n\r\n                                    const WIDTH = SystemUtil.CONTENTS_WIDTH - 16;\r\n                                    const seed = ls.units[ls.focusUnit].seeds[ls.focusSeed];\r\n                                    ls.thumbs[ls.focusUnit][ls.focusSeed] = CanvasUtil.createURL(WIDTH, WIDTH, (ctx => {\r\n\r\n                                        seed.pars.forEach(par => {\r\n                                            const x = WIDTH / 2 + par.x;\r\n                                            const y = WIDTH / 2 + par.y;\r\n                                            ctx.beginPath();\r\n                                            ctx.arc(x, y, 5, 0, Math.PI * 2, true);\r\n                                            ctx.strokeStyle = seed.barrColor[0];\r\n                                            ctx.stroke();\r\n                                        });\r\n                                    }))\r\n                                    invalidate();\r\n                                }\r\n                            }\r\n                        ]} />\r\n                    </_Blind>\r\n                )}\r\n            </_Wrap>\r\n        );\r\n    }\r\n}\r\n\r\nexport default SetterFrame;\r\n\r\n\r\nconst _Wrap = styled.div`\r\n    display: inline-block;\r\n    background-color: #004;\r\n    width: 100%;\r\n    height: 100%;\r\n`;\r\n\r\nconst _Record = styled.div`\r\n    display: inline-block;\r\n    background-color: #9696a1;\r\n    width: 100%;\r\n    height: 117px;\r\n    margin-top: 2px;\r\n    text-align: center;\r\n    padding: 0 0 0 2px;\r\n    box-sizing: border-box;\r\n`;\r\n\r\nconst _Box = styled.div<{\r\n    isFocus: boolean;\r\n}>`\r\n    display: inline-block;\r\n    background-color: #27272b;\r\n    ${props => !props.isFocus ? '' : css`\r\n        background-color: #42525a;\r\n    `}\r\n    width: ${BOX_WIDTH}px;\r\n    height: ${BOX_WIDTH}px;\r\n    margin: 2px 0 0 2px;\r\n\r\n    &:hover {\r\n        opacity: 0.7;\r\n    }\r\n`;\r\nconst _Thumb = styled.img<{\r\n}>`\r\n    width: 100%;\r\n    height: 100%;\r\n    object-fit: cover;  \r\n`;\r\n\r\nconst _Blind = styled.div`\r\n    display: inline-block;\r\n    position: absolute;\r\n    left: 0;\r\n    top: 0;\r\n    background-color: #005c5f;\r\n    width: 100%;\r\n    height: 100%;\r\n    text-align: left;\r\n    z-index: 2;\r\n    opacity: 0.99;\r\n`;\r\n\r\nconst _ParamRecord = styled.div`\r\n    display: inline-block;\r\n    position: relative;\r\n\r\n    background-color: #d4d6d6;\r\n    margin-top: 2px;\r\n    width: 100%;\r\n    height: 50px;\r\n    text-align: left;\r\n`;\r\nconst _ParamLabel = styled.div`\r\n    display: inline-block;\r\n    position: relative;\r\n\r\n    font-weight: 600;\r\n    font-size: 18px;\r\n    line-height: 18px;\r\n    color: #810303;\r\n    width: 100%;\r\n    height: 20px;\r\n    background-color: #d3d31760;\r\n`;\r\nconst _InputRange = styled.input`\r\n    display: inline-block;\r\n    position: relative;\r\n\r\n    margin-left: 20px;\r\n    width: calc(100% - 40px);\r\n    height: 30px;\r\n    box-sizing: border-box;\r\n`;\r\nconst _InputColor = styled.input`\r\n    display: inline-block;\r\n    position: relative;\r\n\r\n    width: 50px;\r\n    height: 30px;\r\n    box-sizing: border-box;\r\n`;\r\nconst _WndWrap = styled.div`\r\n    display: inline-block;\r\n    position: relative;\r\n    margin-top: 2px;\r\n\r\n    background-color: #c72020d2;\r\n    width: ${SystemUtil.CONTENTS_WIDTH}px;\r\n    height: ${SystemUtil.CONTENTS_WIDTH}px;\r\n    text-align: left;\r\n`;\r\n\r\nconst _Wnd = styled.div`\r\n    display: inline-block;\r\n    position: relative;\r\n    \r\n    background-color: #000000d2;\r\n    width: calc(100% - 16px);\r\n    height: calc(100% - 16px);\r\n    margin: 8px 0 0 8px;\r\n`;\r\nconst _Center = styled.div`\r\n    display: inline-block;\r\n    position: absolute;\r\n    background-color: #ffffffd2;\r\n    left: ${SystemUtil.CONTENTS_WIDTH / 2 - 10}px;\r\n    top: ${SystemUtil.CONTENTS_WIDTH / 2 - 10}px;\r\n    width: 20px;\r\n    height: 20px;\r\n`;\r\nconst _Par = styled.div<{\r\n    x: number;\r\n    y: number;\r\n    color: string;\r\n}>`\r\n    display: inline-block;\r\n    position: absolute;\r\n    background-color: ${props => props.color};\r\n    border-radius: 10px;\r\n    left: ${props => props.x - 5}px;\r\n    top: ${props => props.y - 5}px;\r\n    width: 10px;\r\n    height: 10px;\r\n`;","import { useEffect, useState } from \"react\";\r\nimport Sketch from \"react-p5\";\r\nimport p5Types from \"p5\";\r\nimport SystemUtil from \"../../utils/systemUtil\";\r\nimport SetterFrame from \"./setterFrame\";\r\nimport FormUtil from \"../../utils/form/formUtiil\";\r\nimport CanvasUtil from \"../../utils/canvasUtil\";\r\n\r\nnamespace PlayerFrame {\r\n\r\n    const getRgbFromColorCode = (code: string) => {\r\n        var r = parseInt(code.substring(1, 3), 16);\r\n        var g = parseInt(code.substring(3, 5), 16);\r\n        var b = parseInt(code.substring(5, 7), 16);\r\n        return [r, g, b];\r\n    }\r\n    const CANVAS_WIDTH = SystemUtil.CONTENTS_WIDTH;\r\n    type XY = {\r\n        x: number;\r\n        y: number;\r\n    }\r\n    class Vec {\r\n        v: XY;\r\n        len: number;\r\n        rad: number;\r\n        constructor(dirRad: number, len: number) {\r\n            this.v = {\r\n                x: Math.cos(dirRad) * len,\r\n                y: Math.sin(dirRad) * len\r\n            };\r\n            this.rad = dirRad;\r\n            this.len = len;\r\n        }\r\n        syncVecToRad() {\r\n            this.rad = Math.atan2(this.v.y, this.v.x);\r\n            this.len = Math.sqrt(Math.abs(this.v.x) * Math.abs(this.v.x) + Math.abs(this.v.y) * Math.abs(this.v.y));\r\n        }\r\n    }\r\n\r\n    const getRGBA = (color: { r: number, g: number, b: number, a: number }) => {\r\n        const r = ('00' + color.r.toString(16)).slice(-2);\r\n        const g = ('00' + color.g.toString(16)).slice(-2);\r\n        const b = ('00' + color.b.toString(16)).slice(-2);\r\n        const a = ('00' + color.a.toString(16)).slice(-2);\r\n        return `#${r}${g}${b}${a}`;\r\n    }\r\n\r\n    class Color {\r\n        r: number;\r\n        g: number;\r\n        b: number;\r\n        a: number;\r\n\r\n        constructor(r: number, g: number, b: number) {\r\n            this.r = r;\r\n            this.g = g;\r\n            this.b = b;\r\n            this.a = 255;\r\n        }\r\n\r\n        getRGBA() {\r\n            return getRGBA({ r: this.r, g: this.g, b: this.b, a: this.a });\r\n        }\r\n    }\r\n    class Particle {\r\n\r\n        pos: XY;\r\n        prevPos: XY;\r\n        vec: Vec;\r\n        radius: number;\r\n\r\n        color: Color;\r\n        timer: number;\r\n\r\n        isLive: boolean;\r\n\r\n        histories: XY[];\r\n\r\n        extend: Extend;\r\n\r\n        constructor(pos: XY, vec: Vec, radius: number, extend: Extend) {\r\n            this.pos = this.prevPos = pos;\r\n            this.vec = vec;\r\n            this.radius = radius;\r\n            this.color = new Color(255, 255, 255);\r\n            this.extend = extend;\r\n\r\n            this.timer = 0;\r\n            this.isLive = true;\r\n            this.histories = [];\r\n        }\r\n    }\r\n\r\n    type Extend = {\r\n        modulate: (self: Particle) => void;\r\n        draw: (self: Particle) => void;\r\n        props: any;\r\n    }\r\n\r\n    type MainBarrProp = {\r\n        limit: number;\r\n        startColor: Color;\r\n        endColor: Color;\r\n    }\r\n\r\n    type EmbersProp = {\r\n        limit: number;\r\n        color: Color;\r\n    }\r\n    type SeedProp = {\r\n        color: Color;\r\n        shadeNum: number;\r\n    }\r\n\r\n    export const Component = (props: {\r\n        req: SetterFrame.Request;\r\n        back: () => void;\r\n    }) => {\r\n        const [ls, setLs] = useState<{\r\n            time: number;\r\n            list: Particle[];\r\n            nextUnitIndex: number;\r\n        }>({\r\n            time: 0,\r\n            list: [],\r\n            nextUnitIndex: -1\r\n        });\r\n        const invalidate = () => setLs({ ...ls });\r\n\r\n        // const updateNextTime = () => {\r\n        //     const nextUnit = props.req.units.find(u => u.time > ls.nextTime);\r\n        //     if (nextUnit != undefined) {\r\n        //         ls.nextTime = nextUnit.time;\r\n        //         invalidate();\r\n        //     }\r\n        // }\r\n\r\n        useEffect(() => {\r\n            if (props.req.units.length > 0) {\r\n                ls.nextUnitIndex = 0;\r\n                invalidate();\r\n            }\r\n        }, []);\r\n\r\n        const setup = (p5: p5Types, canvasParentRef: Element) => {\r\n            p5.createCanvas(CANVAS_WIDTH, CANVAS_WIDTH).parent(canvasParentRef);\r\n            p5.background('#000');\r\n            p5.frameRate(60);\r\n        };\r\n\r\n        const draw = (p5: p5Types) => {\r\n            p5.background('#000000');\r\n\r\n            if (ls.nextUnitIndex === -1) return;\r\n            const unit = props.req.units[ls.nextUnitIndex];\r\n\r\n            const createSeed = () => {\r\n\r\n                unit.seeds.forEach((seed, i) => {\r\n                    const interval = CANVAS_WIDTH / (unit.seeds.length + 1);\r\n                    const x = interval + interval * i;\r\n\r\n                    const [r, g, b] = getRgbFromColorCode(seed.seedColor);\r\n                    const seedExt: SeedProp = {\r\n                        color: new Color(r, g, b),\r\n                        shadeNum: 10\r\n                    };\r\n                    ls.list.push(new Particle(\r\n                        { x, y: CANVAS_WIDTH },\r\n                        new Vec(Math.PI * 1.5, seed.rising),\r\n                        13,\r\n                        {\r\n                            modulate: (self) => {\r\n                                const ext: SeedProp = self.extend.props;\r\n                                // \r\n                                self.vec.v.y += 0.05;\r\n\r\n                                // self.histories.unshift({ ...self.pos });\r\n                                // if (self.histories.length > self.extend.props.shadeNum) self.histories.splice(self.histories.length - 1, 1);\r\n\r\n                                if (self.timer === 0) {\r\n                                    self.color = ext.color;\r\n                                }\r\n\r\n                                if (self.vec.v.y < 0) {\r\n                                    createTracer(self, ext.color);\r\n                                }\r\n                                if (self.vec.v.y > 2) {\r\n                                    self.isLive = false;\r\n\r\n                                    createBarrage(seed, self);\r\n                                }\r\n                                // self.histories.unshift({ ...self.pos });\r\n                                // if (self.histories.length > ext.shadeNum) self.histories.splice(self.histories.length - 1, 1);\r\n                            },\r\n                            draw: (self) => {\r\n                                // const limit: number = self.extend.props.limit;\r\n                                // // self.color.a = Math.floor(255 * ((limit - self.timer) / limit));\r\n\r\n                                // p5.noStroke();\r\n                                // p5.fill(self.color.getRGBA());\r\n                                // p5.ellipse(self.pos.x, self.pos.y, self.radius, self.radius);\r\n\r\n                                // self.histories.forEach(pos => {\r\n                                //     const subA = Math.floor(self.color.a * ((limit - self.timer) / limit));\r\n                                //     p5.fill(getRGBA({ ...self.color, a: subA }));\r\n                                //     p5.ellipse(pos.x, pos.y, self.radius, self.radius);\r\n                                // });\r\n                            },\r\n                            props: seedExt\r\n                        }\r\n                    ));\r\n                });\r\n            }\r\n\r\n            const createTracer = (parent: Particle, color: Color) => {\r\n                const parNum = 2;\r\n                const ext: MainBarrProp = {\r\n                    limit: Math.floor(21 + Math.random() * 42),\r\n                    startColor: new Color(255, 110, 110),\r\n                    endColor: new Color(120, 110, 255)\r\n                }\r\n                for (let i = 0; i < parNum; i++) {\r\n                    const rangeRad = 0.12;\r\n                    ls.list.push(new Particle(\r\n                        { x: parent.pos.x, y: parent.pos.y },\r\n                        new Vec(\r\n                            Math.PI / 2 - rangeRad / 2 + Math.random() * rangeRad,\r\n                            (Math.random() * Math.abs(parent.vec.v.y)) * 2\r\n                        ),\r\n                        3 + Math.random() * 5,\r\n                        // new Color(255, Math.floor(Math.random() * 155), 0),\r\n                        {\r\n                            modulate: (self) => {\r\n                                const ext: MainBarrProp = self.extend.props;\r\n                                const limit = ext.limit;\r\n                                if (self.timer === 0) {\r\n                                    self.color = ext.startColor;\r\n                                }\r\n                                if (self.timer === limit) self.isLive = false;\r\n\r\n\r\n                                if (self.timer === 0) self.color = color;\r\n\r\n                                // 1\r\n                                if (self.vec.len > 1) {\r\n                                    self.vec.v.x *= 0.91;\r\n                                    self.vec.v.y *= 0.91;\r\n                                    self.vec.syncVecToRad();\r\n                                }\r\n\r\n                            },\r\n                            draw: (self) => {\r\n                                const ext: MainBarrProp = self.extend.props;\r\n                                const limit = ext.limit;\r\n\r\n                                // self.color.a = Math.floor(255 * ((limit - self.timer) / limit));\r\n                                const radRate = ((limit - self.timer) / limit);\r\n                                const radius = self.radius * radRate;\r\n                                p5.noStroke();\r\n\r\n                                p5.fill(self.color.getRGBA());\r\n                                p5.ellipse(self.pos.x, self.pos.y, radius, radius);\r\n                            },\r\n                            props: ext\r\n                        }\r\n                    ));\r\n                }\r\n            }\r\n\r\n            const createBarrage = (seed: SetterFrame.Seed, self: Particle) => {\r\n\r\n                const [sr, sg, sb] = getRgbFromColorCode(seed.barrColor[0]);\r\n                const [er, eg, eb] = getRgbFromColorCode(seed.barrColor[1]);\r\n                seed.pars.forEach((par) => {\r\n                    const barrExt: MainBarrProp = {\r\n                        limit: Math.floor(80 + Math.random() * 120),\r\n                        startColor: new Color(sr, sg, sb),\r\n                        endColor: new Color(er, eg, eb)\r\n                    };\r\n\r\n                    const radian = Math.atan2(par.y, par.x);\r\n                    const lenRate = seed.spread;\r\n                    const len = Math.sqrt(Math.abs(par.x) * Math.abs(par.x) + Math.abs(par.y) * Math.abs(par.y)) * lenRate;\r\n                    ls.list.push(new Particle(\r\n                        { x: self.pos.x, y: self.pos.y },\r\n                        new Vec(\r\n                            radian,\r\n                            len\r\n                        ),\r\n                        5 + Math.random() * 8,\r\n                        {\r\n                            modulate: (self) => {\r\n                                const ext: MainBarrProp = self.extend.props;\r\n                                const limit: number = ext.limit;\r\n\r\n                                const rSub = ext.endColor.r - ext.startColor.r;\r\n                                const gSub = ext.endColor.g - ext.startColor.g;\r\n                                const bSub = ext.endColor.b - ext.startColor.b;\r\n                                const limitRate = self.timer / limit;\r\n                                self.color.r = ext.startColor.r + Math.floor(rSub * limitRate);\r\n                                self.color.g = ext.startColor.g + Math.floor(gSub * limitRate);\r\n                                self.color.b = ext.startColor.b + Math.floor(bSub * limitRate);\r\n\r\n                                if (self.timer === limit) {\r\n                                    self.isLive = false;\r\n\r\n                                    createEmbers(self, ext.endColor);\r\n                                }\r\n\r\n                                // self.histories.unshift({ ...self.pos });\r\n                                // if (self.histories.length > self.extend.props.shadeNum) self.histories.splice(self.histories.length - 1, 1);\r\n\r\n                                // 1\r\n                                if (self.vec.len > 0.4) {\r\n                                    self.vec.v.x *= 0.91;\r\n                                    self.vec.v.y *= 0.91;\r\n                                    self.vec.syncVecToRad();\r\n                                    // console.log(`len: ${self.vec.len}`);\r\n                                }\r\n                            },\r\n                            draw: (self) => {\r\n                                const limit: number = self.extend.props.limit;\r\n                                let rate = 1;\r\n                                const start = 60;\r\n                                if (limit - self.timer < start) {\r\n                                    rate = (limit - self.timer) / start;\r\n                                }\r\n                                // self.color.a = Math.floor(255 * rate);\r\n                                p5.noStroke();\r\n\r\n                                // self.histories.forEach(pos => {\r\n                                //     const subA = Math.floor(self.color.a * ((limit - self.timer) / limit));\r\n                                //     p5.fill(getRGBA({ ...self.color, a: subA }));\r\n                                //     p5.ellipse(pos.x, pos.y, self.radius, self.radius);\r\n                                // });\r\n                                const color = self.color;\r\n                                p5.stroke(color.getRGBA());\r\n                                // color.a = 255 * rate;\r\n                                // color.g = Math.random() * 100;\r\n                                // p5.drawingContext.shadowBlur = 20;\r\n                                // p5.drawingContext.shadowColor = '#ff0000e1';\r\n                                p5.fill(color.getRGBA());\r\n                                const radius = self.radius * rate;\r\n                                // const radius = Math.floor(self.radius * (-0.7 + Math.random() * 0.6));\r\n                                p5.ellipse(self.pos.x, self.pos.y, radius, radius);\r\n                                // p5.ellipse(self.pos.x, self.pos.y, self.radius, self.radius);\r\n                            },\r\n                            props: barrExt\r\n                        }\r\n                    ));\r\n\r\n                    createDust(self, barrExt.startColor, radian, len);\r\n                });\r\n            }\r\n\r\n            /**\r\n             * \r\n             * @param parent \r\n             */\r\n            const createEmbers = (parent: Particle, color: Color) => {\r\n\r\n                ls.list.push(new Particle(\r\n                    { x: parent.pos.x, y: parent.pos.y },\r\n                    new Vec(\r\n                        Math.PI / 2,\r\n                        0.5\r\n                    ),\r\n                    4,\r\n                    {\r\n                        modulate: (self) => {\r\n\r\n                            self.vec.v.y += 0.006;\r\n                            const limit: number = self.extend.props.limit;\r\n                            if (self.timer === 0) {\r\n                                self.color = color;\r\n                            }\r\n                            if (self.timer === limit) {\r\n                                self.isLive = false;\r\n                            }\r\n                        },\r\n                        draw: (self) => {\r\n                            if (self.timer % 12 >= 6) return;\r\n                            self.color.a = 160;\r\n                            // p5.drawingContext.shadowColor = '#fff';\r\n                            // p5.drawingContext.shadowBlur = 50;\r\n                            p5.fill(self.color.getRGBA());\r\n                            p5.ellipse(self.pos.x, self.pos.y, self.radius, self.radius);\r\n                        },\r\n                        props: {\r\n                            limit: Math.floor(20 + Math.random() * 40),\r\n                        }\r\n                    }\r\n                ));\r\n            }\r\n\r\n            /**\r\n             * \r\n             * @param parent \r\n             * @param color \r\n             * @param radian \r\n             * @param len \r\n             */\r\n            const createDust = (parent: Particle, color: Color, radian: number, len: number) => {\r\n                const randNum = Math.floor(Math.random() * 3);\r\n                for (let j = 0; j < randNum; j++) {\r\n                    const secondRate = Math.random() * 2.3;\r\n                    ls.list.push(new Particle(\r\n                        { x: parent.pos.x, y: parent.pos.y },\r\n                        new Vec(\r\n                            radian,\r\n                            len * secondRate\r\n                        ),\r\n                        2 + Math.random() * 3,\r\n                        // new Color(255, Math.floor(Math.random() * 155), 0),\r\n                        {\r\n                            modulate: (self) => {\r\n                                const limit: number = self.extend.props.limit;\r\n                                if (self.timer === limit) self.isLive = false;\r\n\r\n                                if (self.timer === 0) self.color = color;\r\n\r\n                                // 1\r\n                                if (self.vec.len > 1) {\r\n                                    self.vec.v.x *= 0.91;\r\n                                    self.vec.v.y *= 0.91;\r\n                                    self.vec.syncVecToRad();\r\n                                }\r\n\r\n                            },\r\n                            draw: (self) => {\r\n                                const limit: number = self.extend.props.limit;\r\n                                self.color.a = Math.floor(255 * ((limit - self.timer) / limit));\r\n                                p5.noStroke();\r\n\r\n                                p5.fill(self.color.getRGBA());\r\n                                p5.ellipse(self.pos.x, self.pos.y, self.radius, self.radius);\r\n                            },\r\n                            props: {\r\n                                limit: Math.floor(30 + Math.random() * 77),\r\n                                shadeNum: 0\r\n                            }\r\n                        }\r\n                    ));\r\n                }\r\n            }\r\n\r\n            if (ls.time === unit.time) {\r\n\r\n                createSeed();\r\n\r\n                if (props.req.units.length > ls.nextUnitIndex + 1) {\r\n                    ls.nextUnitIndex++;\r\n                    invalidate();\r\n                }\r\n            }\r\n\r\n            for (let i = ls.list.length - 1; i >= 0; i--) {\r\n                const par = ls.list[i];\r\n\r\n                p5.noStroke();\r\n\r\n                par.pos.x += par.vec.v.x;\r\n                par.pos.y += par.vec.v.y;\r\n\r\n                par.extend.modulate(par);\r\n\r\n                par.extend.draw(par);\r\n\r\n                par.timer++;\r\n                if (!par.isLive) {\r\n                    ls.list.splice(i, 1);\r\n                }\r\n            }\r\n\r\n            if (ls.nextUnitIndex < props.req.units.length - 1 || ls.list.length > 0) {\r\n                ls.time++;\r\n            }\r\n            // invalidate();\r\n\r\n            p5.textSize(20);\r\n            p5.fill('#f5cdcd')\r\n            p5.text(`Frame: ${ls.time}`, 5, 20);\r\n            p5.text(`Second: ${Math.floor(ls.time / 60)}`, 5, 40);\r\n            p5.fill('#d8f5cd')\r\n            p5.text(`Particle: ${ls.list.length}`, 5, 60);\r\n        };\r\n\r\n        return (<>\r\n            <Sketch setup={setup} draw={draw} />\r\n            <FormUtil.ButtonRecord textAlign=\"left\" buttons={[\r\n                {\r\n                    label: 'Restart', width: 130, callback: () => {\r\n                        ls.time = 0;\r\n                        ls.nextUnitIndex = 0;\r\n                        ls.list.length = 0;\r\n                        invalidate();\r\n                    }\r\n                },\r\n                {\r\n                    label: 'Back', width: 130, callback: () => {\r\n                        props.back();\r\n                    }\r\n                }\r\n            ]} />\r\n        </>);\r\n    }\r\n}\r\n\r\nexport default PlayerFrame;","import { Ref, useEffect, useMemo, useRef, useState } from \"react\";\nimport SetterFrame from \"./setterFrame\";\nimport PlayerFrame from \"./playerFrame\";\nimport SystemUtil from \"../../utils/systemUtil\";\nimport styled from \"styled-components\";\nimport assert from \"assert\";\n\n\nnamespace SystemEntry {\n\n    type Mode = 'set' | 'play'\n    type LocalState = {\n        mode: Mode;\n        req: SetterFrame.Request | null;\n    }\n    type ScreenBean = {\n        adjLeft: number;\n        adjTop: number;\n        rate: number;\n    }\n\n    export const Component = () => {\n\n        const [ls, setLs] = useState<LocalState>({\n            mode: 'set',\n            req: null,\n        });\n        const invalidate = () => setLs({ ...ls });\n\n        const [screen, setScreen] = useState<ScreenBean>({ adjLeft: 0, adjTop: 0, rate: 1 });\n        const ref = useRef<null | HTMLDivElement>(null);\n\n        const update = () => {\n            if (ref.current != null) {\n                // const [clientWidth, clientHeight] = [window.innerWidth, window.innerHeight];\n\n                const rect = ref.current.getBoundingClientRect();\n                const [clientWidth, clientHeight] = [rect.width, rect.height];\n\n                const cw = SystemUtil.CONTENTS_WIDTH;\n                const ch = SystemUtil.CONTENTS_HEIGHT;\n\n                const isFitSide = clientHeight / ch > clientWidth / cw;\n\n                const rate = !isFitSide ? clientHeight / ch : clientWidth / cw;\n                const adjLeft = !isFitSide ? clientWidth / 2 - (cw * rate / 2) : 0;\n                const adjTop = !isFitSide ? 0 : clientHeight / 2 - (ch * rate / 2);\n\n                setScreen({ adjLeft, adjTop, rate });\n            }\n        }\n\n        window.addEventListener('DOMContentLoaded', () => {\n            if (!SystemUtil.isSmartPhone()) {\n                window.addEventListener('resize', update);\n            } else {\n                window.addEventListener('orientationchange resize', update);\n            }\n        });\n\n        // window.onorientationchange = () => {\n        //   setOrientation(window.orientation);\n        // }\n\n        useEffect(() => update(), []);\n\n        const setterFrame = (\n            <SetterFrame.Component isVisible={ls.mode === 'set'} start={(req) => {\n                ls.req = req;\n                ls.mode = 'play';\n                invalidate();\n            }} />\n        );\n\n        return (\n            <_Wrap ref={ref}>\n                <_Frame left={screen.adjLeft} top={screen.adjTop} rate={screen.rate}>\n                    <_Contents>\n                        {(() => {\n                            switch (ls.mode) {\n                                case 'set': return setterFrame\n                                case 'play': {\n                                    assert(ls.req != null, 'ls.reqnull');\n                                    return <>{setterFrame}<PlayerFrame.Component req={ls.req} back={() => {\n                                        ls.mode = 'set';\n                                        invalidate();\n                                    }} /></>;\n                                }\n                            }\n                        })()}\n                    </_Contents>\n                </_Frame>\n            </_Wrap>\n        );\n    }\n\n}\n\nexport default SystemEntry;\n\n\nconst _Wrap = styled.div`\n  display: inline-block;\n  position: relative;\n  /* width: calc(100% - 10px);\n  height: calc(100% - 10px);\n  background-color: #9eadc9;\n  margin: 5px 0 0 5px; */\n  width: 100%;\n  height: 100%;\n`;\n\nconst _Frame = styled.div<{\n    left: number;\n    top: number;\n    rate: number;\n}>`\n  display: inline-block;\n  position: absolute;\n  top: ${props => props.top}px;\n  left: ${props => props.left}px;\n  transform-origin: top left;\n  /* width: 100%;\n  height: 100%; */\n  transform: scale(${props => props.rate});\n`;\n\nconst _Contents = styled.div`\n  display: inline-block;\n  width: ${SystemUtil.CONTENTS_WIDTH}px;\n  height: ${SystemUtil.CONTENTS_HEIGHT}px;\n  background-color: #929292;\n`;","import React, { useEffect } from 'react';\nimport SystemEntry from './system/contents/entry/systemEntry';\n\nfunction App() {\n\n  useEffect(() => {\n    // \n    document.oncontextmenu = function () { return false; }\n\n    // window.addEventListener(\"keydown\", function (e) {\n    //   // space and arrow keys\n    //   if ([32, 37, 38, 39, 40].indexOf(e.keyCode) > -1) {\n    //     e.preventDefault();\n    //   }\n    // }, false);\n\n    document.onkeydown = (e) => {\n      // if (!['F5'].includes(e.key)) {\n      //   return false;\n      // }\n      if (e.ctrlKey && ['f', 's'].includes(e.key)) {\n        return false;\n      }\n    }\n\n  }, []);\n  return (\n    <SystemEntry.Component />\n  );\n}\n\nexport default App;\n","import { ReportHandler } from 'web-vitals';\n\nconst reportWebVitals = (onPerfEntry?: ReportHandler) => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\n\nReactDOM.render(\n    <React.StrictMode>\n      <App />\n    </React.StrictMode>\n  ,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}